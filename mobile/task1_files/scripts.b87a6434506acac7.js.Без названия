!function(ae,At){"object"==typeof exports&&"object"==typeof module?module.exports=At():"function"==typeof define&&define.amd?define([],At):"object"==typeof exports?exports.katex=At():ae.katex=At()}(typeof self<"u"?self:this,function(){return function(ae){var At={};function ze(Se){if(At[Se])return At[Se].exports;var $e=At[Se]={i:Se,l:!1,exports:{}};return ae[Se].call($e.exports,$e,$e.exports,ze),$e.l=!0,$e.exports}return ze.m=ae,ze.c=At,ze.d=function(Se,$e,$t){ze.o(Se,$e)||Object.defineProperty(Se,$e,{enumerable:!0,get:$t})},ze.r=function(Se){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Se,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Se,"__esModule",{value:!0})},ze.t=function(Se,$e){if(1&$e&&(Se=ze(Se)),8&$e||4&$e&&"object"==typeof Se&&Se&&Se.__esModule)return Se;var $t=Object.create(null);if(ze.r($t),Object.defineProperty($t,"default",{enumerable:!0,value:Se}),2&$e&&"string"!=typeof Se)for(var le in Se)ze.d($t,le,function(ni){return Se[ni]}.bind(null,le));return $t},ze.n=function(Se){var $e=Se&&Se.__esModule?function(){return Se.default}:function(){return Se};return ze.d($e,"a",$e),$e},ze.o=function(Se,$e){return Object.prototype.hasOwnProperty.call(Se,$e)},ze.p="",ze(ze.s=1)}([function(ae,At,ze){},function(ae,At,ze){"use strict";ze.r(At),ze(0);var Se=function(){function l(d,c,p){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=d,this.start=c,this.end=p}return l.range=function(d,c){return c?d&&d.loc&&c.loc&&d.loc.lexer===c.loc.lexer?new l(d.loc.lexer,d.loc.start,c.loc.end):null:d&&d.loc},l}(),$e=function(){function l(d,c){this.text=void 0,this.loc=void 0,this.text=d,this.loc=c}return l.prototype.range=function(d,c){return new l(c,Se.range(this,d))},l}(),$t=function l(d,c){this.position=void 0;var p,_="KaTeX parse error: "+d,E=c&&c.loc;if(E&&E.start<=E.end){var C=E.lexer.input,D=E.end;_+=(p=E.start)===C.length?" at end of input: ":" at position "+(p+1)+": ";var z=C.slice(p,D).replace(/[^]/g,"$&\u0332");_+=(p>15?"\u2026"+C.slice(p-15,p):C.slice(0,p))+z+(D+15<C.length?C.slice(D,D+15)+"\u2026":C.slice(D))}var j=new Error(_);return j.name="ParseError",j.__proto__=l.prototype,j.position=p,j};$t.prototype.__proto__=Error.prototype;var le=$t,ni=/([A-Z])/g,ii={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Jt=/[&><"']/g,Qe=function l(d){return"ordgroup"===d.type||"color"===d.type?1===d.body.length?l(d.body[0]):d:"font"===d.type?l(d.body):d},re_contains=function(l,d){return-1!==l.indexOf(d)},re_deflt=function(l,d){return void 0===l?d:l},re_escape=function(l){return String(l).replace(Jt,function(d){return ii[d]})},re_hyphenate=function(l){return l.replace(ni,"-$1").toLowerCase()},re_getBaseElem=Qe,re_isCharacterBox=function(l){var d=Qe(l);return"mathord"===d.type||"textord"===d.type||"atom"===d.type},Re=function(){function l(c){this.displayMode=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.allowedProtocols=void 0,this.displayMode=re_deflt((c=c||{}).displayMode,!1),this.leqno=re_deflt(c.leqno,!1),this.fleqn=re_deflt(c.fleqn,!1),this.throwOnError=re_deflt(c.throwOnError,!0),this.errorColor=re_deflt(c.errorColor,"#cc0000"),this.macros=c.macros||{},this.colorIsTextColor=re_deflt(c.colorIsTextColor,!1),this.strict=re_deflt(c.strict,"warn"),this.maxSize=Math.max(0,re_deflt(c.maxSize,1/0)),this.maxExpand=Math.max(0,re_deflt(c.maxExpand,1e3)),this.allowedProtocols=re_deflt(c.allowedProtocols,["http","https","mailto","_relative"])}var d=l.prototype;return d.reportNonstrict=function(c,p,_){var E=this.strict;if("function"==typeof E&&(E=E(c,p,_)),E&&"ignore"!==E){if(!0===E||"error"===E)throw new le("LaTeX-incompatible input and strict mode is set to 'error': "+p+" ["+c+"]",_);"warn"===E?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+p+" ["+c+"]"):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+E+"': "+p+" ["+c+"]")}},d.useStrictBehavior=function(c,p,_){var E=this.strict;if("function"==typeof E)try{E=E(c,p,_)}catch{E="error"}return!(!E||"ignore"===E||!0!==E&&"error"!==E&&("warn"===E?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+p+" ["+c+"]"),1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+E+"': "+p+" ["+c+"]"),1)))},l}(),Kt=function(){function l(c,p,_){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=c,this.size=p,this.cramped=_}var d=l.prototype;return d.sup=function(){return Zt[Dt[this.id]]},d.sub=function(){return Zt[Hi[this.id]]},d.fracNum=function(){return Zt[ji[this.id]]},d.fracDen=function(){return Zt[Yn[this.id]]},d.cramp=function(){return Zt[Nt[this.id]]},d.text=function(){return Zt[vn[this.id]]},d.isTight=function(){return this.size>=2},l}(),Zt=[new Kt(0,0,!1),new Kt(1,0,!0),new Kt(2,1,!1),new Kt(3,1,!0),new Kt(4,2,!1),new Kt(5,2,!0),new Kt(6,3,!1),new Kt(7,3,!0)],Dt=[4,5,4,5,6,7,6,7],Hi=[5,5,5,5,7,7,7,7],ji=[2,3,4,5,6,7,6,7],Yn=[3,3,5,5,7,7,7,7],Nt=[1,1,3,3,5,5,7,7],vn=[0,1,2,3,2,3,2,3],ie={DISPLAY:Zt[0],TEXT:Zt[2],SCRIPT:Zt[4],SCRIPTSCRIPT:Zt[6]},Ie=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],we=[];function mt(l){for(var d=0;d<we.length;d+=2)if(l>=we[d]&&l<=we[d+1])return!0;return!1}Ie.forEach(function(l){return l.blocks.forEach(function(d){return we.push.apply(we,d)})});var Sn={path:{sqrtMain:"M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,\n-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,\n-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,\n35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,\n-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467\ns-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422\ns-65,47,-65,47z M834 80H400000v40H845z",sqrtSize1:"M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,\n158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067\nc4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,\n175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71\nc-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,\n-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26\ns76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z",sqrtSize2:"M1001,80H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,\n572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,\n-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39\nc-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60\ns208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,\n-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5c4,-6.7,10,-10,18,-10z\nM1001 80H400000v40H1013z",sqrtSize3:"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z",sqrtSize4:"M473,2793c339.3,-1799.3,509.3,-2700,510,-2702\nc3.3,-7.3,9.3,-11,18,-11H400000v40H1017.7s-90.5,478,-276.2,1466c-185.7,988,\n-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,\n-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200c0,-1.3,-5.3,8.7,-16,30c-10.7,\n21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26s76,-153,76,-153s77,-151,\n77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,606z\nM1001 80H400000v40H1017z",doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"}},kn=function(){function l(c){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=c,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var d=l.prototype;return d.hasClass=function(c){return re_contains(this.classes,c)},d.toNode=function(){for(var c=document.createDocumentFragment(),p=0;p<this.children.length;p++)c.appendChild(this.children[p].toNode());return c},d.toMarkup=function(){for(var c="",p=0;p<this.children.length;p++)c+=this.children[p].toMarkup();return c},d.toText=function(){return this.children.map(function(p){return p.toText()}).join("")},l}(),Qn=function(l){return l.filter(function(d){return d}).join(" ")},Vi=function(l,d,c){if(this.classes=l||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=c||{},d){d.style.isTight()&&this.classes.push("mtight");var p=d.getColor();p&&(this.style.color=p)}},ri=function(l){var d=document.createElement(l);for(var c in d.className=Qn(this.classes),this.style)this.style.hasOwnProperty(c)&&(d.style[c]=this.style[c]);for(var p in this.attributes)this.attributes.hasOwnProperty(p)&&d.setAttribute(p,this.attributes[p]);for(var _=0;_<this.children.length;_++)d.appendChild(this.children[_].toNode());return d},qr=function(l){var d="<"+l;this.classes.length&&(d+=' class="'+re_escape(Qn(this.classes))+'"');var c="";for(var p in this.style)this.style.hasOwnProperty(p)&&(c+=re_hyphenate(p)+":"+this.style[p]+";");for(var _ in c&&(d+=' style="'+re_escape(c)+'"'),this.attributes)this.attributes.hasOwnProperty(_)&&(d+=" "+_+'="'+re_escape(this.attributes[_])+'"');d+=">";for(var E=0;E<this.children.length;E++)d+=this.children[E].toMarkup();return d+"</"+l+">"},$n=function(){function l(c,p,_,E){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Vi.call(this,c,_,E),this.children=p||[]}var d=l.prototype;return d.setAttribute=function(c,p){this.attributes[c]=p},d.hasClass=function(c){return re_contains(this.classes,c)},d.toNode=function(){return ri.call(this,"span")},d.toMarkup=function(){return qr.call(this,"span")},l}(),Wi=function(){function l(c,p,_,E){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Vi.call(this,p,E),this.children=_||[],this.setAttribute("href",c)}var d=l.prototype;return d.setAttribute=function(c,p){this.attributes[c]=p},d.hasClass=function(c){return re_contains(this.classes,c)},d.toNode=function(){return ri.call(this,"a")},d.toMarkup=function(){return qr.call(this,"a")},l}(),Pi={\u00ee:"\u0131\u0302",\u00ef:"\u0131\u0308",\u00ed:"\u0131\u0301",\u00ec:"\u0131\u0300"},In=function(){function l(c,p,_,E,C,D,z,j){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=c,this.height=p||0,this.depth=_||0,this.italic=E||0,this.skew=C||0,this.width=D||0,this.classes=z||[],this.style=j||{},this.maxFontSize=0;var X=function(ee){for(var Z=0;Z<Ie.length;Z++)for(var ue=Ie[Z],fe=0;fe<ue.blocks.length;fe++){var ge=ue.blocks[fe];if(ee>=ge[0]&&ee<=ge[1])return ue.name}return null}(this.text.charCodeAt(0));X&&this.classes.push(X+"_fallback"),/[\xee\xef\xed\xec]/.test(this.text)&&(this.text=Pi[this.text])}var d=l.prototype;return d.hasClass=function(c){return re_contains(this.classes,c)},d.toNode=function(){var c=document.createTextNode(this.text),p=null;for(var _ in this.italic>0&&((p=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((p=p||document.createElement("span")).className=Qn(this.classes)),this.style)this.style.hasOwnProperty(_)&&((p=p||document.createElement("span")).style[_]=this.style[_]);return p?(p.appendChild(c),p):c},d.toMarkup=function(){var c=!1,p="<span";this.classes.length&&(c=!0,p+=' class="',p+=re_escape(Qn(this.classes)),p+='"');var _="";for(var E in this.italic>0&&(_+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(E)&&(_+=re_hyphenate(E)+":"+this.style[E]+";");_&&(c=!0,p+=' style="'+re_escape(_)+'"');var C=re_escape(this.text);return c?(p+=">",p+=C,p+="</span>"):C},l}(),jt=function(){function l(c,p){this.children=void 0,this.attributes=void 0,this.children=c||[],this.attributes=p||{}}var d=l.prototype;return d.toNode=function(){var c=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var p in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,p)&&c.setAttribute(p,this.attributes[p]);for(var _=0;_<this.children.length;_++)c.appendChild(this.children[_].toNode());return c},d.toMarkup=function(){var c="<svg";for(var p in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,p)&&(c+=" "+p+"='"+this.attributes[p]+"'");c+=">";for(var _=0;_<this.children.length;_++)c+=this.children[_].toMarkup();return c+"</svg>"},l}(),bi=function(){function l(c,p){this.pathName=void 0,this.alternate=void 0,this.pathName=c,this.alternate=p}var d=l.prototype;return d.toNode=function(){var c=document.createElementNS("http://www.w3.org/2000/svg","path");return c.setAttribute("d",this.alternate?this.alternate:Sn.path[this.pathName]),c},d.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+Sn.path[this.pathName]+"'/>"},l}(),_i=function(){function l(c){this.attributes=void 0,this.attributes=c||{}}var d=l.prototype;return d.toNode=function(){var c=document.createElementNS("http://www.w3.org/2000/svg","line");for(var p in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,p)&&c.setAttribute(p,this.attributes[p]);return c},d.toMarkup=function(){var c="<line";for(var p in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,p)&&(c+=" "+p+"='"+this.attributes[p]+"'");return c+"/>"},l}(),Ti={"AMS-Regular":{65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473]},"Fraktur-Regular":{33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],163:[0,.69444,0,0,.86853],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],163:[0,.69444,0,0,.76909],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],305:[0,.43056,0,.02778,.32246],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],567:[.19444,.43056,0,.08334,.38403],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,1],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.67,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.744,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.744,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333]},"Math-Italic":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"Math-Regular":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"SansSerif-Bold":{33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212]},"Size1-Regular":{40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},fi={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2]},Oi={\u00c5:"A",\u00c7:"C",\u00d0:"D",\u00de:"o",\u00e5:"a",\u00e7:"c",\u00f0:"d",\u00fe:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041a:"K",\u041b:"N",\u041c:"M",\u041d:"H",\u041e:"O",\u041f:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042a:"B",\u042b:"X",\u042c:"B",\u042d:"3",\u042e:"X",\u042f:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043a:"n",\u043b:"n",\u043c:"m",\u043d:"n",\u043e:"o",\u043f:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044a:"a",\u044b:"m",\u044c:"a",\u044d:"e",\u044e:"m",\u044f:"r"};function xr(l,d,c){if(!Ti[d])throw new Error("Font metrics not found for font: "+d+".");var p=l.charCodeAt(0),_=Ti[d][p];if(!_&&l[0]in Oi&&(p=Oi[l[0]].charCodeAt(0),_=Ti[d][p]),_||"text"!==c||mt(p)&&(_=Ti[d][77]),_)return{depth:_[0],height:_[1],italic:_[2],skew:_[3],width:_[4]}}var Sr={},qe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},wi={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Gi={math:{},text:{}},ct=Gi;function f(l,d,c,p,_,E){Gi[l][_]={font:d,group:c,replace:p},E&&p&&(Gi[l][p]=Gi[l][_])}var x="main",O="ams",J="bin",te="mathord",_e="op-token",R="rel";f("math",x,R,"\u2261","\\equiv",!0),f("math",x,R,"\u227a","\\prec",!0),f("math",x,R,"\u227b","\\succ",!0),f("math",x,R,"\u223c","\\sim",!0),f("math",x,R,"\u22a5","\\perp"),f("math",x,R,"\u2aaf","\\preceq",!0),f("math",x,R,"\u2ab0","\\succeq",!0),f("math",x,R,"\u2243","\\simeq",!0),f("math",x,R,"\u2223","\\mid",!0),f("math",x,R,"\u226a","\\ll",!0),f("math",x,R,"\u226b","\\gg",!0),f("math",x,R,"\u224d","\\asymp",!0),f("math",x,R,"\u2225","\\parallel"),f("math",x,R,"\u22c8","\\bowtie",!0),f("math",x,R,"\u2323","\\smile",!0),f("math",x,R,"\u2291","\\sqsubseteq",!0),f("math",x,R,"\u2292","\\sqsupseteq",!0),f("math",x,R,"\u2250","\\doteq",!0),f("math",x,R,"\u2322","\\frown",!0),f("math",x,R,"\u220b","\\ni",!0),f("math",x,R,"\u221d","\\propto",!0),f("math",x,R,"\u22a2","\\vdash",!0),f("math",x,R,"\u22a3","\\dashv",!0),f("math",x,R,"\u220b","\\owns"),f("math",x,"punct",".","\\ldotp"),f("math",x,"punct","\u22c5","\\cdotp"),f("math",x,"textord","#","\\#"),f("text",x,"textord","#","\\#"),f("math",x,"textord","&","\\&"),f("text",x,"textord","&","\\&"),f("math",x,"textord","\u2135","\\aleph",!0),f("math",x,"textord","\u2200","\\forall",!0),f("math",x,"textord","\u210f","\\hbar",!0),f("math",x,"textord","\u2203","\\exists",!0),f("math",x,"textord","\u2207","\\nabla",!0),f("math",x,"textord","\u266d","\\flat",!0),f("math",x,"textord","\u2113","\\ell",!0),f("math",x,"textord","\u266e","\\natural",!0),f("math",x,"textord","\u2663","\\clubsuit",!0),f("math",x,"textord","\u2118","\\wp",!0),f("math",x,"textord","\u266f","\\sharp",!0),f("math",x,"textord","\u2662","\\diamondsuit",!0),f("math",x,"textord","\u211c","\\Re",!0),f("math",x,"textord","\u2661","\\heartsuit",!0),f("math",x,"textord","\u2111","\\Im",!0),f("math",x,"textord","\u2660","\\spadesuit",!0),f("text",x,"textord","\xa7","\\S",!0),f("text",x,"textord","\xb6","\\P",!0),f("math",x,"textord","\u2020","\\dag"),f("text",x,"textord","\u2020","\\dag"),f("text",x,"textord","\u2020","\\textdagger"),f("math",x,"textord","\u2021","\\ddag"),f("text",x,"textord","\u2021","\\ddag"),f("text",x,"textord","\u2021","\\textdaggerdbl"),f("math",x,"close","\u23b1","\\rmoustache",!0),f("math",x,"open","\u23b0","\\lmoustache",!0),f("math",x,"close","\u27ef","\\rgroup",!0),f("math",x,"open","\u27ee","\\lgroup",!0),f("math",x,J,"\u2213","\\mp",!0),f("math",x,J,"\u2296","\\ominus",!0),f("math",x,J,"\u228e","\\uplus",!0),f("math",x,J,"\u2293","\\sqcap",!0),f("math",x,J,"\u2217","\\ast"),f("math",x,J,"\u2294","\\sqcup",!0),f("math",x,J,"\u25ef","\\bigcirc"),f("math",x,J,"\u2219","\\bullet"),f("math",x,J,"\u2021","\\ddagger"),f("math",x,J,"\u2240","\\wr",!0),f("math",x,J,"\u2a3f","\\amalg"),f("math",x,J,"&","\\And"),f("math",x,R,"\u27f5","\\longleftarrow",!0),f("math",x,R,"\u21d0","\\Leftarrow",!0),f("math",x,R,"\u27f8","\\Longleftarrow",!0),f("math",x,R,"\u27f6","\\longrightarrow",!0),f("math",x,R,"\u21d2","\\Rightarrow",!0),f("math",x,R,"\u27f9","\\Longrightarrow",!0),f("math",x,R,"\u2194","\\leftrightarrow",!0),f("math",x,R,"\u27f7","\\longleftrightarrow",!0),f("math",x,R,"\u21d4","\\Leftrightarrow",!0),f("math",x,R,"\u27fa","\\Longleftrightarrow",!0),f("math",x,R,"\u21a6","\\mapsto",!0),f("math",x,R,"\u27fc","\\longmapsto",!0),f("math",x,R,"\u2197","\\nearrow",!0),f("math",x,R,"\u21a9","\\hookleftarrow",!0),f("math",x,R,"\u21aa","\\hookrightarrow",!0),f("math",x,R,"\u2198","\\searrow",!0),f("math",x,R,"\u21bc","\\leftharpoonup",!0),f("math",x,R,"\u21c0","\\rightharpoonup",!0),f("math",x,R,"\u2199","\\swarrow",!0),f("math",x,R,"\u21bd","\\leftharpoondown",!0),f("math",x,R,"\u21c1","\\rightharpoondown",!0),f("math",x,R,"\u2196","\\nwarrow",!0),f("math",x,R,"\u21cc","\\rightleftharpoons",!0),f("math",O,R,"\u226e","\\nless",!0),f("math",O,R,"\ue010","\\@nleqslant"),f("math",O,R,"\ue011","\\@nleqq"),f("math",O,R,"\u2a87","\\lneq",!0),f("math",O,R,"\u2268","\\lneqq",!0),f("math",O,R,"\ue00c","\\@lvertneqq"),f("math",O,R,"\u22e6","\\lnsim",!0),f("math",O,R,"\u2a89","\\lnapprox",!0),f("math",O,R,"\u2280","\\nprec",!0),f("math",O,R,"\u22e0","\\npreceq",!0),f("math",O,R,"\u22e8","\\precnsim",!0),f("math",O,R,"\u2ab9","\\precnapprox",!0),f("math",O,R,"\u2241","\\nsim",!0),f("math",O,R,"\ue006","\\@nshortmid"),f("math",O,R,"\u2224","\\nmid",!0),f("math",O,R,"\u22ac","\\nvdash",!0),f("math",O,R,"\u22ad","\\nvDash",!0),f("math",O,R,"\u22ea","\\ntriangleleft"),f("math",O,R,"\u22ec","\\ntrianglelefteq",!0),f("math",O,R,"\u228a","\\subsetneq",!0),f("math",O,R,"\ue01a","\\@varsubsetneq"),f("math",O,R,"\u2acb","\\subsetneqq",!0),f("math",O,R,"\ue017","\\@varsubsetneqq"),f("math",O,R,"\u226f","\\ngtr",!0),f("math",O,R,"\ue00f","\\@ngeqslant"),f("math",O,R,"\ue00e","\\@ngeqq"),f("math",O,R,"\u2a88","\\gneq",!0),f("math",O,R,"\u2269","\\gneqq",!0),f("math",O,R,"\ue00d","\\@gvertneqq"),f("math",O,R,"\u22e7","\\gnsim",!0),f("math",O,R,"\u2a8a","\\gnapprox",!0),f("math",O,R,"\u2281","\\nsucc",!0),f("math",O,R,"\u22e1","\\nsucceq",!0),f("math",O,R,"\u22e9","\\succnsim",!0),f("math",O,R,"\u2aba","\\succnapprox",!0),f("math",O,R,"\u2246","\\ncong",!0),f("math",O,R,"\ue007","\\@nshortparallel"),f("math",O,R,"\u2226","\\nparallel",!0),f("math",O,R,"\u22af","\\nVDash",!0),f("math",O,R,"\u22eb","\\ntriangleright"),f("math",O,R,"\u22ed","\\ntrianglerighteq",!0),f("math",O,R,"\ue018","\\@nsupseteqq"),f("math",O,R,"\u228b","\\supsetneq",!0),f("math",O,R,"\ue01b","\\@varsupsetneq"),f("math",O,R,"\u2acc","\\supsetneqq",!0),f("math",O,R,"\ue019","\\@varsupsetneqq"),f("math",O,R,"\u22ae","\\nVdash",!0),f("math",O,R,"\u2ab5","\\precneqq",!0),f("math",O,R,"\u2ab6","\\succneqq",!0),f("math",O,R,"\ue016","\\@nsubseteqq"),f("math",O,J,"\u22b4","\\unlhd"),f("math",O,J,"\u22b5","\\unrhd"),f("math",O,R,"\u219a","\\nleftarrow",!0),f("math",O,R,"\u219b","\\nrightarrow",!0),f("math",O,R,"\u21cd","\\nLeftarrow",!0),f("math",O,R,"\u21cf","\\nRightarrow",!0),f("math",O,R,"\u21ae","\\nleftrightarrow",!0),f("math",O,R,"\u21ce","\\nLeftrightarrow",!0),f("math",O,R,"\u25b3","\\vartriangle"),f("math",O,"textord","\u210f","\\hslash"),f("math",O,"textord","\u25bd","\\triangledown"),f("math",O,"textord","\u25ca","\\lozenge"),f("math",O,"textord","\u24c8","\\circledS"),f("math",O,"textord","\xae","\\circledR"),f("text",O,"textord","\xae","\\circledR"),f("math",O,"textord","\u2221","\\measuredangle",!0),f("math",O,"textord","\u2204","\\nexists"),f("math",O,"textord","\u2127","\\mho"),f("math",O,"textord","\u2132","\\Finv",!0),f("math",O,"textord","\u2141","\\Game",!0),f("math",O,"textord","\u2035","\\backprime"),f("math",O,"textord","\u25b2","\\blacktriangle"),f("math",O,"textord","\u25bc","\\blacktriangledown"),f("math",O,"textord","\u25a0","\\blacksquare"),f("math",O,"textord","\u29eb","\\blacklozenge"),f("math",O,"textord","\u2605","\\bigstar"),f("math",O,"textord","\u2222","\\sphericalangle",!0),f("math",O,"textord","\u2201","\\complement",!0),f("math",O,"textord","\xf0","\\eth",!0),f("math",O,"textord","\u2571","\\diagup"),f("math",O,"textord","\u2572","\\diagdown"),f("math",O,"textord","\u25a1","\\square"),f("math",O,"textord","\u25a1","\\Box"),f("math",O,"textord","\u25ca","\\Diamond"),f("math",O,"textord","\xa5","\\yen",!0),f("text",O,"textord","\xa5","\\yen",!0),f("math",O,"textord","\u2713","\\checkmark",!0),f("text",O,"textord","\u2713","\\checkmark"),f("math",O,"textord","\u2136","\\beth",!0),f("math",O,"textord","\u2138","\\daleth",!0),f("math",O,"textord","\u2137","\\gimel",!0),f("math",O,"textord","\u03dd","\\digamma"),f("math",O,"textord","\u03f0","\\varkappa"),f("math",O,"open","\u250c","\\ulcorner",!0),f("math",O,"close","\u2510","\\urcorner",!0),f("math",O,"open","\u2514","\\llcorner",!0),f("math",O,"close","\u2518","\\lrcorner",!0),f("math",O,R,"\u2266","\\leqq",!0),f("math",O,R,"\u2a7d","\\leqslant",!0),f("math",O,R,"\u2a95","\\eqslantless",!0),f("math",O,R,"\u2272","\\lesssim",!0),f("math",O,R,"\u2a85","\\lessapprox",!0),f("math",O,R,"\u224a","\\approxeq",!0),f("math",O,J,"\u22d6","\\lessdot"),f("math",O,R,"\u22d8","\\lll",!0),f("math",O,R,"\u2276","\\lessgtr",!0),f("math",O,R,"\u22da","\\lesseqgtr",!0),f("math",O,R,"\u2a8b","\\lesseqqgtr",!0),f("math",O,R,"\u2251","\\doteqdot"),f("math",O,R,"\u2253","\\risingdotseq",!0),f("math",O,R,"\u2252","\\fallingdotseq",!0),f("math",O,R,"\u223d","\\backsim",!0),f("math",O,R,"\u22cd","\\backsimeq",!0),f("math",O,R,"\u2ac5","\\subseteqq",!0),f("math",O,R,"\u22d0","\\Subset",!0),f("math",O,R,"\u228f","\\sqsubset",!0),f("math",O,R,"\u227c","\\preccurlyeq",!0),f("math",O,R,"\u22de","\\curlyeqprec",!0),f("math",O,R,"\u227e","\\precsim",!0),f("math",O,R,"\u2ab7","\\precapprox",!0),f("math",O,R,"\u22b2","\\vartriangleleft"),f("math",O,R,"\u22b4","\\trianglelefteq"),f("math",O,R,"\u22a8","\\vDash",!0),f("math",O,R,"\u22aa","\\Vvdash",!0),f("math",O,R,"\u2323","\\smallsmile"),f("math",O,R,"\u2322","\\smallfrown"),f("math",O,R,"\u224f","\\bumpeq",!0),f("math",O,R,"\u224e","\\Bumpeq",!0),f("math",O,R,"\u2267","\\geqq",!0),f("math",O,R,"\u2a7e","\\geqslant",!0),f("math",O,R,"\u2a96","\\eqslantgtr",!0),f("math",O,R,"\u2273","\\gtrsim",!0),f("math",O,R,"\u2a86","\\gtrapprox",!0),f("math",O,J,"\u22d7","\\gtrdot"),f("math",O,R,"\u22d9","\\ggg",!0),f("math",O,R,"\u2277","\\gtrless",!0),f("math",O,R,"\u22db","\\gtreqless",!0),f("math",O,R,"\u2a8c","\\gtreqqless",!0),f("math",O,R,"\u2256","\\eqcirc",!0),f("math",O,R,"\u2257","\\circeq",!0),f("math",O,R,"\u225c","\\triangleq",!0),f("math",O,R,"\u223c","\\thicksim"),f("math",O,R,"\u2248","\\thickapprox"),f("math",O,R,"\u2ac6","\\supseteqq",!0),f("math",O,R,"\u22d1","\\Supset",!0),f("math",O,R,"\u2290","\\sqsupset",!0),f("math",O,R,"\u227d","\\succcurlyeq",!0),f("math",O,R,"\u22df","\\curlyeqsucc",!0),f("math",O,R,"\u227f","\\succsim",!0),f("math",O,R,"\u2ab8","\\succapprox",!0),f("math",O,R,"\u22b3","\\vartriangleright"),f("math",O,R,"\u22b5","\\trianglerighteq"),f("math",O,R,"\u22a9","\\Vdash",!0),f("math",O,R,"\u2223","\\shortmid"),f("math",O,R,"\u2225","\\shortparallel"),f("math",O,R,"\u226c","\\between",!0),f("math",O,R,"\u22d4","\\pitchfork",!0),f("math",O,R,"\u221d","\\varpropto"),f("math",O,R,"\u25c0","\\blacktriangleleft"),f("math",O,R,"\u2234","\\therefore",!0),f("math",O,R,"\u220d","\\backepsilon"),f("math",O,R,"\u25b6","\\blacktriangleright"),f("math",O,R,"\u2235","\\because",!0),f("math",O,R,"\u22d8","\\llless"),f("math",O,R,"\u22d9","\\gggtr"),f("math",O,J,"\u22b2","\\lhd"),f("math",O,J,"\u22b3","\\rhd"),f("math",O,R,"\u2242","\\eqsim",!0),f("math",x,R,"\u22c8","\\Join"),f("math",O,R,"\u2251","\\Doteq",!0),f("math",O,J,"\u2214","\\dotplus",!0),f("math",O,J,"\u2216","\\smallsetminus"),f("math",O,J,"\u22d2","\\Cap",!0),f("math",O,J,"\u22d3","\\Cup",!0),f("math",O,J,"\u2a5e","\\doublebarwedge",!0),f("math",O,J,"\u229f","\\boxminus",!0),f("math",O,J,"\u229e","\\boxplus",!0),f("math",O,J,"\u22c7","\\divideontimes",!0),f("math",O,J,"\u22c9","\\ltimes",!0),f("math",O,J,"\u22ca","\\rtimes",!0),f("math",O,J,"\u22cb","\\leftthreetimes",!0),f("math",O,J,"\u22cc","\\rightthreetimes",!0),f("math",O,J,"\u22cf","\\curlywedge",!0),f("math",O,J,"\u22ce","\\curlyvee",!0),f("math",O,J,"\u229d","\\circleddash",!0),f("math",O,J,"\u229b","\\circledast",!0),f("math",O,J,"\u22c5","\\centerdot"),f("math",O,J,"\u22ba","\\intercal",!0),f("math",O,J,"\u22d2","\\doublecap"),f("math",O,J,"\u22d3","\\doublecup"),f("math",O,J,"\u22a0","\\boxtimes",!0),f("math",O,R,"\u21e2","\\dashrightarrow",!0),f("math",O,R,"\u21e0","\\dashleftarrow",!0),f("math",O,R,"\u21c7","\\leftleftarrows",!0),f("math",O,R,"\u21c6","\\leftrightarrows",!0),f("math",O,R,"\u21da","\\Lleftarrow",!0),f("math",O,R,"\u219e","\\twoheadleftarrow",!0),f("math",O,R,"\u21a2","\\leftarrowtail",!0),f("math",O,R,"\u21ab","\\looparrowleft",!0),f("math",O,R,"\u21cb","\\leftrightharpoons",!0),f("math",O,R,"\u21b6","\\curvearrowleft",!0),f("math",O,R,"\u21ba","\\circlearrowleft",!0),f("math",O,R,"\u21b0","\\Lsh",!0),f("math",O,R,"\u21c8","\\upuparrows",!0),f("math",O,R,"\u21bf","\\upharpoonleft",!0),f("math",O,R,"\u21c3","\\downharpoonleft",!0),f("math",O,R,"\u22b8","\\multimap",!0),f("math",O,R,"\u21ad","\\leftrightsquigarrow",!0),f("math",O,R,"\u21c9","\\rightrightarrows",!0),f("math",O,R,"\u21c4","\\rightleftarrows",!0),f("math",O,R,"\u21a0","\\twoheadrightarrow",!0),f("math",O,R,"\u21a3","\\rightarrowtail",!0),f("math",O,R,"\u21ac","\\looparrowright",!0),f("math",O,R,"\u21b7","\\curvearrowright",!0),f("math",O,R,"\u21bb","\\circlearrowright",!0),f("math",O,R,"\u21b1","\\Rsh",!0),f("math",O,R,"\u21ca","\\downdownarrows",!0),f("math",O,R,"\u21be","\\upharpoonright",!0),f("math",O,R,"\u21c2","\\downharpoonright",!0),f("math",O,R,"\u21dd","\\rightsquigarrow",!0),f("math",O,R,"\u21dd","\\leadsto"),f("math",O,R,"\u21db","\\Rrightarrow",!0),f("math",O,R,"\u21be","\\restriction"),f("math",x,"textord","\u2018","`"),f("math",x,"textord","$","\\$"),f("text",x,"textord","$","\\$"),f("text",x,"textord","$","\\textdollar"),f("math",x,"textord","%","\\%"),f("text",x,"textord","%","\\%"),f("math",x,"textord","_","\\_"),f("text",x,"textord","_","\\_"),f("text",x,"textord","_","\\textunderscore"),f("math",x,"textord","\u2220","\\angle",!0),f("math",x,"textord","\u221e","\\infty",!0),f("math",x,"textord","\u2032","\\prime"),f("math",x,"textord","\u25b3","\\triangle"),f("math",x,"textord","\u0393","\\Gamma",!0),f("math",x,"textord","\u0394","\\Delta",!0),f("math",x,"textord","\u0398","\\Theta",!0),f("math",x,"textord","\u039b","\\Lambda",!0),f("math",x,"textord","\u039e","\\Xi",!0),f("math",x,"textord","\u03a0","\\Pi",!0),f("math",x,"textord","\u03a3","\\Sigma",!0),f("math",x,"textord","\u03a5","\\Upsilon",!0),f("math",x,"textord","\u03a6","\\Phi",!0),f("math",x,"textord","\u03a8","\\Psi",!0),f("math",x,"textord","\u03a9","\\Omega",!0),f("math",x,"textord","A","\u0391"),f("math",x,"textord","B","\u0392"),f("math",x,"textord","E","\u0395"),f("math",x,"textord","Z","\u0396"),f("math",x,"textord","H","\u0397"),f("math",x,"textord","I","\u0399"),f("math",x,"textord","K","\u039a"),f("math",x,"textord","M","\u039c"),f("math",x,"textord","N","\u039d"),f("math",x,"textord","O","\u039f"),f("math",x,"textord","P","\u03a1"),f("math",x,"textord","T","\u03a4"),f("math",x,"textord","X","\u03a7"),f("math",x,"textord","\xac","\\neg",!0),f("math",x,"textord","\xac","\\lnot"),f("math",x,"textord","\u22a4","\\top"),f("math",x,"textord","\u22a5","\\bot"),f("math",x,"textord","\u2205","\\emptyset"),f("math",O,"textord","\u2205","\\varnothing"),f("math",x,te,"\u03b1","\\alpha",!0),f("math",x,te,"\u03b2","\\beta",!0),f("math",x,te,"\u03b3","\\gamma",!0),f("math",x,te,"\u03b4","\\delta",!0),f("math",x,te,"\u03f5","\\epsilon",!0),f("math",x,te,"\u03b6","\\zeta",!0),f("math",x,te,"\u03b7","\\eta",!0),f("math",x,te,"\u03b8","\\theta",!0),f("math",x,te,"\u03b9","\\iota",!0),f("math",x,te,"\u03ba","\\kappa",!0),f("math",x,te,"\u03bb","\\lambda",!0),f("math",x,te,"\u03bc","\\mu",!0),f("math",x,te,"\u03bd","\\nu",!0),f("math",x,te,"\u03be","\\xi",!0),f("math",x,te,"\u03bf","\\omicron",!0),f("math",x,te,"\u03c0","\\pi",!0),f("math",x,te,"\u03c1","\\rho",!0),f("math",x,te,"\u03c3","\\sigma",!0),f("math",x,te,"\u03c4","\\tau",!0),f("math",x,te,"\u03c5","\\upsilon",!0),f("math",x,te,"\u03d5","\\phi",!0),f("math",x,te,"\u03c7","\\chi",!0),f("math",x,te,"\u03c8","\\psi",!0),f("math",x,te,"\u03c9","\\omega",!0),f("math",x,te,"\u03b5","\\varepsilon",!0),f("math",x,te,"\u03d1","\\vartheta",!0),f("math",x,te,"\u03d6","\\varpi",!0),f("math",x,te,"\u03f1","\\varrho",!0),f("math",x,te,"\u03c2","\\varsigma",!0),f("math",x,te,"\u03c6","\\varphi",!0),f("math",x,J,"\u2217","*"),f("math",x,J,"+","+"),f("math",x,J,"\u2212","-"),f("math",x,J,"\u22c5","\\cdot",!0),f("math",x,J,"\u2218","\\circ"),f("math",x,J,"\xf7","\\div",!0),f("math",x,J,"\xb1","\\pm",!0),f("math",x,J,"\xd7","\\times",!0),f("math",x,J,"\u2229","\\cap",!0),f("math",x,J,"\u222a","\\cup",!0),f("math",x,J,"\u2216","\\setminus"),f("math",x,J,"\u2227","\\land"),f("math",x,J,"\u2228","\\lor"),f("math",x,J,"\u2227","\\wedge",!0),f("math",x,J,"\u2228","\\vee",!0),f("math",x,"textord","\u221a","\\surd"),f("math",x,"open","(","("),f("math",x,"open","[","["),f("math",x,"open","\u27e8","\\langle",!0),f("math",x,"open","\u2223","\\lvert"),f("math",x,"open","\u2225","\\lVert"),f("math",x,"close",")",")"),f("math",x,"close","]","]"),f("math",x,"close","?","?"),f("math",x,"close","!","!"),f("math",x,"close","\u27e9","\\rangle",!0),f("math",x,"close","\u2223","\\rvert"),f("math",x,"close","\u2225","\\rVert"),f("math",x,R,"=","="),f("math",x,R,"<","<"),f("math",x,R,">",">"),f("math",x,R,":",":"),f("math",x,R,"\u2248","\\approx",!0),f("math",x,R,"\u2245","\\cong",!0),f("math",x,R,"\u2265","\\ge"),f("math",x,R,"\u2265","\\geq",!0),f("math",x,R,"\u2190","\\gets"),f("math",x,R,">","\\gt"),f("math",x,R,"\u2208","\\in",!0),f("math",x,R,"\ue020","\\@not"),f("math",x,R,"\u2282","\\subset",!0),f("math",x,R,"\u2283","\\supset",!0),f("math",x,R,"\u2286","\\subseteq",!0),f("math",x,R,"\u2287","\\supseteq",!0),f("math",O,R,"\u2288","\\nsubseteq",!0),f("math",O,R,"\u2289","\\nsupseteq",!0),f("math",x,R,"\u22a8","\\models"),f("math",x,R,"\u2190","\\leftarrow",!0),f("math",x,R,"\u2264","\\le"),f("math",x,R,"\u2264","\\leq",!0),f("math",x,R,"<","\\lt"),f("math",x,R,"\u2192","\\rightarrow",!0),f("math",x,R,"\u2192","\\to"),f("math",O,R,"\u2271","\\ngeq",!0),f("math",O,R,"\u2270","\\nleq",!0),f("math",x,"spacing","\xa0","\\ "),f("math",x,"spacing","\xa0","~"),f("math",x,"spacing","\xa0","\\space"),f("math",x,"spacing","\xa0","\\nobreakspace"),f("text",x,"spacing","\xa0","\\ "),f("text",x,"spacing","\xa0","~"),f("text",x,"spacing","\xa0","\\space"),f("text",x,"spacing","\xa0","\\nobreakspace"),f("math",x,"spacing",null,"\\nobreak"),f("math",x,"spacing",null,"\\allowbreak"),f("math",x,"punct",",",","),f("math",x,"punct",";",";"),f("math",O,J,"\u22bc","\\barwedge",!0),f("math",O,J,"\u22bb","\\veebar",!0),f("math",x,J,"\u2299","\\odot",!0),f("math",x,J,"\u2295","\\oplus",!0),f("math",x,J,"\u2297","\\otimes",!0),f("math",x,"textord","\u2202","\\partial",!0),f("math",x,J,"\u2298","\\oslash",!0),f("math",O,J,"\u229a","\\circledcirc",!0),f("math",O,J,"\u22a1","\\boxdot",!0),f("math",x,J,"\u25b3","\\bigtriangleup"),f("math",x,J,"\u25bd","\\bigtriangledown"),f("math",x,J,"\u2020","\\dagger"),f("math",x,J,"\u22c4","\\diamond"),f("math",x,J,"\u22c6","\\star"),f("math",x,J,"\u25c3","\\triangleleft"),f("math",x,J,"\u25b9","\\triangleright"),f("math",x,"open","{","\\{"),f("text",x,"textord","{","\\{"),f("text",x,"textord","{","\\textbraceleft"),f("math",x,"close","}","\\}"),f("text",x,"textord","}","\\}"),f("text",x,"textord","}","\\textbraceright"),f("math",x,"open","{","\\lbrace"),f("math",x,"close","}","\\rbrace"),f("math",x,"open","[","\\lbrack"),f("text",x,"textord","[","\\lbrack"),f("math",x,"close","]","\\rbrack"),f("text",x,"textord","]","\\rbrack"),f("math",x,"open","(","\\lparen"),f("math",x,"close",")","\\rparen"),f("text",x,"textord","<","\\textless"),f("text",x,"textord",">","\\textgreater"),f("math",x,"open","\u230a","\\lfloor",!0),f("math",x,"close","\u230b","\\rfloor",!0),f("math",x,"open","\u2308","\\lceil",!0),f("math",x,"close","\u2309","\\rceil",!0),f("math",x,"textord","\\","\\backslash"),f("math",x,"textord","\u2223","|"),f("math",x,"textord","\u2223","\\vert"),f("text",x,"textord","|","\\textbar"),f("math",x,"textord","\u2225","\\|"),f("math",x,"textord","\u2225","\\Vert"),f("text",x,"textord","\u2225","\\textbardbl"),f("text",x,"textord","~","\\textasciitilde"),f("text",x,"textord","\\","\\textbackslash"),f("text",x,"textord","^","\\textasciicircum"),f("math",x,R,"\u2191","\\uparrow",!0),f("math",x,R,"\u21d1","\\Uparrow",!0),f("math",x,R,"\u2193","\\downarrow",!0),f("math",x,R,"\u21d3","\\Downarrow",!0),f("math",x,R,"\u2195","\\updownarrow",!0),f("math",x,R,"\u21d5","\\Updownarrow",!0),f("math",x,_e,"\u2210","\\coprod"),f("math",x,_e,"\u22c1","\\bigvee"),f("math",x,_e,"\u22c0","\\bigwedge"),f("math",x,_e,"\u2a04","\\biguplus"),f("math",x,_e,"\u22c2","\\bigcap"),f("math",x,_e,"\u22c3","\\bigcup"),f("math",x,_e,"\u222b","\\int"),f("math",x,_e,"\u222b","\\intop"),f("math",x,_e,"\u222c","\\iint"),f("math",x,_e,"\u222d","\\iiint"),f("math",x,_e,"\u220f","\\prod"),f("math",x,_e,"\u2211","\\sum"),f("math",x,_e,"\u2a02","\\bigotimes"),f("math",x,_e,"\u2a01","\\bigoplus"),f("math",x,_e,"\u2a00","\\bigodot"),f("math",x,_e,"\u222e","\\oint"),f("math",x,_e,"\u222f","\\oiint"),f("math",x,_e,"\u2230","\\oiiint"),f("math",x,_e,"\u2a06","\\bigsqcup"),f("math",x,_e,"\u222b","\\smallint"),f("text",x,"inner","\u2026","\\textellipsis"),f("math",x,"inner","\u2026","\\mathellipsis"),f("text",x,"inner","\u2026","\\ldots",!0),f("math",x,"inner","\u2026","\\ldots",!0),f("math",x,"inner","\u22ef","\\@cdots",!0),f("math",x,"inner","\u22f1","\\ddots",!0),f("math",x,"textord","\u22ee","\\varvdots"),f("math",x,"accent-token","\u02ca","\\acute"),f("math",x,"accent-token","\u02cb","\\grave"),f("math",x,"accent-token","\xa8","\\ddot"),f("math",x,"accent-token","~","\\tilde"),f("math",x,"accent-token","\u02c9","\\bar"),f("math",x,"accent-token","\u02d8","\\breve"),f("math",x,"accent-token","\u02c7","\\check"),f("math",x,"accent-token","^","\\hat"),f("math",x,"accent-token","\u20d7","\\vec"),f("math",x,"accent-token","\u02d9","\\dot"),f("math",x,"accent-token","\u02da","\\mathring"),f("math",x,te,"\u0131","\\imath",!0),f("math",x,te,"\u0237","\\jmath",!0),f("text",x,"textord","\u0131","\\i",!0),f("text",x,"textord","\u0237","\\j",!0),f("text",x,"textord","\xdf","\\ss",!0),f("text",x,"textord","\xe6","\\ae",!0),f("text",x,"textord","\xe6","\\ae",!0),f("text",x,"textord","\u0153","\\oe",!0),f("text",x,"textord","\xf8","\\o",!0),f("text",x,"textord","\xc6","\\AE",!0),f("text",x,"textord","\u0152","\\OE",!0),f("text",x,"textord","\xd8","\\O",!0),f("text",x,"accent-token","\u02ca","\\'"),f("text",x,"accent-token","\u02cb","\\`"),f("text",x,"accent-token","\u02c6","\\^"),f("text",x,"accent-token","\u02dc","\\~"),f("text",x,"accent-token","\u02c9","\\="),f("text",x,"accent-token","\u02d8","\\u"),f("text",x,"accent-token","\u02d9","\\."),f("text",x,"accent-token","\u02da","\\r"),f("text",x,"accent-token","\u02c7","\\v"),f("text",x,"accent-token","\xa8",'\\"'),f("text",x,"accent-token","\u02dd","\\H"),f("text",x,"accent-token","\u25ef","\\textcircled");var de={"--":!0,"---":!0,"``":!0,"''":!0};f("text",x,"textord","\u2013","--"),f("text",x,"textord","\u2013","\\textendash"),f("text",x,"textord","\u2014","---"),f("text",x,"textord","\u2014","\\textemdash"),f("text",x,"textord","\u2018","`"),f("text",x,"textord","\u2018","\\textquoteleft"),f("text",x,"textord","\u2019","'"),f("text",x,"textord","\u2019","\\textquoteright"),f("text",x,"textord","\u201c","``"),f("text",x,"textord","\u201c","\\textquotedblleft"),f("text",x,"textord","\u201d","''"),f("text",x,"textord","\u201d","\\textquotedblright"),f("math",x,"textord","\xb0","\\degree",!0),f("text",x,"textord","\xb0","\\degree"),f("text",x,"textord","\xb0","\\textdegree",!0),f("math",x,te,"\xa3","\\pounds"),f("math",x,te,"\xa3","\\mathsterling",!0),f("text",x,te,"\xa3","\\pounds"),f("text",x,te,"\xa3","\\textsterling",!0),f("math",O,"textord","\u2720","\\maltese"),f("text",O,"textord","\u2720","\\maltese"),f("text",x,"spacing","\xa0","\\ "),f("text",x,"spacing","\xa0"," "),f("text",x,"spacing","\xa0","~");for(var Rt=0;Rt<14;Rt++){var pn='0123456789/@."'.charAt(Rt);f("math",x,"textord",pn,pn)}for(var dt=0;dt<30;dt++){var ot='0123456789!@*()-=+[]<>|";:?/.,'.charAt(dt);f("text",x,"textord",ot,ot)}for(var on="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Rn=0;Rn<on.length;Rn++){var en=on.charAt(Rn);f("math",x,te,en,en),f("text",x,"textord",en,en)}f("math",O,"textord","C","\u2102"),f("text",O,"textord","C","\u2102"),f("math",O,"textord","H","\u210d"),f("text",O,"textord","H","\u210d"),f("math",O,"textord","N","\u2115"),f("text",O,"textord","N","\u2115"),f("math",O,"textord","P","\u2119"),f("text",O,"textord","P","\u2119"),f("math",O,"textord","Q","\u211a"),f("text",O,"textord","Q","\u211a"),f("math",O,"textord","R","\u211d"),f("text",O,"textord","R","\u211d"),f("math",O,"textord","Z","\u2124"),f("text",O,"textord","Z","\u2124"),f("math",x,te,"h","\u210e"),f("text",x,te,"h","\u210e");for(var Me="",Vt=0;Vt<on.length;Vt++){var gt=on.charAt(Vt);f("math",x,te,gt,Me=String.fromCharCode(55349,56320+Vt)),f("text",x,"textord",gt,Me),f("math",x,te,gt,Me=String.fromCharCode(55349,56372+Vt)),f("text",x,"textord",gt,Me),f("math",x,te,gt,Me=String.fromCharCode(55349,56424+Vt)),f("text",x,"textord",gt,Me),f("math",x,te,gt,Me=String.fromCharCode(55349,56580+Vt)),f("text",x,"textord",gt,Me),f("math",x,te,gt,Me=String.fromCharCode(55349,56736+Vt)),f("text",x,"textord",gt,Me),f("math",x,te,gt,Me=String.fromCharCode(55349,56788+Vt)),f("text",x,"textord",gt,Me),f("math",x,te,gt,Me=String.fromCharCode(55349,56840+Vt)),f("text",x,"textord",gt,Me),f("math",x,te,gt,Me=String.fromCharCode(55349,56944+Vt)),f("text",x,"textord",gt,Me),Vt<26&&(f("math",x,te,gt,Me=String.fromCharCode(55349,56632+Vt)),f("text",x,"textord",gt,Me),f("math",x,te,gt,Me=String.fromCharCode(55349,56476+Vt)),f("text",x,"textord",gt,Me))}f("math",x,te,"k",Me=String.fromCharCode(55349,56668)),f("text",x,"textord","k",Me);for(var Ce=0;Ce<10;Ce++){var tn=Ce.toString();f("math",x,te,tn,Me=String.fromCharCode(55349,57294+Ce)),f("text",x,"textord",tn,Me),f("math",x,te,tn,Me=String.fromCharCode(55349,57314+Ce)),f("text",x,"textord",tn,Me),f("math",x,te,tn,Me=String.fromCharCode(55349,57324+Ce)),f("text",x,"textord",tn,Me),f("math",x,te,tn,Me=String.fromCharCode(55349,57334+Ce)),f("text",x,"textord",tn,Me)}for(var xt=0;xt<5;xt++){var Wt="\xc7\xd0\xde\xe7\xfe".charAt(xt);f("math",x,te,Wt,Wt),f("text",x,"textord",Wt,Wt)}f("text",x,"textord","\xf0","\xf0"),f("text",x,"textord","\u2013","\u2013"),f("text",x,"textord","\u2014","\u2014"),f("text",x,"textord","\u2018","\u2018"),f("text",x,"textord","\u2019","\u2019"),f("text",x,"textord","\u201c","\u201c"),f("text",x,"textord","\u201d","\u201d");var Bt=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathdefault","textit","Math-Italic"],["mathdefault","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Xi=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],tr=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],nr=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Li=function(l,d){return d.size<2?l:tr[l-1][d.size-1]},Be=function(){function l(c){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this._fontMetrics=void 0,this.style=c.style,this.color=c.color,this.size=c.size||l.BASESIZE,this.textSize=c.textSize||this.size,this.phantom=!!c.phantom,this.font=c.font||"",this.fontFamily=c.fontFamily||"",this.fontWeight=c.fontWeight||"",this.fontShape=c.fontShape||"",this.sizeMultiplier=nr[this.size-1],this.maxSize=c.maxSize,this._fontMetrics=void 0}var d=l.prototype;return d.extend=function(c){var p={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize};for(var _ in c)c.hasOwnProperty(_)&&(p[_]=c[_]);return new l(p)},d.havingStyle=function(c){return this.style===c?this:this.extend({style:c,size:Li(this.textSize,c)})},d.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},d.havingSize=function(c){return this.size===c&&this.textSize===c?this:this.extend({style:this.style.text(),size:c,textSize:c,sizeMultiplier:nr[c-1]})},d.havingBaseStyle=function(c){c=c||this.style.text();var p=Li(l.BASESIZE,c);return this.size===p&&this.textSize===l.BASESIZE&&this.style===c?this:this.extend({style:c,size:p})},d.havingBaseSizing=function(){var c;switch(this.style.id){case 4:case 5:c=3;break;case 6:case 7:c=1;break;default:c=6}return this.extend({style:this.style.text(),size:c})},d.withColor=function(c){return this.extend({color:c})},d.withPhantom=function(){return this.extend({phantom:!0})},d.withFont=function(c){return this.extend({font:c})},d.withTextFontFamily=function(c){return this.extend({fontFamily:c,font:""})},d.withTextFontWeight=function(c){return this.extend({fontWeight:c,font:""})},d.withTextFontShape=function(c){return this.extend({fontShape:c,font:""})},d.sizingClasses=function(c){return c.size!==this.size?["sizing","reset-size"+c.size,"size"+this.size]:[]},d.baseSizingClasses=function(){return this.size!==l.BASESIZE?["sizing","reset-size"+this.size,"size"+l.BASESIZE]:[]},d.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(c){var p;if(!Sr[p=c>=5?0:c>=3?1:2]){var _=Sr[p]={cssEmPerMu:fi.quad[p]/18};for(var E in fi)fi.hasOwnProperty(E)&&(_[E]=fi[E][p])}return Sr[p]}(this.size)),this._fontMetrics},d.getColor=function(){return this.phantom?"transparent":this.color},l}();Be.BASESIZE=6;var Le=Be,Ue={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},Gt={ex:!0,em:!0,mu:!0},Je=function(l,d){var c;if(l.unit in Ue)c=Ue[l.unit]/d.fontMetrics().ptPerEm/d.sizeMultiplier;else if("mu"===l.unit)c=d.fontMetrics().cssEmPerMu;else{var p;if(p=d.style.isTight()?d.havingStyle(d.style.text()):d,"ex"===l.unit)c=p.fontMetrics().xHeight;else{if("em"!==l.unit)throw new le("Invalid unit: '"+l.unit+"'");c=p.fontMetrics().quad}p!==d&&(c*=p.sizeMultiplier/d.sizeMultiplier)}return Math.min(l.number*c,d.maxSize)},ir=["\\imath","\u0131","\\jmath","\u0237","\\pounds","\\mathsterling","\\textsterling","\xa3"],Ki=function(l,d,c){return ct[c][l]&&ct[c][l].replace&&(l=ct[c][l].replace),{value:l,metrics:xr(l,d,c)}},jn=function(l,d,c,p,_){var E,C=Ki(l,d,c),D=C.metrics;if(l=C.value,D){var z=D.italic;("text"===c||p&&"mathit"===p.font)&&(z=0),E=new In(l,D.height,D.depth,z,D.skew,D.width,_)}else typeof console<"u"&&console.warn("No character metrics for '"+l+"' in style '"+d+"'"),E=new In(l,0,0,0,0,0,_);if(p){E.maxFontSize=p.sizeMultiplier,p.style.isTight()&&E.classes.push("mtight");var j=p.getColor();j&&(E.style.color=j)}return E},nu=function(l,d){if(Qn(l.classes)!==Qn(d.classes)||l.skew!==d.skew||l.maxFontSize!==d.maxFontSize)return!1;for(var c in l.style)if(l.style.hasOwnProperty(c)&&l.style[c]!==d.style[c])return!1;for(var p in d.style)if(d.style.hasOwnProperty(p)&&l.style[p]!==d.style[p])return!1;return!0},Ya=function(l){for(var d=0,c=0,p=0,_=0;_<l.children.length;_++){var E=l.children[_];E.height>d&&(d=E.height),E.depth>c&&(c=E.depth),E.maxFontSize>p&&(p=E.maxFontSize)}l.height=d,l.depth=c,l.maxFontSize=p},It=function(l,d,c,p){var _=new $n(l,d,c,p);return Ya(_),_},En=function(l,d,c,p){return new $n(l,d,c,p)},rr=function(l){var d=new kn(l);return Ya(d),d},ar=function(l,d,c){var p="";switch(l){case"amsrm":p="AMS";break;case"textrm":p="Main";break;case"textsf":p="SansSerif";break;case"texttt":p="Typewriter";break;default:p=l}return p+"-"+("textbf"===d&&"textit"===c?"BoldItalic":"textbf"===d?"Bold":"textit"===d?"Italic":"Regular")},Qa={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Mt={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},G={fontMap:Qa,makeSymbol:jn,mathsym:function(l,d,c,p){return void 0===p&&(p=[]),c&&c.font&&"boldsymbol"===c.font&&Ki(l,"Main-Bold",d).metrics?jn(l,"Main-Bold",d,c,p.concat(["mathbf"])):"\\"===l||"main"===ct[d][l].font?jn(l,"Main-Regular",d,c,p):jn(l,"AMS-Regular",d,c,p.concat(["amsrm"]))},makeSpan:It,makeSvgSpan:En,makeLineSpan:function(l,d,c){var p=It([l],[],d);return p.height=c||d.fontMetrics().defaultRuleThickness,p.style.borderBottomWidth=p.height+"em",p.maxFontSize=1,p},makeAnchor:function(l,d,c,p){var _=new Wi(l,d,c,p);return Ya(_),_},makeFragment:rr,wrapFragment:function(l,d){return l instanceof kn?It([],[l],d):l},makeVList:function(l,d){for(var c=function(rt){if("individualShift"===rt.positionType){for(var St=rt.children,cn=[St[0]],H=-St[0].shift-St[0].elem.depth,Ln=H,gi=1;gi<St.length;gi++){var Nr=-St[gi].shift-Ln-St[gi].elem.depth;Ln+=Nr,cn.push({type:"kern",size:Nr-(St[gi-1].elem.height+St[gi-1].elem.depth)}),cn.push(St[gi])}return{children:cn,depth:H}}var dn;if("top"===rt.positionType){for(var Vn=rt.positionData,Ei=0;Ei<rt.children.length;Ei++){var Ci=rt.children[Ei];Vn-="kern"===Ci.type?Ci.size:Ci.elem.height+Ci.elem.depth}dn=Vn}else if("bottom"===rt.positionType)dn=-rt.positionData;else{var Wn=rt.children[0];if("elem"!==Wn.type)throw new Error('First child must have type "elem".');if("shift"===rt.positionType)dn=-Wn.elem.depth-rt.positionData;else{if("firstBaseline"!==rt.positionType)throw new Error("Invalid positionType "+rt.positionType+".");dn=-Wn.elem.depth}}return{children:rt.children,depth:dn}}(l),p=c.children,_=c.depth,E=0,C=0;C<p.length;C++){var D=p[C];if("elem"===D.type){var z=D.elem;E=Math.max(E,z.maxFontSize,z.height)}}E+=2;var j=It(["pstrut"],[]);j.style.height=E+"em";for(var X=[],ee=_,Z=_,ue=_,fe=0;fe<p.length;fe++){var ge=p[fe];if("kern"===ge.type)ue+=ge.size;else{var be=ge.elem,We=It(ge.wrapperClasses||[],[j,be],void 0,ge.wrapperStyle||{});We.style.top=-E-ue-be.depth+"em",ge.marginLeft&&(We.style.marginLeft=ge.marginLeft),ge.marginRight&&(We.style.marginRight=ge.marginRight),X.push(We),ue+=be.height+be.depth}ee=Math.min(ee,ue),Z=Math.max(Z,ue)}var Ge,ut=It(["vlist"],X);if(ut.style.height=Z+"em",ee<0){var Ye=It([],[]),pt=It(["vlist"],[Ye]);pt.style.height=-ee+"em";var it=It(["vlist-s"],[new In("\u200b")]);Ge=[It(["vlist-r"],[ut,it]),It(["vlist-r"],[pt])]}else Ge=[It(["vlist-r"],[ut])];var Xe=It(["vlist-t"],Ge);return 2===Ge.length&&Xe.classes.push("vlist-t2"),Xe.height=Z,Xe.depth=-ee,Xe},makeOrd:function(l,d,c){var p,Ye,_=l.mode,E=l.text,C=["mord"],D="math"===_||"text"===_&&d.font,z=D?d.font:d.fontFamily;if(55349===E.charCodeAt(0)){var j=function(Ye,pt){var it=1024*(Ye.charCodeAt(0)-55296)+(Ye.charCodeAt(1)-56320)+65536,Xe="math"===pt?0:1;if(119808<=it&&it<120484){var rt=Math.floor((it-119808)/26);return[Bt[rt][2],Bt[rt][Xe]]}if(120782<=it&&it<=120831){var St=Math.floor((it-120782)/10);return[Xi[St][2],Xi[St][Xe]]}if(120485===it||120486===it)return[Bt[0][2],Bt[0][Xe]];if(120486<it&&it<120782)return["",""];throw new le("Unsupported character: "+Ye)}(E,_);return jn(E,j[0],_,d,C.concat(j[1]))}if(z){var Z,ue;if("boldsymbol"===z||"mathnormal"===z){var fe="boldsymbol"===z?Ki(E,"Math-BoldItalic",_).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}:re_contains(ir,p=E)?{fontName:"Main-Italic",fontClass:"mathit"}:/[0-9]/.test(p.charAt(0))?{fontName:"Caligraphic-Regular",fontClass:"mathcal"}:{fontName:"Math-Italic",fontClass:"mathdefault"};Z=fe.fontName,ue=[fe.fontClass]}else re_contains(ir,E)?(Z="Main-Italic",ue=["mathit"]):D?(Z=Qa[z].fontName,ue=[z]):(Z=ar(z,d.fontWeight,d.fontShape),ue=[z,d.fontWeight,d.fontShape]);if(Ki(E,Z,_).metrics)return jn(E,Z,_,d,C.concat(ue));if(de.hasOwnProperty(E)&&"Typewriter"===Z.substr(0,10)){for(var ge=[],be=0;be<E.length;be++)ge.push(jn(E[be],Z,_,d,C.concat(ue)));return rr(ge)}}if("mathord"===c){var tt=/[0-9]/.test((Ye=E).charAt(0))||re_contains(ir,Ye)?{fontName:"Main-Italic",fontClass:"mathit"}:{fontName:"Math-Italic",fontClass:"mathdefault"};return jn(E,tt.fontName,_,d,C.concat([tt.fontClass]))}if("textord"===c){var Ve=ct[_][E]&&ct[_][E].font;if("ams"===Ve){var We=ar("amsrm",d.fontWeight,d.fontShape);return jn(E,We,_,d,C.concat("amsrm",d.fontWeight,d.fontShape))}if("main"!==Ve&&Ve){var Ge=ar(Ve,d.fontWeight,d.fontShape);return jn(E,Ge,_,d,C.concat(Ge,d.fontWeight,d.fontShape))}var ut=ar("textrm",d.fontWeight,d.fontShape);return jn(E,ut,_,d,C.concat(d.fontWeight,d.fontShape))}throw new Error("unexpected type: "+c+" in makeOrd")},makeGlue:function(l,d){var c=It(["mspace"],[],d),p=Je(l,d);return c.style.marginRight=p+"em",c},staticSvg:function(l,d){var c=Mt[l],_=c[1],E=c[2],C=new bi(c[0]),D=new jt([C],{width:_+"em",height:E+"em",style:"width:"+_+"em",viewBox:"0 0 "+1e3*_+" "+1e3*E,preserveAspectRatio:"xMinYMin"}),z=En(["overlay"],[D],d);return z.height=E,z.style.height=E+"em",z.style.width=_+"em",z},svgData:Mt,tryCombineChars:function(l){for(var d=0;d<l.length-1;d++){var c=l[d],p=l[d+1];c instanceof In&&p instanceof In&&nu(c,p)&&(c.text+=p.text,c.height=Math.max(c.height,p.height),c.depth=Math.max(c.depth,p.depth),c.italic=p.italic,l.splice(d+1,1),d--)}return l}};function et(l,d){var c=_t(l,d);if(!c)throw new Error("Expected node of type "+d+", but got "+(l?"node of type "+l.type:String(l)));return c}function _t(l,d){return l&&l.type===d?l:null}function kr(l,d){var p,c=(p=l)&&"atom"===p.type&&p.family===d?p:null;if(!c)throw new Error('Expected node of type "atom" and family "'+d+'", but got '+(l?"atom"===l.type?"atom of family "+l.family:"node of type "+l.type:String(l)));return c}function $a(l){return l&&("atom"===l.type||wi.hasOwnProperty(l.type))?l:null}var Pt={number:3,unit:"mu"},Di={number:4,unit:"mu"},ai={number:5,unit:"mu"},qs={mord:{mop:Pt,mbin:Di,mrel:ai,minner:Pt},mop:{mord:Pt,mop:Pt,mrel:ai,minner:Pt},mbin:{mord:Di,mop:Di,mopen:Di,minner:Di},mrel:{mord:ai,mop:ai,mopen:ai,minner:ai},mopen:{},mclose:{mop:Pt,mbin:Di,mrel:ai,minner:Pt},mpunct:{mord:Pt,mop:Pt,mrel:ai,mopen:Pt,mclose:Pt,mpunct:Pt,minner:Pt},minner:{mord:Pt,mop:Pt,mbin:Di,mrel:ai,mopen:Pt,mpunct:Pt,minner:Pt}},Hs={mord:{mop:Pt},mop:{mord:Pt,mop:Pt},mbin:{},mrel:{},mopen:{},mclose:{mop:Pt},mpunct:{},minner:{mop:Pt}},aa={},xi={},si={};function xe(l){for(var d=l.type,c=l.names,p=l.props,E=l.htmlBuilder,C=l.mathmlBuilder,D={type:d,numArgs:p.numArgs,argTypes:p.argTypes,greediness:void 0===p.greediness?1:p.greediness,allowedInText:!!p.allowedInText,allowedInMath:void 0===p.allowedInMath||p.allowedInMath,numOptionalArgs:p.numOptionalArgs||0,infix:!!p.infix,consumeMode:p.consumeMode,handler:l.handler},z=0;z<c.length;++z)aa[c[z]]=D;d&&(E&&(xi[d]=E),C&&(si[d]=C))}function Ni(l){xe({type:l.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:l.htmlBuilder,mathmlBuilder:l.mathmlBuilder})}var bn=function(l){var d=_t(l,"ordgroup");return d?d.body:[l]},Ri=G.makeSpan,sa=["leftmost","mbin","mopen","mrel","mop","mpunct"],nn=["rightmost","mrel","mclose","mpunct"],Ut={display:ie.DISPLAY,text:ie.TEXT,script:ie.SCRIPT,scriptscript:ie.SCRIPTSCRIPT},iu={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Cn=function(l,d,c,p){void 0===p&&(p=[null,null]);for(var _=[],E=0;E<l.length;E++){var C=ht(l[E],d);C instanceof kn?_.push.apply(_,C.children):_.push(C)}if(!c)return _;var z=d;if(1===l.length){var j=_t(l[0],"sizing")||_t(l[0],"styling");j&&("sizing"===j.type?z=d.havingSize(j.size):"styling"===j.type&&(z=d.havingStyle(Ut[j.style])))}var X=Ri([p[0]||"leftmost"],[],d),ee=Ri([p[1]||"rightmost"],[],d);return Pe(_,function(Z,ue){var fe=ue.classes[0],ge=Z.classes[0];"mbin"===fe&&re_contains(nn,ge)?ue.classes[0]="mord":"mbin"===ge&&re_contains(sa,fe)&&(Z.classes[0]="mord")},{node:X},ee),Pe(_,function(Z,ue){var fe=De(ue),ge=De(Z),be=fe&&ge?Z.hasClass("mtight")?Hs[fe][ge]:qs[fe][ge]:null;if(be)return G.makeGlue(be,z)},{node:X},ee),_},Pe=function l(d,c,p,_){_&&d.push(_);for(var E=0;E<d.length;E++){var C=d[E],D=ne(C);if(D)l(D.children,c,p);else if("mspace"!==C.classes[0]){var z=c(C,p.node);z&&(p.insertAfter?p.insertAfter(z):(d.unshift(z),E++)),p.node=C,p.insertAfter=function(j){return function(X){d.splice(j+1,0,X),E++}}(E)}}_&&d.pop()},ne=function(l){return l instanceof kn||l instanceof Wi?l:null},De=function(l,d){return l?(d&&(l=function c(p,_){var E=ne(p);if(E){var C=E.children;if(C.length){if("right"===_)return c(C[C.length-1],"right");if("left"===_)return c(C[0],"left")}}return p}(l,d)),iu[l.classes[0]]||null):null},oe=function(l,d){var c=["nulldelimiter"].concat(l.baseSizingClasses());return Ri(d.concat(c))},ht=function(l,d,c){if(!l)return Ri();if(xi[l.type]){var p=xi[l.type](l,d);if(c&&d.size!==c.size){p=Ri(d.sizingClasses(c),[p],d);var _=d.sizeMultiplier/c.sizeMultiplier;p.height*=_,p.depth*=_}return p}throw new le("Got group of unknown type: '"+l.type+"'")};function Er(l,d){var c=Ri(["base"],l,d),p=Ri(["strut"]);return p.style.height=c.height+c.depth+"em",p.style.verticalAlign=-c.depth+"em",c.children.unshift(p),c}function Yi(l,d){var c=null;1===l.length&&"tag"===l[0].type&&(c=l[0].tag,l=l[0].body);for(var p,_=Cn(l,d,!0),E=[],C=[],D=0;D<_.length;D++)if(C.push(_[D]),_[D].hasClass("mbin")||_[D].hasClass("mrel")||_[D].hasClass("allowbreak")){for(var z=!1;D<_.length-1&&_[D+1].hasClass("mspace")&&!_[D+1].hasClass("newline");)D++,C.push(_[D]),_[D].hasClass("nobreak")&&(z=!0);z||(E.push(Er(C,d)),C=[])}else _[D].hasClass("newline")&&(C.pop(),C.length>0&&(E.push(Er(C,d)),C=[]),E.push(_[D]));C.length>0&&E.push(Er(C,d)),c&&((p=Er(Cn(c,d,!0))).classes=["tag"],E.push(p));var j=Ri(["katex-html"],E);if(j.setAttribute("aria-hidden","true"),p){var X=p.children[0];X.style.height=j.height+j.depth+"em",X.style.verticalAlign=-j.depth+"em"}return j}function Ja(l){return new kn(l)}var Ft=function(){function l(c,p){this.type=void 0,this.attributes=void 0,this.children=void 0,this.type=c,this.attributes={},this.children=p||[]}var d=l.prototype;return d.setAttribute=function(c,p){this.attributes[c]=p},d.getAttribute=function(c){return this.attributes[c]},d.toNode=function(){var c=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var p in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,p)&&c.setAttribute(p,this.attributes[p]);for(var _=0;_<this.children.length;_++)c.appendChild(this.children[_].toNode());return c},d.toMarkup=function(){var c="<"+this.type;for(var p in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,p)&&(c+=" "+p+'="',c+=re_escape(this.attributes[p]),c+='"');c+=">";for(var _=0;_<this.children.length;_++)c+=this.children[_].toMarkup();return c+"</"+this.type+">"},d.toText=function(){return this.children.map(function(c){return c.toText()}).join("")},l}(),Si=function(){function l(c){this.text=void 0,this.text=c}var d=l.prototype;return d.toNode=function(){return document.createTextNode(this.text)},d.toMarkup=function(){return re_escape(this.toText())},d.toText=function(){return this.text},l}(),he={MathNode:Ft,TextNode:Si,SpaceNode:function(){function l(c){this.width=void 0,this.character=void 0,this.width=c,this.character=c>=.05555&&c<=.05556?"\u200a":c>=.1666&&c<=.1667?"\u2009":c>=.2222&&c<=.2223?"\u2005":c>=.2777&&c<=.2778?"\u2005\u200a":c>=-.05556&&c<=-.05555?"\u200a\u2063":c>=-.1667&&c<=-.1666?"\u2009\u2063":c>=-.2223&&c<=-.2222?"\u205f\u2063":c>=-.2778&&c<=-.2777?"\u2005\u2063":null}var d=l.prototype;return d.toNode=function(){if(this.character)return document.createTextNode(this.character);var c=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return c.setAttribute("width",this.width+"em"),c},d.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+this.width+'em"/>'},d.toText=function(){return this.character?this.character:" "},l}(),newDocumentFragment:Ja},Mn=function(l,d,c){return!ct[d][l]||!ct[d][l].replace||55349===l.charCodeAt(0)||de.hasOwnProperty(l)&&c&&(c.fontFamily&&"tt"===c.fontFamily.substr(4,2)||c.font&&"tt"===c.font.substr(4,2))||(l=ct[d][l].replace),new he.TextNode(l)},oi=function(l){return 1===l.length?l[0]:new he.MathNode("mrow",l)},oa=function(l,d){if("texttt"===d.fontFamily)return"monospace";if("textsf"===d.fontFamily)return"textit"===d.fontShape&&"textbf"===d.fontWeight?"sans-serif-bold-italic":"textit"===d.fontShape?"sans-serif-italic":"textbf"===d.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===d.fontShape&&"textbf"===d.fontWeight)return"bold-italic";if("textit"===d.fontShape)return"italic";if("textbf"===d.fontWeight)return"bold";var c=d.font;if(!c||"mathnormal"===c)return null;var p=l.mode;if("mathit"===c)return"italic";if("boldsymbol"===c)return"bold-italic";var _=l.text;return re_contains(["\\imath","\\jmath"],_)?null:(ct[p][_]&&ct[p][_].replace&&(_=ct[p][_].replace),xr(_,G.fontMap[c].fontName,p)?G.fontMap[c].variant:null)},ui=function(l,d){for(var c,p=[],_=0;_<l.length;_++){var E=zt(l[_],d);if(E instanceof Ft&&c instanceof Ft){if("mtext"===E.type&&"mtext"===c.type&&E.getAttribute("mathvariant")===c.getAttribute("mathvariant")){var C;(C=c.children).push.apply(C,E.children);continue}if("mn"===E.type&&"mn"===c.type){var D;(D=c.children).push.apply(D,E.children);continue}if("mi"===E.type&&1===E.children.length&&"mn"===c.type){var z=E.children[0];if(z instanceof Si&&"."===z.text){var j;(j=c.children).push.apply(j,E.children);continue}}else if("mi"===c.type&&1===c.children.length){var X=c.children[0];if(X instanceof Si&&"\u0338"===X.text&&("mo"===E.type||"mi"===E.type||"mn"===E.type)){var ee=E.children[0];ee instanceof Si&&ee.text.length>0&&(ee.text=ee.text.slice(0,1)+"\u0338"+ee.text.slice(1),p.pop())}}}p.push(E),c=E}return p},sr=function(l,d){return oi(ui(l,d))},zt=function(l,d){if(!l)return new he.MathNode("mrow");if(si[l.type])return si[l.type](l,d);throw new le("Got group of unknown type: '"+l.type+"'")},or=function(l){return new Le({style:l.displayMode?ie.DISPLAY:ie.TEXT,maxSize:l.maxSize})},Za=function(l,d){if(d.displayMode){var c=["katex-display"];d.leqno&&c.push("leqno"),d.fleqn&&c.push("fleqn"),l=G.makeSpan(c,[l])}return l},es={widehat:"^",widecheck:"\u02c7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23df",overbrace:"\u23de",overgroup:"\u23e0",undergroup:"\u23e1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21d2",xRightarrow:"\u21d2",overleftharpoon:"\u21bc",xleftharpoonup:"\u21bc",overrightharpoon:"\u21c0",xrightharpoonup:"\u21c0",xLeftarrow:"\u21d0",xLeftrightarrow:"\u21d4",xhookleftarrow:"\u21a9",xhookrightarrow:"\u21aa",xmapsto:"\u21a6",xrightharpoondown:"\u21c1",xleftharpoondown:"\u21bd",xrightleftharpoons:"\u21cc",xleftrightharpoons:"\u21cb",xtwoheadleftarrow:"\u219e",xtwoheadrightarrow:"\u21a0",xlongequal:"=",xtofrom:"\u21c4",xrightleftarrows:"\u21c4",xrightequilibrium:"\u21cc",xleftequilibrium:"\u21cb"},ts={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Ar=function(l){var d=new he.MathNode("mo",[new he.TextNode(es[l.substr(1)])]);return d.setAttribute("stretchy","true"),d},ur=function(l,d){var c=function(){var C=4e5,D=l.label.substr(1);if(re_contains(["widehat","widecheck","widetilde","utilde"],D)){var z,j,X,ee=function(l){return"ordgroup"===l.type?l.body.length:1}(l.base);if(ee>5)"widehat"===D||"widecheck"===D?(z=420,C=2364,X=.42,j=D+"4"):(z=312,C=2340,X=.34,j="tilde4");else{var Z=[1,1,2,2,3,3][ee];"widehat"===D||"widecheck"===D?(C=[0,1062,2364,2364,2364][Z],z=[0,239,300,360,420][Z],X=[0,.24,.3,.3,.36,.42][Z],j=D+Z):(C=[0,600,1033,2339,2340][Z],z=[0,260,286,306,312][Z],X=[0,.26,.286,.3,.306,.34][Z],j="tilde"+Z)}var ue=new bi(j),fe=new jt([ue],{width:"100%",height:X+"em",viewBox:"0 0 "+C+" "+z,preserveAspectRatio:"none"});return{span:G.makeSvgSpan([],[fe],d),minWidth:0,height:X}}var ge,be,tt=[],Ve=ts[D],We=Ve[0],Ge=Ve[1],ut=Ve[2],Ye=ut/1e3,pt=We.length;if(1===pt)ge=["hide-tail"],be=[Ve[3]];else if(2===pt)ge=["halfarrow-left","halfarrow-right"],be=["xMinYMin","xMaxYMin"];else{if(3!==pt)throw new Error("Correct katexImagesData or update code here to support\n                    "+pt+" children.");ge=["brace-left","brace-center","brace-right"],be=["xMinYMin","xMidYMin","xMaxYMin"]}for(var it=0;it<pt;it++){var Xe=new bi(We[it]),rt=new jt([Xe],{width:"400em",height:Ye+"em",viewBox:"0 0 "+C+" "+ut,preserveAspectRatio:be[it]+" slice"}),St=G.makeSvgSpan([ge[it]],[rt],d);if(1===pt)return{span:St,minWidth:Ge,height:Ye};St.style.height=Ye+"em",tt.push(St)}return{span:G.makeSpan(["stretchy"],tt,d),minWidth:Ge,height:Ye}}(),p=c.span,_=c.minWidth,E=c.height;return p.height=E,p.style.height=E+"em",_>0&&(p.style.minWidth=_+"em"),p},ua=function(l,d){var c,p,_,E=_t(l,"supsub");E?(c=(p=et(E.base,"accent")).base,E.base=c,_=function(be){if(be instanceof $n)return be;throw new Error("Expected span<HtmlDomNode> but got "+String(be)+".")}(ht(E,d)),E.base=p):c=(p=et(l,"accent")).base;var C=ht(c,d.havingCrampedStyle()),D=0;if(p.isShifty&&re_isCharacterBox(c)){var z=re_getBaseElem(c);D=function(be){if(be instanceof In)return be;throw new Error("Expected symbolNode but got "+String(be)+".")}(ht(z,d.havingCrampedStyle())).skew}var j,X=Math.min(C.height,d.fontMetrics().xHeight);if(p.isStretchy)j=ur(p,d),j=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:C},{type:"elem",elem:j,wrapperClasses:["svg-align"],wrapperStyle:D>0?{width:"calc(100% - "+2*D+"em)",marginLeft:2*D+"em"}:void 0}]},d);else{var ee,Z;"\\vec"===p.label?(ee=G.staticSvg("vec",d),Z=G.svgData.vec[1]):((ee=G.makeSymbol(p.label,"Main-Regular",p.mode,d)).italic=0,Z=ee.width),j=G.makeSpan(["accent-body"],[ee]);var ue="\\textcircled"===p.label;ue&&(j.classes.push("accent-full"),X=C.height);var fe=D;ue||(fe-=Z/2),j.style.left=fe+"em","\\textcircled"===p.label&&(j.style.top=".2em"),j=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:C},{type:"kern",size:-X},{type:"elem",elem:j}]},d)}var ge=G.makeSpan(["mord","accent"],[j],d);return _?(_.children[0]=ge,_.height=Math.max(ge.height,_.height),_.classes[0]="mord",_):ge},Vs=function(l,d){var c=l.isStretchy?Ar(l.label):new he.MathNode("mo",[Mn(l.label,l.mode)]),p=new he.MathNode("mover",[zt(l.base,d),c]);return p.setAttribute("accent","true"),p},ru=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(l){return"\\"+l}).join("|"));xe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(l,d){var c=d[0],p=!ru.test(l.funcName);return{type:"accent",mode:l.parser.mode,label:l.funcName,isStretchy:p,isShifty:!p||"\\widehat"===l.funcName||"\\widetilde"===l.funcName||"\\widecheck"===l.funcName,base:c}},htmlBuilder:ua,mathmlBuilder:Vs}),xe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!1},handler:function(l,d){return{type:"accent",mode:l.parser.mode,label:l.funcName,isStretchy:!1,isShifty:!0,base:d[0]}},htmlBuilder:ua,mathmlBuilder:Vs}),xe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(l,d){return{type:"accentUnder",mode:l.parser.mode,label:l.funcName,base:d[0]}},htmlBuilder:function(l,d){var c=ht(l.base,d),p=ur(l,d),_="\\utilde"===l.label?.12:0,E=G.makeVList({positionType:"bottom",positionData:p.height+_,children:[{type:"elem",elem:p,wrapperClasses:["svg-align"]},{type:"kern",size:_},{type:"elem",elem:c}]},d);return G.makeSpan(["mord","accentunder"],[E],d)},mathmlBuilder:function(l,d){var c=Ar(l.label),p=new he.MathNode("munder",[zt(l.base,d),c]);return p.setAttribute("accentunder","true"),p}});var la=function(l){var d=new he.MathNode("mpadded",l?[l]:[]);return d.setAttribute("width","+0.6em"),d.setAttribute("lspace","0.3em"),d};xe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium"],props:{numArgs:1,numOptionalArgs:1},handler:function(l,d,c){return{type:"xArrow",mode:l.parser.mode,label:l.funcName,body:d[0],below:c[0]}},htmlBuilder:function(l,d){var c,p=d.style,_=d.havingStyle(p.sup()),E=G.wrapFragment(ht(l.body,_,d),d);E.classes.push("x-arrow-pad"),l.below&&(_=d.havingStyle(p.sub()),(c=G.wrapFragment(ht(l.below,_,d),d)).classes.push("x-arrow-pad"));var C,D=ur(l,d),z=-d.fontMetrics().axisHeight+.5*D.height,j=-d.fontMetrics().axisHeight-.5*D.height-.111;if((E.depth>.25||"\\xleftequilibrium"===l.label)&&(j-=E.depth),c){var X=-d.fontMetrics().axisHeight+c.height+.5*D.height+.111;C=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:E,shift:j},{type:"elem",elem:D,shift:z},{type:"elem",elem:c,shift:X}]},d)}else C=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:E,shift:j},{type:"elem",elem:D,shift:z}]},d);return C.children[0].children[0].children[1].classes.push("svg-align"),G.makeSpan(["mrel","x-arrow"],[C],d)},mathmlBuilder:function(l,d){var c,p=Ar(l.label);if(l.body){var _=la(zt(l.body,d));if(l.below){var E=la(zt(l.below,d));c=new he.MathNode("munderover",[p,E,_])}else c=new he.MathNode("mover",[p,_])}else if(l.below){var C=la(zt(l.below,d));c=new he.MathNode("munder",[p,C])}else c=la(),c=new he.MathNode("mover",[p,c]);return c}}),xe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(l,d){for(var c=l.parser,p=et(d[0],"ordgroup").body,_="",E=0;E<p.length;E++)_+=et(p[E],"textord").text;var C=parseInt(_);if(isNaN(C))throw new le("\\@char has non-numeric argument "+_);return{type:"textord",mode:c.mode,text:String.fromCharCode(C)}}});var is=function(l,d){var c=Cn(l.body,d.withColor(l.color),!1);return G.makeFragment(c)},Jn=function(l,d){var c=ui(l.body,d.withColor(l.color)),p=new he.MathNode("mstyle",c);return p.setAttribute("mathcolor",l.color),p};xe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"]},handler:function(l,d){var c=l.parser,p=et(d[0],"color-token").color;return{type:"color",mode:c.mode,color:p,body:bn(d[1])}},htmlBuilder:is,mathmlBuilder:Jn}),xe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,greediness:3,argTypes:["color"]},handler:function(l,d){var c=l.parser,p=l.breakOnTokenText,_=et(d[0],"color-token").color,E=c.parseExpression(!0,p);return{type:"color",mode:c.mode,color:_,body:E}},htmlBuilder:is,mathmlBuilder:Jn}),xe({type:"cr",names:["\\cr","\\newline"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(l,d,c){var p=l.parser,E=c[0],C="\\cr"===l.funcName,D=!1;return C||(D=!p.settings.displayMode||!p.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode")),{type:"cr",mode:p.mode,newLine:D,newRow:C,size:E&&et(E,"size").value}},htmlBuilder:function(l,d){if(l.newRow)throw new le("\\cr valid only within a tabular/array environment");var c=G.makeSpan(["mspace"],[],d);return l.newLine&&(c.classes.push("newline"),l.size&&(c.style.marginTop=Je(l.size,d)+"em")),c},mathmlBuilder:function(l,d){var c=new he.MathNode("mspace");return l.newLine&&(c.setAttribute("linebreak","newline"),l.size&&c.setAttribute("height",Je(l.size,d)+"em")),c}});var Hr=function(l,d,c){var p=xr(ct.math[l]&&ct.math[l].replace||l,d,c);if(!p)throw new Error("Unsupported symbol "+l+" and font size "+d+".");return p},rs=function(l,d,c,p){var _=c.havingBaseStyle(d),E=G.makeSpan(p.concat(_.sizingClasses(c)),[l],c),C=_.sizeMultiplier/c.sizeMultiplier;return E.height*=C,E.depth*=C,E.maxFontSize=_.sizeMultiplier,E},Ws=function(l,d,c){var p=d.havingBaseStyle(c),_=(1-d.sizeMultiplier/p.sizeMultiplier)*d.fontMetrics().axisHeight;l.classes.push("delimcenter"),l.style.top=_+"em",l.height-=_,l.depth+=_},ca=function(l,d,c,p,_,E){var C=G.makeSymbol(l,"Size"+d+"-Regular",_,p),D=rs(G.makeSpan(["delimsizing","size"+d],[C],p),ie.TEXT,p,E);return c&&Ws(D,p,ie.TEXT),D},lr=function(l,d,c){return{type:"elem",elem:G.makeSpan(["delimsizinginner","Size1-Regular"===d?"delim-size1":"delim-size4"],[G.makeSpan([],[G.makeSymbol(l,d,c)])])}},mi=function(l,d,c,p,_,E){var C,D,z,j;C=z=j=l,D=null;var X="Size1-Regular";"\\uparrow"===l?z=j="\u23d0":"\\Uparrow"===l?z=j="\u2016":"\\downarrow"===l?C=z="\u23d0":"\\Downarrow"===l?C=z="\u2016":"\\updownarrow"===l?(C="\\uparrow",z="\u23d0",j="\\downarrow"):"\\Updownarrow"===l?(C="\\Uparrow",z="\u2016",j="\\Downarrow"):"["===l||"\\lbrack"===l?(C="\u23a1",z="\u23a2",j="\u23a3",X="Size4-Regular"):"]"===l||"\\rbrack"===l?(C="\u23a4",z="\u23a5",j="\u23a6",X="Size4-Regular"):"\\lfloor"===l||"\u230a"===l?(z=C="\u23a2",j="\u23a3",X="Size4-Regular"):"\\lceil"===l||"\u2308"===l?(C="\u23a1",z=j="\u23a2",X="Size4-Regular"):"\\rfloor"===l||"\u230b"===l?(z=C="\u23a5",j="\u23a6",X="Size4-Regular"):"\\rceil"===l||"\u2309"===l?(C="\u23a4",z=j="\u23a5",X="Size4-Regular"):"("===l||"\\lparen"===l?(C="\u239b",z="\u239c",j="\u239d",X="Size4-Regular"):")"===l||"\\rparen"===l?(C="\u239e",z="\u239f",j="\u23a0",X="Size4-Regular"):"\\{"===l||"\\lbrace"===l?(C="\u23a7",D="\u23a8",j="\u23a9",z="\u23aa",X="Size4-Regular"):"\\}"===l||"\\rbrace"===l?(C="\u23ab",D="\u23ac",j="\u23ad",z="\u23aa",X="Size4-Regular"):"\\lgroup"===l||"\u27ee"===l?(C="\u23a7",j="\u23a9",z="\u23aa",X="Size4-Regular"):"\\rgroup"===l||"\u27ef"===l?(C="\u23ab",j="\u23ad",z="\u23aa",X="Size4-Regular"):"\\lmoustache"===l||"\u23b0"===l?(C="\u23a7",j="\u23ad",z="\u23aa",X="Size4-Regular"):"\\rmoustache"!==l&&"\u23b1"!==l||(C="\u23ab",j="\u23a9",z="\u23aa",X="Size4-Regular");var ee=Hr(C,X,_),Z=ee.height+ee.depth,ue=Hr(z,X,_),fe=ue.height+ue.depth,ge=Hr(j,X,_),be=ge.height+ge.depth,tt=0,Ve=1;if(null!==D){var We=Hr(D,X,_);tt=We.height+We.depth,Ve=2}var Ge=Z+be+tt,ut=Math.ceil((d-Ge)/(Ve*fe)),Ye=Ge+ut*Ve*fe,pt=p.fontMetrics().axisHeight;c&&(pt*=p.sizeMultiplier);var it=Ye/2-pt,Xe=[];if(Xe.push(lr(j,X,_)),null===D)for(var rt=0;rt<ut;rt++)Xe.push(lr(z,X,_));else{for(var St=0;St<ut;St++)Xe.push(lr(z,X,_));Xe.push(lr(D,X,_));for(var cn=0;cn<ut;cn++)Xe.push(lr(z,X,_))}Xe.push(lr(C,X,_));var H=p.havingBaseStyle(ie.TEXT),Ln=G.makeVList({positionType:"bottom",positionData:it,children:Xe},H);return rs(G.makeSpan(["delimsizing","mult"],[Ln],H),ie.TEXT,p,E)},da=function(l,d,c,p){var _;"sqrtTall"===l&&(_="M702 80H400000v40H742v"+(c-54-80)+"l-4 4-4 4c-.667.7\n-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667\n-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155\n 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z");var E=new bi(l,_),C=new jt([E],{width:"400em",height:d+"em",viewBox:"0 0 400000 "+c,preserveAspectRatio:"xMinYMin slice"});return G.makeSvgSpan(["hide-tail"],[C],p)},as=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","\\surd"],Gs=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1"],Ir=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Bn=[0,1.2,1.8,2.4,3],Mr=[{type:"small",style:ie.SCRIPTSCRIPT},{type:"small",style:ie.SCRIPT},{type:"small",style:ie.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Un=[{type:"small",style:ie.SCRIPTSCRIPT},{type:"small",style:ie.SCRIPT},{type:"small",style:ie.TEXT},{type:"stack"}],ha=[{type:"small",style:ie.SCRIPTSCRIPT},{type:"small",style:ie.SCRIPT},{type:"small",style:ie.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Xs=function(l){if("small"===l.type)return"Main-Regular";if("large"===l.type)return"Size"+l.size+"-Regular";if("stack"===l.type)return"Size4-Regular";throw new Error("Add support for delim type '"+l.type+"' here.")},li=function(l,d,c,p){for(var _=Math.min(2,3-p.style.size);_<c.length&&"stack"!==c[_].type;_++){var E=Hr(l,Xs(c[_]),"math"),C=E.height+E.depth;if("small"===c[_].type&&(C*=p.havingBaseStyle(c[_].style).sizeMultiplier),C>d)return c[_]}return c[c.length-1]},pa=function(l,d,c,p,_,E){var C;"<"===l||"\\lt"===l||"\u27e8"===l?l="\\langle":">"!==l&&"\\gt"!==l&&"\u27e9"!==l||(l="\\rangle"),C=re_contains(Ir,l)?Mr:re_contains(as,l)?ha:Un;var j,X,ee,ue,fe,ge,D=li(l,d,C,p);return"small"===D.type?(j=D.style,X=c,ue=E,fe=G.makeSymbol(l,"Main-Regular",_,ee=p),ge=rs(fe,j,ee,ue),X&&Ws(ge,ee,j),ge):"large"===D.type?ca(l,D.size,c,p,_,E):mi(l,d,c,p,_,E)},Pr=function(l,d,c,p,_){if("<"===l||"\\lt"===l||"\u27e8"===l?l="\\langle":">"!==l&&"\\gt"!==l&&"\u27e9"!==l||(l="\\rangle"),re_contains(as,l)||re_contains(Ir,l))return ca(l,d,!1,c,p,_);if(re_contains(Gs,l))return mi(l,Bn[d],!1,c,p,_);throw new le("Illegal delimiter: '"+l+"'")},Ks=pa,Vr=function(l,d,c,p,_,E){var C=p.fontMetrics().axisHeight*p.sizeMultiplier,D=5/p.fontMetrics().ptPerEm,z=Math.max(d-C,c+C),j=Math.max(z/500*901,2*z-D);return pa(l,j,!0,p,_,E)},Ys={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Qs=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27e8","\\rangle","\u27e9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function fa(l,d){var c=$a(l);if(c&&re_contains(Qs,c.text))return c;throw new le("Invalid delimiter: '"+(c?c.text:JSON.stringify(l))+"' after '"+d.funcName+"'",l)}function ss(l){if(!l.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}xe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1},handler:function(l,d){var c=fa(d[0],l);return{type:"delimsizing",mode:l.parser.mode,size:Ys[l.funcName].size,mclass:Ys[l.funcName].mclass,delim:c.text}},htmlBuilder:function(l,d){return"."===l.delim?G.makeSpan([l.mclass]):Pr(l.delim,l.size,d,l.mode,[l.mclass])},mathmlBuilder:function(l){var d=[];"."!==l.delim&&d.push(Mn(l.delim,l.mode));var c=new he.MathNode("mo",d);return c.setAttribute("fence","mopen"===l.mclass||"mclose"===l.mclass?"true":"false"),c}}),xe({type:"leftright-right",names:["\\right"],props:{numArgs:1},handler:function(l,d){return{type:"leftright-right",mode:l.parser.mode,delim:fa(d[0],l).text}}}),xe({type:"leftright",names:["\\left"],props:{numArgs:1},handler:function(l,d){var c=fa(d[0],l),p=l.parser;++p.leftrightDepth;var _=p.parseExpression(!1);--p.leftrightDepth,p.expect("\\right",!1);var E=et(p.parseFunction(),"leftright-right");return{type:"leftright",mode:p.mode,body:_,left:c.text,right:E.delim}},htmlBuilder:function(l,d){ss(l);for(var c,p,_=Cn(l.body,d,!0,["mopen","mclose"]),E=0,C=0,D=!1,z=0;z<_.length;z++)_[z].isMiddle?D=!0:(E=Math.max(_[z].height,E),C=Math.max(_[z].depth,C));if(E*=d.sizeMultiplier,C*=d.sizeMultiplier,c="."===l.left?oe(d,["mopen"]):Vr(l.left,E,C,d,l.mode,["mopen"]),_.unshift(c),D)for(var j=1;j<_.length;j++){var X=_[j].isMiddle;X&&(_[j]=Vr(X.delim,E,C,X.options,l.mode,[]))}return p="."===l.right?oe(d,["mclose"]):Vr(l.right,E,C,d,l.mode,["mclose"]),_.push(p),G.makeSpan(["minner"],_,d)},mathmlBuilder:function(l,d){ss(l);var c=ui(l.body,d);if("."!==l.left){var p=new he.MathNode("mo",[Mn(l.left,l.mode)]);p.setAttribute("fence","true"),c.unshift(p)}if("."!==l.right){var _=new he.MathNode("mo",[Mn(l.right,l.mode)]);_.setAttribute("fence","true"),c.push(_)}return oi(c)}}),xe({type:"middle",names:["\\middle"],props:{numArgs:1},handler:function(l,d){var c=fa(d[0],l);if(!l.parser.leftrightDepth)throw new le("\\middle without preceding \\left",c);return{type:"middle",mode:l.parser.mode,delim:c.text}},htmlBuilder:function(l,d){var c;return"."===l.delim?c=oe(d,[]):(c=Pr(l.delim,1,d,l.mode,[])).isMiddle={delim:l.delim,options:d},c},mathmlBuilder:function(l,d){var c="\\vert"===l.delim||"|"===l.delim?Mn("|","text"):Mn(l.delim,l.mode),p=new he.MathNode("mo",[c]);return p.setAttribute("fence","true"),p.setAttribute("lspace","0.05em"),p.setAttribute("rspace","0.05em"),p}});var ma=function(l,d){var c,p,j,_=G.wrapFragment(ht(l.body,d),d),E=l.label.substr(1),C=d.sizeMultiplier,D=0,z=re_isCharacterBox(l.body);"sout"===E?((c=G.makeSpan(["stretchy","sout"])).height=d.fontMetrics().defaultRuleThickness/C,D=-.5*d.fontMetrics().xHeight):(/cancel/.test(E)?z||_.classes.push("cancel-pad"):_.classes.push("boxpad"),c=function(l,d,c,p){var _,E=l.height+l.depth+2*c;if(/fbox|color/.test(d)){if(_=G.makeSpan(["stretchy",d],[],p),"fbox"===d){var C=p.color&&p.getColor();C&&(_.style.borderColor=C)}}else{var D=[];/^[bx]cancel$/.test(d)&&D.push(new _i({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(d)&&D.push(new _i({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var z=new jt(D,{width:"100%",height:E+"em"});_=G.makeSvgSpan([],[z],p)}return _.height=E,_.style.height=E+"em",_}(_,E,j=/box/.test(E)?"colorbox"===E?.3:.34:z?.2:0,d),D=_.depth+j,l.backgroundColor&&(c.style.backgroundColor=l.backgroundColor,l.borderColor&&(c.style.borderColor=l.borderColor)));return p=G.makeVList(l.backgroundColor?{positionType:"individualShift",children:[{type:"elem",elem:c,shift:D},{type:"elem",elem:_,shift:0}]}:{positionType:"individualShift",children:[{type:"elem",elem:_,shift:0},{type:"elem",elem:c,shift:D,wrapperClasses:/cancel/.test(E)?["svg-align"]:[]}]},d),/cancel/.test(E)&&(p.height=_.height,p.depth=_.depth),/cancel/.test(E)&&!z?G.makeSpan(["mord","cancel-lap"],[p],d):G.makeSpan(["mord"],[p],d)},ga=function(l,d){var c=new he.MathNode(l.label.indexOf("colorbox")>-1?"mpadded":"menclose",[zt(l.body,d)]);switch(l.label){case"\\cancel":c.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":c.setAttribute("notation","downdiagonalstrike");break;case"\\sout":c.setAttribute("notation","horizontalstrike");break;case"\\fbox":c.setAttribute("notation","box");break;case"\\fcolorbox":case"\\colorbox":if(c.setAttribute("width","+6pt"),c.setAttribute("height","+6pt"),c.setAttribute("lspace","3pt"),c.setAttribute("voffset","3pt"),"\\fcolorbox"===l.label){var p=d.fontMetrics().defaultRuleThickness;c.setAttribute("style","border: "+p+"em solid "+String(l.borderColor))}break;case"\\xcancel":c.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return l.backgroundColor&&c.setAttribute("mathbackground",l.backgroundColor),c};xe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","text"]},handler:function(l,d,c){var p=l.parser,_=l.funcName,E=et(d[0],"color-token").color;return{type:"enclose",mode:p.mode,label:_,backgroundColor:E,body:d[1]}},htmlBuilder:ma,mathmlBuilder:ga}),xe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,greediness:3,argTypes:["color","color","text"]},handler:function(l,d,c){var p=l.parser,_=l.funcName,E=et(d[0],"color-token").color,C=et(d[1],"color-token").color;return{type:"enclose",mode:p.mode,label:_,backgroundColor:C,borderColor:E,body:d[2]}},htmlBuilder:ma,mathmlBuilder:ga}),xe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0},handler:function(l,d){return{type:"enclose",mode:l.parser.mode,label:"\\fbox",body:d[0]}}}),xe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout"],props:{numArgs:1},handler:function(l,d,c){return{type:"enclose",mode:l.parser.mode,label:l.funcName,body:d[0]}},htmlBuilder:ma,mathmlBuilder:ga});var $s={};function Bi(l){for(var d=l.type,c=l.names,E=l.htmlBuilder,C=l.mathmlBuilder,D={type:d,numArgs:l.props.numArgs||0,greediness:1,allowedInText:!1,numOptionalArgs:0,handler:l.handler},z=0;z<c.length;++z)$s[c[z]]=D;E&&(xi[d]=E),C&&(si[d]=C)}function ya(l){var d=[];l.consumeSpaces();for(var c=l.nextToken.text;"\\hline"===c||"\\hdashline"===c;)l.consume(),d.push("\\hdashline"===c),l.consumeSpaces(),c=l.nextToken.text;return d}function fn(l,d,c){var p=d.hskipBeforeAndAfter,_=d.addJot,E=d.cols,C=d.arraystretch,D=d.colSeparationType;if(l.gullet.beginGroup(),l.gullet.macros.set("\\\\","\\cr"),!C){var z=l.gullet.expandMacroAsText("\\arraystretch");if(null==z)C=1;else if(!(C=parseFloat(z))||C<0)throw new le("Invalid \\arraystretch: "+z)}var j=[],X=[j],ee=[],Z=[];for(Z.push(ya(l));;){var ue=l.parseExpression(!1,"\\cr");ue={type:"ordgroup",mode:l.mode,body:ue},c&&(ue={type:"styling",mode:l.mode,style:c,body:[ue]}),j.push(ue);var fe=l.nextToken.text;if("&"===fe)l.consume();else{if("\\end"===fe){1===j.length&&"styling"===ue.type&&0===ue.body[0].body.length&&X.pop(),Z.length<X.length+1&&Z.push([]);break}if("\\cr"!==fe)throw new le("Expected & or \\\\ or \\cr or \\end",l.nextToken);var ge=et(l.parseFunction(),"cr");ee.push(ge.size),Z.push(ya(l)),X.push(j=[])}}return l.gullet.endGroup(),{type:"array",mode:l.mode,addJot:_,arraystretch:C,body:X,cols:E,rowGaps:ee,hskipBeforeAndAfter:p,hLinesBeforeRow:Z,colSeparationType:D}}function os(l){return"d"===l.substr(0,1)?"display":"text"}var ki=function(l,d){var c,p,_=l.body.length,E=l.hLinesBeforeRow,C=0,D=new Array(_),z=[],j=1/d.fontMetrics().ptPerEm,X=5*j,Z=3*j,ue=l.arraystretch*(12*j),fe=.7*ue,ge=.3*ue,be=0;function tt(ys){for(var ke=0;ke<ys.length;++ke)ke>0&&(be+=.25),z.push({pos:be,isDashed:ys[ke]})}for(tt(E[0]),c=0;c<l.body.length;++c){var Ve=l.body[c],We=fe,Ge=ge;C<Ve.length&&(C=Ve.length);var ut=new Array(Ve.length);for(p=0;p<Ve.length;++p){var Ye=ht(Ve[p],d);Ge<Ye.depth&&(Ge=Ye.depth),We<Ye.height&&(We=Ye.height),ut[p]=Ye}var pt=l.rowGaps[c],it=0;pt&&(it=Je(pt,d))>0&&(Ge<(it+=ge)&&(Ge=it),it=0),l.addJot&&(Ge+=Z),ut.height=We,ut.depth=Ge,ut.pos=be+=We,be+=Ge+it,D[c]=ut,tt(E[c+1])}var Xe,rt,St=be/2+d.fontMetrics().axisHeight,cn=l.cols||[],H=[];for(p=0,rt=0;p<C||rt<cn.length;++p,++rt){for(var Ln=cn[rt]||{},gi=!0;"separator"===Ln.type;){if(gi||((Xe=G.makeSpan(["arraycolsep"],[])).style.width=d.fontMetrics().doubleRuleSep+"em",H.push(Xe)),"|"===Ln.separator){var Nr=G.makeSpan(["vertical-separator"],[],d);Nr.style.height=be+"em",Nr.style.verticalAlign=-(be-St)+"em",H.push(Nr)}else{if(":"!==Ln.separator)throw new le("Invalid separator type: "+Ln.separator);var hr=G.makeSpan(["vertical-separator","vs-dashed"],[],d);hr.style.height=be+"em",hr.style.verticalAlign=-(be-St)+"em",H.push(hr)}Ln=cn[++rt]||{},gi=!1}if(!(p>=C)){var dn=void 0;(p>0||l.hskipBeforeAndAfter)&&0!==(dn=re_deflt(Ln.pregap,X))&&((Xe=G.makeSpan(["arraycolsep"],[])).style.width=dn+"em",H.push(Xe));var Vn=[];for(c=0;c<_;++c){var Ei=D[c],Ci=Ei[p];if(Ci){var Wn=Ei.pos-St;Ci.depth=Ei.depth,Ci.height=Ei.height,Vn.push({type:"elem",elem:Ci,shift:Wn})}}Vn=G.makeVList({positionType:"individualShift",children:Vn},d),Vn=G.makeSpan(["col-align-"+(Ln.align||"c")],[Vn]),H.push(Vn),(p<C-1||l.hskipBeforeAndAfter)&&0!==(dn=re_deflt(Ln.postgap,X))&&((Xe=G.makeSpan(["arraycolsep"],[])).style.width=dn+"em",H.push(Xe))}}if(D=G.makeSpan(["mtable"],H),z.length>0){for(var fo=G.makeLineSpan("hline",d,.05),Jr=G.makeLineSpan("hdashline",d,.05),Rr=[{type:"elem",elem:D,shift:0}];z.length>0;){var ka=z.pop(),gs=ka.pos-St;Rr.push(ka.isDashed?{type:"elem",elem:Jr,shift:gs}:{type:"elem",elem:fo,shift:gs})}D=G.makeVList({positionType:"individualShift",children:Rr},d)}return G.makeSpan(["mord"],[D],d)},au={c:"center ",l:"left ",r:"right "},Or=function(l,d){var c=new he.MathNode("mtable",l.body.map(function(We){return new he.MathNode("mtr",We.map(function(Ge){return new he.MathNode("mtd",[zt(Ge,d)])}))}));c.setAttribute("rowspacing",.16+l.arraystretch-1+(l.addJot?.09:0)+"em");var _="",E="";if(l.cols){var C=l.cols,D="",z=!1,j=0,X=C.length;"separator"===C[0].type&&(_+="top ",j=1),"separator"===C[C.length-1].type&&(_+="bottom ",X-=1);for(var ee=j;ee<X;ee++)"align"===C[ee].type?(E+=au[C[ee].align],z&&(D+="none "),z=!0):"separator"===C[ee].type&&z&&(D+="|"===C[ee].separator?"solid ":"dashed ",z=!1);c.setAttribute("columnalign",E.trim()),/[sd]/.test(D)&&c.setAttribute("columnlines",D.trim())}if("align"===l.colSeparationType){for(var Z=l.cols||[],ue="",fe=1;fe<Z.length;fe++)ue+=fe%2?"0em ":"1em ";c.setAttribute("columnspacing",ue.trim())}else c.setAttribute("columnspacing","alignat"===l.colSeparationType?"0em":"1em");var ge="",be=l.hLinesBeforeRow;_+=be[0].length>0?"left ":"",_+=be[be.length-1].length>0?"right ":"";for(var tt=1;tt<be.length-1;tt++)ge+=0===be[tt].length?"none ":be[tt][0]?"dashed ":"solid ";if(/[sd]/.test(ge)&&c.setAttribute("rowlines",ge.trim()),""===_)return c;var Ve=new he.MathNode("menclose",[c]);return Ve.setAttribute("notation",_.trim()),Ve},Js=function(l,d){var c,p=[],_=fn(l.parser,{cols:p,addJot:!0},"display"),E=0,C={type:"ordgroup",mode:l.mode,body:[]},D=_t(d[0],"ordgroup");if(D){for(var z="",j=0;j<D.body.length;j++)z+=et(D.body[j],"textord").text;c=Number(z),E=2*c}var X=!E;_.body.forEach(function(fe){for(var ge=1;ge<fe.length;ge+=2){var be=et(fe[ge],"styling");et(be.body[0],"ordgroup").body.unshift(C)}if(X)E<fe.length&&(E=fe.length);else{var tt=fe.length/2;if(c<tt)throw new le("Too many math in a row: expected "+c+", but got "+tt,fe[0])}});for(var ee=0;ee<E;++ee){var Z="r",ue=0;ee%2==1?Z="l":ee>0&&X&&(ue=1),p[ee]={type:"align",align:Z,pregap:ue,postgap:0}}return _.colSeparationType=X?"align":"alignat",_};Bi({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(l,d){var c={cols:($a(d[0])?[d[0]]:et(d[0],"ordgroup").body).map(function(p){var _=function(E){var C=$a(E);if(!C)throw new Error("Expected node of symbol group type, but got "+(E?"node of type "+E.type:String(E)));return C}(p).text;if(-1!=="lcr".indexOf(_))return{type:"align",align:_};if("|"===_)return{type:"separator",separator:"|"};if(":"===_)return{type:"separator",separator:":"};throw new le("Unknown column alignment: "+_,p)}),hskipBeforeAndAfter:!0};return fn(l.parser,c,os(l.envName))},htmlBuilder:ki,mathmlBuilder:Or}),Bi({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],props:{numArgs:0},handler:function(l){var d={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[l.envName],c=fn(l.parser,{hskipBeforeAndAfter:!1},os(l.envName));return d?{type:"leftright",mode:l.mode,body:[c],left:d[0],right:d[1]}:c},htmlBuilder:ki,mathmlBuilder:Or}),Bi({type:"array",names:["cases","dcases"],props:{numArgs:0},handler:function(l){var d=fn(l.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},os(l.envName));return{type:"leftright",mode:l.mode,body:[d],left:"\\{",right:"."}},htmlBuilder:ki,mathmlBuilder:Or}),Bi({type:"array",names:["aligned"],props:{numArgs:0},handler:Js,htmlBuilder:ki,mathmlBuilder:Or}),Bi({type:"array",names:["gathered"],props:{numArgs:0},handler:function(l){return fn(l.parser,{cols:[{type:"align",align:"c"}],addJot:!0},"display")},htmlBuilder:ki,mathmlBuilder:Or}),Bi({type:"array",names:["alignedat"],props:{numArgs:1},handler:Js,htmlBuilder:ki,mathmlBuilder:Or}),xe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(l,d){throw new le(l.funcName+" valid only within array environment")}});var va=$s;xe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(l,d){var c=l.parser,p=l.funcName,_=d[0];if("ordgroup"!==_.type)throw new le("Invalid environment name",_);for(var E="",C=0;C<_.body.length;++C)E+=et(_.body[C],"textord").text;if("\\begin"===p){if(!va.hasOwnProperty(E))throw new le("No such environment: "+E,_);var D=va[E],z=c.parseArguments("\\begin{"+E+"}",D),Z=D.handler({mode:c.mode,envName:E,parser:c},z.args,z.optArgs);c.expect("\\end",!1);var ue=c.nextToken,fe=et(c.parseFunction(),"environment");if(fe.name!==E)throw new le("Mismatch: \\begin{"+E+"} matched by \\end{"+fe.name+"}",ue);return Z}return{type:"environment",mode:c.mode,name:E,nameGroup:_}}});var Zs=G.makeSpan;function eo(l,d){var c=Cn(l.body,d,!0);return Zs([l.mclass],c,d)}function to(l,d){var c=ui(l.body,d);return he.newDocumentFragment(c)}xe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1},handler:function(l,d){var _=d[0];return{type:"mclass",mode:l.parser.mode,mclass:"m"+l.funcName.substr(5),body:bn(_)}},htmlBuilder:eo,mathmlBuilder:to});var cr=function(l){var d="ordgroup"===l.type&&l.body.length?l.body[0]:l;return"atom"!==d.type||"bin"!==d.family&&"rel"!==d.family?"mord":"m"+d.family};xe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(l,d){return{type:"mclass",mode:l.parser.mode,mclass:cr(d[0]),body:[d[1]]}}}),xe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(l,d){var c,p=l.parser,_=l.funcName,E=d[1],C=d[0];c="\\stackrel"!==_?cr(E):"mrel";var D={type:"op",mode:E.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==_,body:bn(E)};return{type:"mclass",mode:p.mode,mclass:c,body:[{type:"supsub",mode:C.mode,base:D,sup:"\\underset"===_?null:C,sub:"\\underset"===_?C:null}]}},htmlBuilder:eo,mathmlBuilder:to});var no=function(l,d){var p=d.withFont(l.font);return ht(l.body,p)},Lr=function(l,d){var p=d.withFont(l.font);return zt(l.body,p)},Tt={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};xe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,greediness:2},handler:function(l,d){var _=d[0],E=l.funcName;return E in Tt&&(E=Tt[E]),{type:"font",mode:l.parser.mode,font:E.slice(1),body:_}},htmlBuilder:no,mathmlBuilder:Lr}),xe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1,greediness:2},handler:function(l,d){var c=l.parser,p=d[0];return{type:"mclass",mode:c.mode,mclass:cr(p),body:[{type:"font",mode:c.mode,font:"boldsymbol",body:p}]}}}),xe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it"],props:{numArgs:0,allowedInText:!0},handler:function(l,d){var c=l.parser,p=l.funcName,E=c.mode,C=c.parseExpression(!0,l.breakOnTokenText);return{type:"font",mode:E,font:"math"+p.slice(1),body:{type:"ordgroup",mode:c.mode,body:C}}},htmlBuilder:no,mathmlBuilder:Lr});var Qi=function(l,d){var c=d;return"display"===l?c=c.id>=ie.SCRIPT.id?c.text():ie.DISPLAY:"text"===l&&c.size===ie.DISPLAY.size?c=ie.TEXT:"script"===l?c=ie.SCRIPT:"scriptscript"===l&&(c=ie.SCRIPTSCRIPT),c},Wr=function(l,d){var c,p=Qi(l.size,d.style),_=p.fracNum(),E=p.fracDen();c=d.havingStyle(_);var C=ht(l.numer,c,d);if(l.continued){var D=8.5/d.fontMetrics().ptPerEm,z=3.5/d.fontMetrics().ptPerEm;C.height=C.height<D?D:C.height,C.depth=C.depth<z?z:C.depth}c=d.havingStyle(E);var j,X,ee,Z,ue,fe,ge,be,tt,Ve,We=ht(l.denom,c,d);if(l.hasBarLine?(l.barSize?(X=Je(l.barSize,d),j=G.makeLineSpan("frac-line",d,X)):j=G.makeLineSpan("frac-line",d),X=j.height,ee=j.height):(j=null,X=0,ee=d.fontMetrics().defaultRuleThickness),p.size===ie.DISPLAY.size||"display"===l.size?(Z=d.fontMetrics().num1,ue=X>0?3*ee:7*ee,fe=d.fontMetrics().denom1):(X>0?(Z=d.fontMetrics().num2,ue=ee):(Z=d.fontMetrics().num3,ue=3*ee),fe=d.fontMetrics().denom2),j){var Ge=d.fontMetrics().axisHeight;Z-C.depth-(Ge+.5*X)<ue&&(Z+=ue-(Z-C.depth-(Ge+.5*X))),Ge-.5*X-(We.height-fe)<ue&&(fe+=ue-(Ge-.5*X-(We.height-fe))),ge=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:We,shift:fe},{type:"elem",elem:j,shift:-(Ge-.5*X)},{type:"elem",elem:C,shift:-Z}]},d)}else{var Ye=Z-C.depth-(We.height-fe);Ye<ue&&(Z+=.5*(ue-Ye),fe+=.5*(ue-Ye)),ge=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:We,shift:fe},{type:"elem",elem:C,shift:-Z}]},d)}return c=d.havingStyle(p),ge.height*=c.sizeMultiplier/d.sizeMultiplier,ge.depth*=c.sizeMultiplier/d.sizeMultiplier,be=p.size===ie.DISPLAY.size?d.fontMetrics().delim1:d.fontMetrics().delim2,tt=null==l.leftDelim?oe(d,["mopen"]):Ks(l.leftDelim,be,!0,d.havingStyle(p),l.mode,["mopen"]),Ve=l.continued?G.makeSpan([]):null==l.rightDelim?oe(d,["mclose"]):Ks(l.rightDelim,be,!0,d.havingStyle(p),l.mode,["mclose"]),G.makeSpan(["mord"].concat(c.sizingClasses(d)),[tt,G.makeSpan(["mfrac"],[ge]),Ve],d)},Dr=function(l,d){var c=new he.MathNode("mfrac",[zt(l.numer,d),zt(l.denom,d)]);if(l.hasBarLine){if(l.barSize){var p=Je(l.barSize,d);c.setAttribute("linethickness",p+"em")}}else c.setAttribute("linethickness","0px");var _=Qi(l.size,d.style);if(_.size!==d.style.size&&((c=new he.MathNode("mstyle",[c])).setAttribute("displaystyle",_.size===ie.DISPLAY.size?"true":"false"),c.setAttribute("scriptlevel","0")),null!=l.leftDelim||null!=l.rightDelim){var C=[];if(null!=l.leftDelim){var D=new he.MathNode("mo",[new he.TextNode(l.leftDelim.replace("\\",""))]);D.setAttribute("fence","true"),C.push(D)}if(C.push(c),null!=l.rightDelim){var z=new he.MathNode("mo",[new he.TextNode(l.rightDelim.replace("\\",""))]);z.setAttribute("fence","true"),C.push(z)}return oi(C)}return c};xe({type:"genfrac",names:["\\cfrac","\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,greediness:2},handler:function(l,d){var c,p=l.parser,_=l.funcName,E=d[0],C=d[1],D=null,z=null,j="auto";switch(_){case"\\cfrac":case"\\dfrac":case"\\frac":case"\\tfrac":c=!0;break;case"\\\\atopfrac":c=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":c=!1,D="(",z=")";break;case"\\\\bracefrac":c=!1,D="\\{",z="\\}";break;case"\\\\brackfrac":c=!1,D="[",z="]";break;default:throw new Error("Unrecognized genfrac command")}switch(_){case"\\cfrac":case"\\dfrac":case"\\dbinom":j="display";break;case"\\tfrac":case"\\tbinom":j="text"}return{type:"genfrac",mode:p.mode,continued:"\\cfrac"===_,numer:E,denom:C,hasBarLine:c,leftDelim:D,rightDelim:z,size:j,barSize:null}},htmlBuilder:Wr,mathmlBuilder:Dr}),xe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(l){var d,c=l.parser,_=l.token;switch(l.funcName){case"\\over":d="\\frac";break;case"\\choose":d="\\binom";break;case"\\atop":d="\\\\atopfrac";break;case"\\brace":d="\\\\bracefrac";break;case"\\brack":d="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:c.mode,replaceWith:d,token:_}}});var io=["display","text","script","scriptscript"],us=function(l){var d=null;return l.length>0&&(d="."===(d=l)?null:d),d};xe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,greediness:6,argTypes:["math","math","size","text","math","math"]},handler:function(l,d){var c=l.parser,p=d[4],_=d[5],E=_t(d[0],"atom");E&&(E=kr(d[0],"open"));var C=E?us(E.text):null,D=_t(d[1],"atom");D&&(D=kr(d[1],"close"));var z,j=D?us(D.text):null,X=et(d[2],"size"),ee=null;z=!!X.isBlank||(ee=X.value).number>0;var Z="auto",ue=_t(d[3],"ordgroup");if(ue){if(ue.body.length>0){var fe=et(ue.body[0],"textord");Z=io[Number(fe.text)]}}else ue=et(d[3],"textord"),Z=io[Number(ue.text)];return{type:"genfrac",mode:c.mode,numer:p,denom:_,continued:!1,hasBarLine:z,barSize:ee,leftDelim:C,rightDelim:j,size:Z}},htmlBuilder:Wr,mathmlBuilder:Dr}),xe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(l,d){var p=l.token;return{type:"infix",mode:l.parser.mode,replaceWith:"\\\\abovefrac",size:et(d[0],"size").value,token:p}}}),xe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(l,d){var c=l.parser,p=d[0],_=function(D){if(!D)throw new Error("Expected non-null, but got "+String(D));return D}(et(d[1],"infix").size);return{type:"genfrac",mode:c.mode,numer:p,denom:d[2],continued:!1,hasBarLine:_.number>0,barSize:_,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Wr,mathmlBuilder:Dr});var ro=function(l,d){var c,p,_=d.style,E=_t(l,"supsub");E?(c=E.sup?ht(E.sup,d.havingStyle(_.sup()),d):ht(E.sub,d.havingStyle(_.sub()),d),p=et(E.base,"horizBrace")):p=et(l,"horizBrace");var C,D=ht(p.base,d.havingBaseStyle(ie.DISPLAY)),z=ur(p,d);if(p.isOver?(C=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:D},{type:"kern",size:.1},{type:"elem",elem:z}]},d)).children[0].children[0].children[1].classes.push("svg-align"):(C=G.makeVList({positionType:"bottom",positionData:D.depth+.1+z.height,children:[{type:"elem",elem:z},{type:"kern",size:.1},{type:"elem",elem:D}]},d)).children[0].children[0].children[0].classes.push("svg-align"),c){var j=G.makeSpan(["mord",p.isOver?"mover":"munder"],[C],d);C=G.makeVList(p.isOver?{positionType:"firstBaseline",children:[{type:"elem",elem:j},{type:"kern",size:.2},{type:"elem",elem:c}]}:{positionType:"bottom",positionData:j.depth+.2+c.height+c.depth,children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:j}]},d)}return G.makeSpan(["mord",p.isOver?"mover":"munder"],[C],d)};xe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(l,d){var p=l.funcName;return{type:"horizBrace",mode:l.parser.mode,label:p,isOver:/^\\over/.test(p),base:d[0]}},htmlBuilder:ro,mathmlBuilder:function(l,d){var c=Ar(l.label);return new he.MathNode(l.isOver?"mover":"munder",[zt(l.base,d),c])}}),xe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(l,d){var c=l.parser,p=d[1],_=et(d[0],"url").url;return{type:"href",mode:c.mode,href:_,body:bn(p)}},htmlBuilder:function(l,d){var c=Cn(l.body,d,!1);return G.makeAnchor(l.href,[],c,d)},mathmlBuilder:function(l,d){var c=sr(l.body,d);return c instanceof Ft||(c=new Ft("mrow",[c])),c.setAttribute("href",l.href),c}}),xe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(l,d){for(var c=l.parser,p=et(d[0],"url").url,_=[],E=0;E<p.length;E++){var C=p[E];"~"===C&&(C="\\textasciitilde"),_.push({type:"textord",mode:"text",text:C})}return{type:"href",mode:c.mode,href:p,body:bn({type:"text",mode:c.mode,font:"\\texttt",body:_})}}}),xe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(l,d){return{type:"htmlmathml",mode:l.parser.mode,html:bn(d[0]),mathml:bn(d[1])}},htmlBuilder:function(l,d){var c=Cn(l.html,d,!1);return G.makeFragment(c)},mathmlBuilder:function(l,d){return sr(l.mathml,d)}}),xe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],allowedInText:!0},handler:function(l,d){var c=l.parser,p=l.funcName,_=et(d[0],"size");if(c.settings.strict){var C="mu"===_.value.unit;"m"===p[1]?(C||c.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+p+" supports only mu units, not "+_.value.unit+" units"),"math"!==c.mode&&c.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+p+" works only in math mode")):C&&c.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+p+" doesn't support mu units")}return{type:"kern",mode:c.mode,dimension:_.value}},htmlBuilder:function(l,d){return G.makeGlue(l.dimension,d)},mathmlBuilder:function(l,d){var c=Je(l.dimension,d);return new he.SpaceNode(c)}}),xe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(l,d){var _=d[0];return{type:"lap",mode:l.parser.mode,alignment:l.funcName.slice(5),body:_}},htmlBuilder:function(l,d){var c;"clap"===l.alignment?(c=G.makeSpan([],[ht(l.body,d)]),c=G.makeSpan(["inner"],[c],d)):c=G.makeSpan(["inner"],[ht(l.body,d)]);var p=G.makeSpan(["fix"],[]),_=G.makeSpan([l.alignment],[c,p],d),E=G.makeSpan(["strut"]);return E.style.height=_.height+_.depth+"em",E.style.verticalAlign=-_.depth+"em",_.children.unshift(E),_=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:_}]},d),G.makeSpan(["mord"],[_],d)},mathmlBuilder:function(l,d){var c=new he.MathNode("mpadded",[zt(l.body,d)]);return"rlap"!==l.alignment&&c.setAttribute("lspace",("llap"===l.alignment?"-1":"-0.5")+"width"),c.setAttribute("width","0px"),c}}),xe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1,consumeMode:"math"},handler:function(l,d){var c=l.funcName,p=l.parser,_=p.mode;p.switchMode("math");var E="\\("===c?"\\)":"$",C=p.parseExpression(!1,E);return p.expect(E,!1),p.switchMode(_),p.consume(),{type:"styling",mode:p.mode,style:"text",body:C}}}),xe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(l,d){throw new le("Mismatched "+l.funcName)}});var ao=function(l,d){switch(d.style.size){case ie.DISPLAY.size:return l.display;case ie.TEXT.size:return l.text;case ie.SCRIPT.size:return l.script;case ie.SCRIPTSCRIPT.size:return l.scriptscript;default:return l.text}};xe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4},handler:function(l,d){return{type:"mathchoice",mode:l.parser.mode,display:bn(d[0]),text:bn(d[1]),script:bn(d[2]),scriptscript:bn(d[3])}},htmlBuilder:function(l,d){var c=ao(l,d),p=Cn(c,d,!1);return G.makeFragment(p)},mathmlBuilder:function(l,d){var c=ao(l,d);return sr(c,d)}});var ls=["\\smallint"],$i=function(l,d){var c,p,_,E=!1,C=_t(l,"supsub");C?(c=C.sup,p=C.sub,_=et(C.base,"op"),E=!0):_=et(l,"op");var D,z=d.style,j=!1;if(z.size===ie.DISPLAY.size&&_.symbol&&!re_contains(ls,_.name)&&(j=!0),_.symbol){var X=j?"Size2-Regular":"Size1-Regular",ee="";if("\\oiint"!==_.name&&"\\oiiint"!==_.name||(ee=_.name.substr(1),_.name="oiint"===ee?"\\iint":"\\iiint"),D=G.makeSymbol(_.name,X,"math",d,["mop","op-symbol",j?"large-op":"small-op"]),ee.length>0){var Z=D.italic,ue=G.staticSvg(ee+"Size"+(j?"2":"1"),d);D=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:D,shift:0},{type:"elem",elem:ue,shift:j?.08:0}]},d),_.name="\\"+ee,D.classes.unshift("mop"),D.italic=Z}}else if(_.body){var fe=Cn(_.body,d,!0);1===fe.length&&fe[0]instanceof In?(D=fe[0]).classes[0]="mop":D=G.makeSpan(["mop"],G.tryCombineChars(fe),d)}else{for(var ge=[],be=1;be<_.name.length;be++)ge.push(G.mathsym(_.name[be],_.mode));D=G.makeSpan(["mop"],ge,d)}var tt=0,Ve=0;if((D instanceof In||"\\oiint"===_.name||"\\oiiint"===_.name)&&!_.suppressBaseShift&&(tt=(D.height-D.depth)/2-d.fontMetrics().axisHeight,Ve=D.italic),E){var We,Ge,ut;if(D=G.makeSpan([],[D]),c){var Ye=ht(c,d.havingStyle(z.sup()),d);Ge={elem:Ye,kern:Math.max(d.fontMetrics().bigOpSpacing1,d.fontMetrics().bigOpSpacing3-Ye.depth)}}if(p){var pt=ht(p,d.havingStyle(z.sub()),d);We={elem:pt,kern:Math.max(d.fontMetrics().bigOpSpacing2,d.fontMetrics().bigOpSpacing4-pt.height)}}if(Ge&&We){var it=d.fontMetrics().bigOpSpacing5+We.elem.height+We.elem.depth+We.kern+D.depth+tt;ut=G.makeVList({positionType:"bottom",positionData:it,children:[{type:"kern",size:d.fontMetrics().bigOpSpacing5},{type:"elem",elem:We.elem,marginLeft:-Ve+"em"},{type:"kern",size:We.kern},{type:"elem",elem:D},{type:"kern",size:Ge.kern},{type:"elem",elem:Ge.elem,marginLeft:Ve+"em"},{type:"kern",size:d.fontMetrics().bigOpSpacing5}]},d)}else if(We)ut=G.makeVList({positionType:"top",positionData:D.height-tt,children:[{type:"kern",size:d.fontMetrics().bigOpSpacing5},{type:"elem",elem:We.elem,marginLeft:-Ve+"em"},{type:"kern",size:We.kern},{type:"elem",elem:D}]},d);else{if(!Ge)return D;ut=G.makeVList({positionType:"bottom",positionData:D.depth+tt,children:[{type:"elem",elem:D},{type:"kern",size:Ge.kern},{type:"elem",elem:Ge.elem,marginLeft:Ve+"em"},{type:"kern",size:d.fontMetrics().bigOpSpacing5}]},d)}return G.makeSpan(["mop","op-limits"],[ut],d)}return tt&&(D.style.position="relative",D.style.top=tt+"em"),D},Gr=function(l,d){var c;if(l.symbol)c=new Ft("mo",[Mn(l.name,l.mode)]),re_contains(ls,l.name)&&c.setAttribute("largeop","false");else if(l.body)c=new Ft("mo",ui(l.body,d));else{c=new Ft("mi",[new Si(l.name.slice(1))]);var p=new Ft("mo",[Mn("\u2061","text")]);c=l.parentIsSupSub?new Ft("mo",[c,p]):Ja([c,p])}return c},ba={"\u220f":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22c0":"\\bigwedge","\u22c1":"\\bigvee","\u22c2":"\\bigcap","\u22c3":"\\bigcup","\u2a00":"\\bigodot","\u2a01":"\\bigoplus","\u2a02":"\\bigotimes","\u2a04":"\\biguplus","\u2a06":"\\bigsqcup"};xe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220f","\u2210","\u2211","\u22c0","\u22c1","\u22c2","\u22c3","\u2a00","\u2a01","\u2a02","\u2a04","\u2a06"],props:{numArgs:0},handler:function(l,d){var p=l.funcName;return 1===p.length&&(p=ba[p]),{type:"op",mode:l.parser.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:p}},htmlBuilder:$i,mathmlBuilder:Gr}),xe({type:"op",names:["\\mathop"],props:{numArgs:1},handler:function(l,d){return{type:"op",mode:l.parser.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:bn(d[0])}},htmlBuilder:$i,mathmlBuilder:Gr});var so={"\u222b":"\\int","\u222c":"\\iint","\u222d":"\\iiint","\u222e":"\\oint","\u222f":"\\oiint","\u2230":"\\oiiint"};function oo(l,d,c){for(var p=Cn(l,d,!1),_=d.sizeMultiplier/c.sizeMultiplier,E=0;E<p.length;E++){var C=p[E].classes.indexOf("sizing");C<0?Array.prototype.push.apply(p[E].classes,d.sizingClasses(c)):p[E].classes[C+1]==="reset-size"+d.size&&(p[E].classes[C+1]="reset-size"+c.size),p[E].height*=_,p[E].depth*=_}return G.makeFragment(p)}xe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(l){return{type:"op",mode:l.parser.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:l.funcName}},htmlBuilder:$i,mathmlBuilder:Gr}),xe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(l){return{type:"op",mode:l.parser.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:l.funcName}},htmlBuilder:$i,mathmlBuilder:Gr}),xe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222b","\u222c","\u222d","\u222e","\u222f","\u2230"],props:{numArgs:0},handler:function(l){var c=l.funcName;return 1===c.length&&(c=so[c]),{type:"op",mode:l.parser.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:c}},htmlBuilder:$i,mathmlBuilder:Gr}),xe({type:"operatorname",names:["\\operatorname"],props:{numArgs:1},handler:function(l,d){return{type:"operatorname",mode:l.parser.mode,body:bn(d[0])}},htmlBuilder:function(l,d){if(l.body.length>0){for(var c=l.body.map(function(C){var D=C.text;return"string"==typeof D?{type:"textord",mode:C.mode,text:D}:C}),p=Cn(c,d.withFont("mathrm"),!0),_=0;_<p.length;_++){var E=p[_];E instanceof In&&(E.text=E.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}return G.makeSpan(["mop"],p,d)}return G.makeSpan(["mop"],[],d)},mathmlBuilder:function(l,d){for(var c=ui(l.body,d.withFont("mathrm")),p=!0,_=0;_<c.length;_++){var E=c[_];if(!(E instanceof he.SpaceNode))if(E instanceof he.MathNode)switch(E.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var C=E.children[0];1===E.children.length&&C instanceof he.TextNode?C.text=C.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):p=!1;break;default:p=!1}else p=!1}if(p){var D=c.map(function(X){return X.toText()}).join("");c=[new he.TextNode(D)]}var z=new he.MathNode("mi",c);z.setAttribute("mathvariant","normal");var j=new he.MathNode("mo",[Mn("\u2061","text")]);return he.newDocumentFragment([z,j])}}),Ni({type:"ordgroup",htmlBuilder:function(l,d){return l.semisimple?G.makeFragment(Cn(l.body,d,!1)):G.makeSpan(["mord"],Cn(l.body,d,!0),d)},mathmlBuilder:function(l,d){return sr(l.body,d)}}),xe({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(l,d){return{type:"overline",mode:l.parser.mode,body:d[0]}},htmlBuilder:function(l,d){var c=ht(l.body,d.havingCrampedStyle()),p=G.makeLineSpan("overline-line",d),_=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:3*p.height},{type:"elem",elem:p},{type:"kern",size:p.height}]},d);return G.makeSpan(["mord","overline"],[_],d)},mathmlBuilder:function(l,d){var c=new he.MathNode("mo",[new he.TextNode("\u203e")]);c.setAttribute("stretchy","true");var p=new he.MathNode("mover",[zt(l.body,d),c]);return p.setAttribute("accent","true"),p}}),xe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(l,d){return{type:"phantom",mode:l.parser.mode,body:bn(d[0])}},htmlBuilder:function(l,d){var c=Cn(l.body,d.withPhantom(),!1);return G.makeFragment(c)},mathmlBuilder:function(l,d){var c=ui(l.body,d);return new he.MathNode("mphantom",c)}}),xe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(l,d){return{type:"hphantom",mode:l.parser.mode,body:d[0]}},htmlBuilder:function(l,d){var c=G.makeSpan([],[ht(l.body,d.withPhantom())]);if(c.height=0,c.depth=0,c.children)for(var p=0;p<c.children.length;p++)c.children[p].height=0,c.children[p].depth=0;return c=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c}]},d),G.makeSpan(["mord"],[c],d)},mathmlBuilder:function(l,d){var c=ui(bn(l.body),d),p=new he.MathNode("mphantom",c),_=new he.MathNode("mpadded",[p]);return _.setAttribute("height","0px"),_.setAttribute("depth","0px"),_}}),xe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(l,d){return{type:"vphantom",mode:l.parser.mode,body:d[0]}},htmlBuilder:function(l,d){var c=G.makeSpan(["inner"],[ht(l.body,d.withPhantom())]),p=G.makeSpan(["fix"],[]);return G.makeSpan(["mord","rlap"],[c,p],d)},mathmlBuilder:function(l,d){var c=ui(bn(l.body),d),p=new he.MathNode("mphantom",c),_=new he.MathNode("mpadded",[p]);return _.setAttribute("width","0px"),_}});var cs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Xr=function(l,d){var c=d.havingSize(l.size);return oo(l.body,c,d)};xe({type:"sizing",names:cs,props:{numArgs:0,allowedInText:!0},handler:function(l,d){var p=l.funcName,_=l.parser,E=_.parseExpression(!1,l.breakOnTokenText);return{type:"sizing",mode:_.mode,size:cs.indexOf(p)+1,body:E}},htmlBuilder:Xr,mathmlBuilder:function(l,d){var c=d.havingSize(l.size),p=ui(l.body,c),_=new he.MathNode("mstyle",p);return _.setAttribute("mathsize",c.sizeMultiplier+"em"),_}}),xe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","text"],allowedInText:!0},handler:function(l,d){var c=l.parser,p=et(d[0],"size").value;return{type:"raisebox",mode:c.mode,dy:p,body:d[1]}},htmlBuilder:function(l,d){var c={type:"text",mode:l.mode,body:bn(l.body),font:"mathrm"},_=Xr({type:"sizing",mode:l.mode,body:[c],size:6},d),E=Je(l.dy,d);return G.makeVList({positionType:"shift",positionData:-E,children:[{type:"elem",elem:_}]},d)},mathmlBuilder:function(l,d){var c=new he.MathNode("mpadded",[zt(l.body,d)]);return c.setAttribute("voffset",l.dy.number+l.dy.unit),c}}),xe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(l,d,c){var p=l.parser,_=c[0],E=et(d[0],"size"),C=et(d[1],"size");return{type:"rule",mode:p.mode,shift:_&&et(_,"size").value,width:E.value,height:C.value}},htmlBuilder:function(l,d){var c=G.makeSpan(["mord","rule"],[],d),p=Je(l.width,d),_=Je(l.height,d),E=l.shift?Je(l.shift,d):0;return c.style.borderRightWidth=p+"em",c.style.borderTopWidth=_+"em",c.style.bottom=E+"em",c.width=p,c.height=_+E,c.depth=-E,c.maxFontSize=1.125*_*d.sizeMultiplier,c},mathmlBuilder:function(l,d){var c=Je(l.width,d),p=Je(l.height,d),_=l.shift?Je(l.shift,d):0,E=d.color&&d.getColor()||"black",C=new he.MathNode("mspace");C.setAttribute("mathbackground",E),C.setAttribute("width",c+"em"),C.setAttribute("height",p+"em");var D=new he.MathNode("mpadded",[C]);return _>=0?D.setAttribute("height","+"+_+"em"):(D.setAttribute("height",_+"em"),D.setAttribute("depth","+"+-_+"em")),D.setAttribute("voffset",_+"em"),D}}),xe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(l,d,c){var p=l.parser,_=!1,E=!1,C=c[0]&&et(c[0],"ordgroup");if(C)for(var D="",z=0;z<C.body.length;++z)if("t"===(D=C.body[z].text))_=!0;else{if("b"!==D){_=!1,E=!1;break}E=!0}else _=!0,E=!0;return{type:"smash",mode:p.mode,body:d[0],smashHeight:_,smashDepth:E}},htmlBuilder:function(l,d){var c=G.makeSpan([],[ht(l.body,d)]);if(!l.smashHeight&&!l.smashDepth)return c;if(l.smashHeight&&(c.height=0,c.children))for(var p=0;p<c.children.length;p++)c.children[p].height=0;if(l.smashDepth&&(c.depth=0,c.children))for(var _=0;_<c.children.length;_++)c.children[_].depth=0;var E=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c}]},d);return G.makeSpan(["mord"],[E],d)},mathmlBuilder:function(l,d){var c=new he.MathNode("mpadded",[zt(l.body,d)]);return l.smashHeight&&c.setAttribute("height","0px"),l.smashDepth&&c.setAttribute("depth","0px"),c}}),xe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(l,d,c){return{type:"sqrt",mode:l.parser.mode,body:d[0],index:c[0]}},htmlBuilder:function(l,d){var c=ht(l.body,d.havingCrampedStyle());0===c.height&&(c.height=d.fontMetrics().xHeight),c=G.wrapFragment(c,d);var p=d.fontMetrics().defaultRuleThickness,_=p;d.style.id<ie.TEXT.id&&(_=d.fontMetrics().xHeight);var E=p+_/4,D=function(l,d){var c,p,_=d.havingBaseSizing(),E=li("\\surd",l*_.sizeMultiplier,ha,_),C=_.sizeMultiplier,D=0,z=0,j=0;return"small"===E.type?(l<1?C=1:l<1.4&&(C=.7),z=1/C,(c=da("sqrtMain",D=1.08/C,j=1080,d)).style.minWidth="0.853em",p=.833/C):"large"===E.type?(z=Bn[E.size]/C,(c=da("sqrtSize"+E.size,D=(Bn[E.size]+.08)/C,j=1080*Bn[E.size],d)).style.minWidth="1.02em",p=1/C):(D=l+.08,z=l,j=Math.floor(1e3*l)+80,(c=da("sqrtTall",D,j,d)).style.minWidth="0.742em",p=1.056),c.height=z,c.style.height=D+"em",{span:c,advanceWidth:p,ruleWidth:d.fontMetrics().sqrtRuleThickness*C}}(c.height+c.depth+E+p,d),z=D.span,j=D.ruleWidth,ee=z.height-j;ee>c.height+c.depth+E&&(E=(E+ee-c.height-c.depth)/2);var Z=z.height-c.height-E-j;c.style.paddingLeft=D.advanceWidth+"em";var ue=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c,wrapperClasses:["svg-align"]},{type:"kern",size:-(c.height+Z)},{type:"elem",elem:z},{type:"kern",size:j}]},d);if(l.index){var fe=d.havingStyle(ie.SCRIPTSCRIPT),ge=ht(l.index,fe,d),tt=G.makeVList({positionType:"shift",positionData:-.6*(ue.height-ue.depth),children:[{type:"elem",elem:ge}]},d),Ve=G.makeSpan(["root"],[tt]);return G.makeSpan(["mord","sqrt"],[Ve,ue],d)}return G.makeSpan(["mord","sqrt"],[ue],d)},mathmlBuilder:function(l,d){var c=l.body,p=l.index;return p?new he.MathNode("mroot",[zt(c,d),zt(p,d)]):new he.MathNode("msqrt",[zt(c,d)])}});var su={display:ie.DISPLAY,text:ie.TEXT,script:ie.SCRIPT,scriptscript:ie.SCRIPTSCRIPT};xe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0},handler:function(l,d){var p=l.funcName,_=l.parser,E=_.parseExpression(!0,l.breakOnTokenText),C=p.slice(1,p.length-5);return{type:"styling",mode:_.mode,style:C,body:E}},htmlBuilder:function(l,d){var p=d.havingStyle(su[l.style]).withFont("");return oo(l.body,p,d)},mathmlBuilder:function(l,d){var p=d.havingStyle({display:ie.DISPLAY,text:ie.TEXT,script:ie.SCRIPT,scriptscript:ie.SCRIPTSCRIPT}[l.style]),_=ui(l.body,p),E=new he.MathNode("mstyle",_),C={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[l.style];return E.setAttribute("scriptlevel",C[0]),E.setAttribute("displaystyle",C[1]),E}}),Ni({type:"supsub",htmlBuilder:function(l,d){var rt,cn,c=(cn=(rt=l).base)?"op"===cn.type?cn.limits&&(d.style.size===ie.DISPLAY.size||cn.alwaysHandleSupSub)?$i:null:"accent"===cn.type?re_isCharacterBox(cn.base)?ua:null:"horizBrace"===cn.type&&!rt.sub===cn.isOver?ro:null:null;if(c)return c(l,d);var p,_,E,C=l.base,D=l.sup,z=l.sub,j=ht(C,d),X=d.fontMetrics(),ee=0,Z=0,ue=C&&re_isCharacterBox(C);if(D){var fe=d.havingStyle(d.style.sup());p=ht(D,fe,d),ue||(ee=j.height-fe.fontMetrics().supDrop*fe.sizeMultiplier/d.sizeMultiplier)}if(z){var ge=d.havingStyle(d.style.sub());_=ht(z,ge,d),ue||(Z=j.depth+ge.fontMetrics().subDrop*ge.sizeMultiplier/d.sizeMultiplier)}E=d.style===ie.DISPLAY?X.sup1:d.style.cramped?X.sup3:X.sup2;var be,Ve=.5/X.ptPerEm/d.sizeMultiplier+"em",We=null;if(_&&(j instanceof In||l.base&&"op"===l.base.type&&l.base.name&&("\\oiint"===l.base.name||"\\oiiint"===l.base.name))&&(We=-j.italic+"em"),p&&_){ee=Math.max(ee,E,p.depth+.25*X.xHeight),Z=Math.max(Z,X.sub2);var ut=4*X.defaultRuleThickness;if(ee-p.depth-(_.height-Z)<ut){Z=ut-(ee-p.depth)+_.height;var Ye=.8*X.xHeight-(ee-p.depth);Ye>0&&(ee+=Ye,Z-=Ye)}be=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:_,shift:Z,marginRight:Ve,marginLeft:We},{type:"elem",elem:p,shift:-ee,marginRight:Ve}]},d)}else if(_)Z=Math.max(Z,X.sub1,_.height-.8*X.xHeight),be=G.makeVList({positionType:"shift",positionData:Z,children:[{type:"elem",elem:_,marginLeft:We,marginRight:Ve}]},d);else{if(!p)throw new Error("supsub must have either sup or sub.");ee=Math.max(ee,E,p.depth+.25*X.xHeight),be=G.makeVList({positionType:"shift",positionData:-ee,children:[{type:"elem",elem:p,marginRight:Ve}]},d)}var Xe=De(j,"right")||"mord";return G.makeSpan([Xe],[j,G.makeSpan(["msupsub"],[be])],d)},mathmlBuilder:function(l,d){var c,p=!1,_=_t(l.base,"horizBrace");_&&!!l.sup===_.isOver&&(p=!0,c=_.isOver),l.base&&"op"===l.base.type&&(l.base.parentIsSupSub=!0);var E,C=[zt(l.base,d)];if(l.sub&&C.push(zt(l.sub,d)),l.sup&&C.push(zt(l.sup,d)),p)E=c?"mover":"munder";else if(l.sub)if(l.sup){var D=l.base;E=D&&"op"===D.type&&D.limits&&d.style===ie.DISPLAY?"munderover":"msubsup"}else{var z=l.base;E=z&&"op"===z.type&&z.limits&&(d.style===ie.DISPLAY||z.alwaysHandleSupSub)?"munder":"msub"}else{var j=l.base;E=j&&"op"===j.type&&j.limits&&(d.style===ie.DISPLAY||j.alwaysHandleSupSub)?"mover":"msup"}return new he.MathNode(E,C)}}),Ni({type:"atom",htmlBuilder:function(l,d){return G.mathsym(l.text,l.mode,d,["m"+l.family])},mathmlBuilder:function(l,d){var c=new he.MathNode("mo",[Mn(l.text,l.mode)]);if("bin"===l.family){var p=oa(l,d);"bold-italic"===p&&c.setAttribute("mathvariant",p)}else"punct"===l.family?c.setAttribute("separator","true"):"open"!==l.family&&"close"!==l.family||c.setAttribute("stretchy","false");return c}});var _a={mi:"italic",mn:"normal",mtext:"normal"};Ni({type:"mathord",htmlBuilder:function(l,d){return G.makeOrd(l,d,"mathord")},mathmlBuilder:function(l,d){var c=new he.MathNode("mi",[Mn(l.text,l.mode,d)]),p=oa(l,d)||"italic";return p!==_a[c.type]&&c.setAttribute("mathvariant",p),c}}),Ni({type:"textord",htmlBuilder:function(l,d){return G.makeOrd(l,d,"textord")},mathmlBuilder:function(l,d){var c,p=Mn(l.text,l.mode,d),_=oa(l,d)||"normal";return c="text"===l.mode?new he.MathNode("mtext",[p]):/[0-9]/.test(l.text)?new he.MathNode("mn",[p]):new he.MathNode("\\prime"===l.text?"mo":"mi",[p]),_!==_a[c.type]&&c.setAttribute("mathvariant",_),c}});var Kr={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Zn={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ni({type:"spacing",htmlBuilder:function(l,d){if(Zn.hasOwnProperty(l.text)){var c=Zn[l.text].className||"";if("text"===l.mode){var p=G.makeOrd(l,d,"textord");return p.classes.push(c),p}return G.makeSpan(["mspace",c],[G.mathsym(l.text,l.mode,d)],d)}if(Kr.hasOwnProperty(l.text))return G.makeSpan(["mspace",Kr[l.text]],[],d);throw new le('Unknown type of space "'+l.text+'"')},mathmlBuilder:function(l,d){if(!Zn.hasOwnProperty(l.text)){if(Kr.hasOwnProperty(l.text))return new he.MathNode("mspace");throw new le('Unknown type of space "'+l.text+'"')}return new he.MathNode("mtext",[new he.TextNode("\xa0")])}});var ds=function(){var l=new he.MathNode("mtd",[]);return l.setAttribute("width","50%"),l};Ni({type:"tag",mathmlBuilder:function(l,d){var c=new he.MathNode("mtable",[new he.MathNode("mtr",[ds(),new he.MathNode("mtd",[sr(l.body,d)]),ds(),new he.MathNode("mtd",[sr(l.tag,d)])])]);return c.setAttribute("width","100%"),c}});var Ta={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},dr={"\\textbf":"textbf","\\textmd":"textmd"},wa={"\\textit":"textit","\\textup":"textup"},xa=function(l,d){var c=l.font;return c?Ta[c]?d.withTextFontFamily(Ta[c]):dr[c]?d.withTextFontWeight(dr[c]):d.withTextFontShape(wa[c]):d};xe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],greediness:2,allowedInText:!0,consumeMode:"text"},handler:function(l,d){var p=l.funcName;return{type:"text",mode:l.parser.mode,body:bn(d[0]),font:p}},htmlBuilder:function(l,d){var c=xa(l,d),p=Cn(l.body,c,!0);return G.makeSpan(["mord","text"],G.tryCombineChars(p),c)},mathmlBuilder:function(l,d){var c=xa(l,d);return sr(l.body,c)}}),xe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(l,d){return{type:"underline",mode:l.parser.mode,body:d[0]}},htmlBuilder:function(l,d){var c=ht(l.body,d),p=G.makeLineSpan("underline-line",d),_=G.makeVList({positionType:"top",positionData:c.height,children:[{type:"kern",size:p.height},{type:"elem",elem:p},{type:"kern",size:3*p.height},{type:"elem",elem:c}]},d);return G.makeSpan(["mord","underline"],[_],d)},mathmlBuilder:function(l,d){var c=new he.MathNode("mo",[new he.TextNode("\u203e")]);c.setAttribute("stretchy","true");var p=new he.MathNode("munder",[zt(l.body,d),c]);return p.setAttribute("accentunder","true"),p}}),xe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(l,d,c){throw new le("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(l,d){for(var c=hs(l),p=[],_=d.havingStyle(d.style.text()),E=0;E<c.length;E++){var C=c[E];"~"===C&&(C="\\textasciitilde"),p.push(G.makeSymbol(C,"Typewriter-Regular",l.mode,_,["mord","texttt"]))}return G.makeSpan(["mord","text"].concat(_.sizingClasses(d)),G.tryCombineChars(p),_)},mathmlBuilder:function(l,d){var c=new he.TextNode(hs(l)),p=new he.MathNode("mtext",[c]);return p.setAttribute("mathvariant","monospace"),p}});var hs=function(l){return l.body.replace(/ /g,l.star?"\u2423":"\xa0")},Yr=aa,Qr=new RegExp("^(\\\\[a-zA-Z@]+)[ \r\n\t]*$"),uo=new RegExp("[\u0300-\u036f]+$"),Sa=function(){function l(c,p){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=c,this.settings=p,this.tokenRegex=new RegExp("([ \r\n\t]+)|([!-\\[\\]-\u2027\u202a-\ud7ff\uf900-\uffff][\u0300-\u036f]*|[\ud800-\udbff][\udc00-\udfff][\u0300-\u036f]*|\\\\verb\\*([^]).*?\\3|\\\\verb([^*a-zA-Z]).*?\\4|\\\\[a-zA-Z@]+[ \r\n\t]*|\\\\[^\ud800-\udfff])","g"),this.catcodes={"%":14}}var d=l.prototype;return d.setCatcode=function(c,p){this.catcodes[c]=p},d.lex=function(){var c=this.input,p=this.tokenRegex.lastIndex;if(p===c.length)return new $e("EOF",new Se(this,p,p));var _=this.tokenRegex.exec(c);if(null===_||_.index!==p)throw new le("Unexpected character: '"+c[p]+"'",new $e(c[p],new Se(this,p,p+1)));var E=_[2]||" ";if(14===this.catcodes[E]){var C=c.indexOf("\n",this.tokenRegex.lastIndex);return-1===C?(this.tokenRegex.lastIndex=c.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=C+1,this.lex()}var D=E.match(Qr);return D&&(E=D[1]),new $e(E,new Se(this,p,this.tokenRegex.lastIndex))},l}(),co=function(){function l(c,p){void 0===c&&(c={}),void 0===p&&(p={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=p,this.builtins=c,this.undefStack=[]}var d=l.prototype;return d.beginGroup=function(){this.undefStack.push({})},d.endGroup=function(){if(0===this.undefStack.length)throw new le("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var c=this.undefStack.pop();for(var p in c)c.hasOwnProperty(p)&&(void 0===c[p]?delete this.current[p]:this.current[p]=c[p])},d.has=function(c){return this.current.hasOwnProperty(c)||this.builtins.hasOwnProperty(c)},d.get=function(c){return this.current.hasOwnProperty(c)?this.current[c]:this.builtins[c]},d.set=function(c,p,_){if(void 0===_&&(_=!1),_){for(var E=0;E<this.undefStack.length;E++)delete this.undefStack[E][c];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][c]=p)}else{var C=this.undefStack[this.undefStack.length-1];C&&!C.hasOwnProperty(c)&&(C[c]=this.current[c])}this.current[c]=p},l}(),ps={},fs=ps;function L(l,d){ps[l]=d}L("\\@firstoftwo",function(l){return{tokens:l.consumeArgs(2)[0],numArgs:0}}),L("\\@secondoftwo",function(l){return{tokens:l.consumeArgs(2)[1],numArgs:0}}),L("\\@ifnextchar",function(l){var d=l.consumeArgs(3),c=l.future();return 1===d[0].length&&d[0][0].text===c.text?{tokens:d[1],numArgs:0}:{tokens:d[2],numArgs:0}}),L("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),L("\\TextOrMath",function(l){var d=l.consumeArgs(2);return"text"===l.mode?{tokens:d[0],numArgs:0}:{tokens:d[1],numArgs:0}});var _n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};L("\\char",function(l){var d,c=l.popToken(),p="";if("'"===c.text)d=8,c=l.popToken();else if('"'===c.text)d=16,c=l.popToken();else if("`"===c.text)if("\\"===(c=l.popToken()).text[0])p=c.text.charCodeAt(1);else{if("EOF"===c.text)throw new le("\\char` missing argument");p=c.text.charCodeAt(0)}else d=10;if(d){if(null==(p=_n[c.text])||p>=d)throw new le("Invalid base-"+d+" digit "+c.text);for(var _;null!=(_=_n[l.future().text])&&_<d;)p*=d,p+=_,l.popToken()}return"\\@char{"+p+"}"});var yt=function(l,d){var c=l.consumeArgs(1)[0];if(1!==c.length)throw new le("\\gdef's first argument must be a macro name");var p=c[0].text,_=0;for(c=l.consumeArgs(1)[0];1===c.length&&"#"===c[0].text;){if(1!==(c=l.consumeArgs(1)[0]).length)throw new le('Invalid argument number length "'+c.length+'"');if(!/^[1-9]$/.test(c[0].text))throw new le('Invalid argument number "'+c[0].text+'"');if(_++,parseInt(c[0].text)!==_)throw new le('Argument number "'+c[0].text+'" out of order');c=l.consumeArgs(1)[0]}return l.macros.set(p,{tokens:c,numArgs:_},d),""};L("\\gdef",function(l){return yt(l,!0)}),L("\\def",function(l){return yt(l,!1)}),L("\\global",function(l){var d=l.consumeArgs(1)[0];if(1!==d.length)throw new le("Invalid command after \\global");var c=d[0].text;if("\\def"===c)return yt(l,!0);throw new le("Invalid command '"+c+"' after \\global")});var qt=function(l,d,c){var p=l.consumeArgs(1)[0];if(1!==p.length)throw new le("\\newcommand's first argument must be a macro name");var _=p[0].text,E=l.isDefined(_);if(E&&!d)throw new le("\\newcommand{"+_+"} attempting to redefine "+_+"; use \\renewcommand");if(!E&&!c)throw new le("\\renewcommand{"+_+"} when command "+_+" does not yet exist; use \\newcommand");var C=0;if(1===(p=l.consumeArgs(1)[0]).length&&"["===p[0].text){for(var D="",z=l.expandNextToken();"]"!==z.text&&"EOF"!==z.text;)D+=z.text,z=l.expandNextToken();if(!D.match(/^\s*[0-9]+\s*$/))throw new le("Invalid number of arguments: "+D);C=parseInt(D),p=l.consumeArgs(1)[0]}return l.macros.set(_,{tokens:p,numArgs:C}),""};L("\\newcommand",function(l){return qt(l,!1,!0)}),L("\\renewcommand",function(l){return qt(l,!0,!1)}),L("\\providecommand",function(l){return qt(l,!0,!0)}),L("\\bgroup","{"),L("\\egroup","}"),L("\\lq","`"),L("\\rq","'"),L("\\aa","\\r a"),L("\\AA","\\r A"),L("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xa9}"),L("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),L("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xae}"),L("\u212c","\\mathscr{B}"),L("\u2130","\\mathscr{E}"),L("\u2131","\\mathscr{F}"),L("\u210b","\\mathscr{H}"),L("\u2110","\\mathscr{I}"),L("\u2112","\\mathscr{L}"),L("\u2133","\\mathscr{M}"),L("\u211b","\\mathscr{R}"),L("\u212d","\\mathfrak{C}"),L("\u210c","\\mathfrak{H}"),L("\u2128","\\mathfrak{Z}"),L("\\Bbbk","\\Bbb{k}"),L("\xb7","\\cdotp"),L("\\llap","\\mathllap{\\textrm{#1}}"),L("\\rlap","\\mathrlap{\\textrm{#1}}"),L("\\clap","\\mathclap{\\textrm{#1}}"),L("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),L("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),L("\\ne","\\neq"),L("\u2260","\\neq"),L("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),L("\u2209","\\notin"),L("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),L("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),L("\u225a","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225a}}"),L("\u225b","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225b}}"),L("\u225d","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225d}}"),L("\u225e","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225e}}"),L("\u225f","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225f}}"),L("\u27c2","\\perp"),L("\u203c","\\mathclose{!\\mkern-0.8mu!}"),L("\u220c","\\notni"),L("\u231c","\\ulcorner"),L("\u231d","\\urcorner"),L("\u231e","\\llcorner"),L("\u231f","\\lrcorner"),L("\xa9","\\copyright"),L("\xae","\\textregistered"),L("\ufe0f","\\textregistered"),L("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),L("\u22ee","\\vdots"),L("\\varGamma","\\mathit{\\Gamma}"),L("\\varDelta","\\mathit{\\Delta}"),L("\\varTheta","\\mathit{\\Theta}"),L("\\varLambda","\\mathit{\\Lambda}"),L("\\varXi","\\mathit{\\Xi}"),L("\\varPi","\\mathit{\\Pi}"),L("\\varSigma","\\mathit{\\Sigma}"),L("\\varUpsilon","\\mathit{\\Upsilon}"),L("\\varPhi","\\mathit{\\Phi}"),L("\\varPsi","\\mathit{\\Psi}"),L("\\varOmega","\\mathit{\\Omega}"),L("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),L("\\boxed","\\fbox{$\\displaystyle{#1}$}"),L("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),L("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),L("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Fn={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};L("\\dots",function(l){var d="\\dotso",c=l.expandAfterFuture().text;return c in Fn?d=Fn[c]:("\\not"===c.substr(0,4)||c in ct.math&&re_contains(["bin","rel"],ct.math[c].group))&&(d="\\dotsb"),d});var un={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};L("\\dotso",function(l){return l.future().text in un?"\\ldots\\,":"\\ldots"}),L("\\dotsc",function(l){var d=l.future().text;return d in un&&","!==d?"\\ldots\\,":"\\ldots"}),L("\\cdots",function(l){return l.future().text in un?"\\@cdots\\,":"\\@cdots"}),L("\\dotsb","\\cdots"),L("\\dotsm","\\cdots"),L("\\dotsi","\\!\\cdots"),L("\\dotsx","\\ldots\\,"),L("\\DOTSI","\\relax"),L("\\DOTSB","\\relax"),L("\\DOTSX","\\relax"),L("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),L("\\,","\\tmspace+{3mu}{.1667em}"),L("\\thinspace","\\,"),L("\\>","\\mskip{4mu}"),L("\\:","\\tmspace+{4mu}{.2222em}"),L("\\medspace","\\:"),L("\\;","\\tmspace+{5mu}{.2777em}"),L("\\thickspace","\\;"),L("\\!","\\tmspace-{3mu}{.1667em}"),L("\\negthinspace","\\!"),L("\\negmedspace","\\tmspace-{4mu}{.2222em}"),L("\\negthickspace","\\tmspace-{5mu}{.277em}"),L("\\enspace","\\kern.5em "),L("\\enskip","\\hskip.5em\\relax"),L("\\quad","\\hskip1em\\relax"),L("\\qquad","\\hskip2em\\relax"),L("\\tag","\\@ifstar\\tag@literal\\tag@paren"),L("\\tag@paren","\\tag@literal{({#1})}"),L("\\tag@literal",function(l){if(l.macros.get("\\df@tag"))throw new le("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),L("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),L("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),L("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),L("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),L("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\mathrlap{\\mkern0.4mu\\raisebox{0.4mu}{$#1$}}{\\mkern0.8mu#1}}}{\\mathbf{#1}}"),L("\\\\","\\newline"),L("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var rn=Ti["Main-Regular"]["T".charCodeAt(0)][1]-.7*Ti["Main-Regular"]["A".charCodeAt(0)][1]+"em";L("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+rn+"}{\\scriptsize A}\\kern-.15em\\TeX}{LaTeX}}"),L("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+rn+"}{\\scriptsize A}\\kern-.15em\\TeX}{KaTeX}}"),L("\\hspace","\\@ifstar\\@hspacer\\@hspace"),L("\\@hspace","\\hskip #1\\relax"),L("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),L("\\ordinarycolon",":"),L("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),L("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),L("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),L("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),L("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),L("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),L("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),L("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),L("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),L("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),L("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),L("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),L("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),L("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),L("\u2237","\\dblcolon"),L("\u2239","\\eqcolon"),L("\u2254","\\coloneqq"),L("\u2255","\\eqqcolon"),L("\u2a74","\\Coloneqq"),L("\\ratio","\\vcentcolon"),L("\\coloncolon","\\dblcolon"),L("\\colonequals","\\coloneqq"),L("\\coloncolonequals","\\Coloneqq"),L("\\equalscolon","\\eqqcolon"),L("\\equalscoloncolon","\\Eqqcolon"),L("\\colonminus","\\coloneq"),L("\\coloncolonminus","\\Coloneq"),L("\\minuscolon","\\eqcolon"),L("\\minuscoloncolon","\\Eqcolon"),L("\\coloncolonapprox","\\Colonapprox"),L("\\coloncolonsim","\\Colonsim"),L("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),L("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),L("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),L("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),L("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220c}}"),L("\\limsup","\\DOTSB\\mathop{\\operatorname{lim\\,sup}}\\limits"),L("\\liminf","\\DOTSB\\mathop{\\operatorname{lim\\,inf}}\\limits"),L("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),L("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),L("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),L("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),L("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),L("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),L("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),L("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),L("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),L("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),L("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228a}"),L("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2acb}"),L("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228b}"),L("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2acc}"),L("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27e6}}"),L("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27e7}}"),L("\u27e6","\\llbracket"),L("\u27e7","\\rrbracket"),L("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),L("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),L("\u2983","\\lBrace"),L("\u2984","\\rBrace"),L("\\darr","\\downarrow"),L("\\dArr","\\Downarrow"),L("\\Darr","\\Downarrow"),L("\\lang","\\langle"),L("\\rang","\\rangle"),L("\\uarr","\\uparrow"),L("\\uArr","\\Uparrow"),L("\\Uarr","\\Uparrow"),L("\\N","\\mathbb{N}"),L("\\R","\\mathbb{R}"),L("\\Z","\\mathbb{Z}"),L("\\alef","\\aleph"),L("\\alefsym","\\aleph"),L("\\Alpha","\\mathrm{A}"),L("\\Beta","\\mathrm{B}"),L("\\bull","\\bullet"),L("\\Chi","\\mathrm{X}"),L("\\clubs","\\clubsuit"),L("\\cnums","\\mathbb{C}"),L("\\Complex","\\mathbb{C}"),L("\\Dagger","\\ddagger"),L("\\diamonds","\\diamondsuit"),L("\\empty","\\emptyset"),L("\\Epsilon","\\mathrm{E}"),L("\\Eta","\\mathrm{H}"),L("\\exist","\\exists"),L("\\harr","\\leftrightarrow"),L("\\hArr","\\Leftrightarrow"),L("\\Harr","\\Leftrightarrow"),L("\\hearts","\\heartsuit"),L("\\image","\\Im"),L("\\infin","\\infty"),L("\\Iota","\\mathrm{I}"),L("\\isin","\\in"),L("\\Kappa","\\mathrm{K}"),L("\\larr","\\leftarrow"),L("\\lArr","\\Leftarrow"),L("\\Larr","\\Leftarrow"),L("\\lrarr","\\leftrightarrow"),L("\\lrArr","\\Leftrightarrow"),L("\\Lrarr","\\Leftrightarrow"),L("\\Mu","\\mathrm{M}"),L("\\natnums","\\mathbb{N}"),L("\\Nu","\\mathrm{N}"),L("\\Omicron","\\mathrm{O}"),L("\\plusmn","\\pm"),L("\\rarr","\\rightarrow"),L("\\rArr","\\Rightarrow"),L("\\Rarr","\\Rightarrow"),L("\\real","\\Re"),L("\\reals","\\mathbb{R}"),L("\\Reals","\\mathbb{R}"),L("\\Rho","\\mathrm{P}"),L("\\sdot","\\cdot"),L("\\sect","\\S"),L("\\spades","\\spadesuit"),L("\\sub","\\subset"),L("\\sube","\\subseteq"),L("\\supe","\\supseteq"),L("\\Tau","\\mathrm{T}"),L("\\thetasym","\\vartheta"),L("\\weierp","\\wp"),L("\\Zeta","\\mathrm{Z}"),L("\\argmin","\\DOTSB\\mathop{\\operatorname{arg\\,min}}\\limits"),L("\\argmax","\\DOTSB\\mathop{\\operatorname{arg\\,max}}\\limits"),L("\\blue","\\textcolor{##6495ed}{#1}"),L("\\orange","\\textcolor{##ffa500}{#1}"),L("\\pink","\\textcolor{##ff00af}{#1}"),L("\\red","\\textcolor{##df0030}{#1}"),L("\\green","\\textcolor{##28ae7b}{#1}"),L("\\gray","\\textcolor{gray}{##1}"),L("\\purple","\\textcolor{##9d38bd}{#1}"),L("\\blueA","\\textcolor{##ccfaff}{#1}"),L("\\blueB","\\textcolor{##80f6ff}{#1}"),L("\\blueC","\\textcolor{##63d9ea}{#1}"),L("\\blueD","\\textcolor{##11accd}{#1}"),L("\\blueE","\\textcolor{##0c7f99}{#1}"),L("\\tealA","\\textcolor{##94fff5}{#1}"),L("\\tealB","\\textcolor{##26edd5}{#1}"),L("\\tealC","\\textcolor{##01d1c1}{#1}"),L("\\tealD","\\textcolor{##01a995}{#1}"),L("\\tealE","\\textcolor{##208170}{#1}"),L("\\greenA","\\textcolor{##b6ffb0}{#1}"),L("\\greenB","\\textcolor{##8af281}{#1}"),L("\\greenC","\\textcolor{##74cf70}{#1}"),L("\\greenD","\\textcolor{##1fab54}{#1}"),L("\\greenE","\\textcolor{##0d923f}{#1}"),L("\\goldA","\\textcolor{##ffd0a9}{#1}"),L("\\goldB","\\textcolor{##ffbb71}{#1}"),L("\\goldC","\\textcolor{##ff9c39}{#1}"),L("\\goldD","\\textcolor{##e07d10}{#1}"),L("\\goldE","\\textcolor{##a75a05}{#1}"),L("\\redA","\\textcolor{##fca9a9}{#1}"),L("\\redB","\\textcolor{##ff8482}{#1}"),L("\\redC","\\textcolor{##f9685d}{#1}"),L("\\redD","\\textcolor{##e84d39}{#1}"),L("\\redE","\\textcolor{##bc2612}{#1}"),L("\\maroonA","\\textcolor{##ffbde0}{#1}"),L("\\maroonB","\\textcolor{##ff92c6}{#1}"),L("\\maroonC","\\textcolor{##ed5fa6}{#1}"),L("\\maroonD","\\textcolor{##ca337c}{#1}"),L("\\maroonE","\\textcolor{##9e034e}{#1}"),L("\\purpleA","\\textcolor{##ddd7ff}{#1}"),L("\\purpleB","\\textcolor{##c6b9fc}{#1}"),L("\\purpleC","\\textcolor{##aa87ff}{#1}"),L("\\purpleD","\\textcolor{##7854ab}{#1}"),L("\\purpleE","\\textcolor{##543b78}{#1}"),L("\\mintA","\\textcolor{##f5f9e8}{#1}"),L("\\mintB","\\textcolor{##edf2df}{#1}"),L("\\mintC","\\textcolor{##e0e5cc}{#1}"),L("\\grayA","\\textcolor{##f6f7f7}{#1}"),L("\\grayB","\\textcolor{##f0f1f2}{#1}"),L("\\grayC","\\textcolor{##e3e5e6}{#1}"),L("\\grayD","\\textcolor{##d6d8da}{#1}"),L("\\grayE","\\textcolor{##babec2}{#1}"),L("\\grayF","\\textcolor{##888d93}{#1}"),L("\\grayG","\\textcolor{##626569}{#1}"),L("\\grayH","\\textcolor{##3b3e40}{#1}"),L("\\grayI","\\textcolor{##21242c}{#1}"),L("\\kaBlue","\\textcolor{##314453}{#1}"),L("\\kaGreen","\\textcolor{##71B307}{#1}");var Pn={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},On=function(){function l(c,p,_){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=p,this.expansionCount=0,this.feed(c),this.macros=new co(fs,p.macros),this.mode=_,this.stack=[]}var d=l.prototype;return d.feed=function(c){this.lexer=new Sa(c,this.settings)},d.switchMode=function(c){this.mode=c},d.beginGroup=function(){this.macros.beginGroup()},d.endGroup=function(){this.macros.endGroup()},d.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},d.popToken=function(){return this.future(),this.stack.pop()},d.pushToken=function(c){this.stack.push(c)},d.pushTokens=function(c){var p;(p=this.stack).push.apply(p,c)},d.consumeSpaces=function(){for(;" "===this.future().text;)this.stack.pop()},d.consumeArgs=function(c){for(var p=[],_=0;_<c;++_){this.consumeSpaces();var E=this.popToken();if("{"===E.text){for(var C=[],D=1;0!==D;){var z=this.popToken();if(C.push(z),"{"===z.text)++D;else if("}"===z.text)--D;else if("EOF"===z.text)throw new le("End of input in macro argument",E)}C.pop(),C.reverse(),p[_]=C}else{if("EOF"===E.text)throw new le("End of input expecting macro argument");p[_]=[E]}}return p},d.expandOnce=function(){var c=this.popToken(),_=this._getExpansion(c.text);if(null==_)return this.pushToken(c),c;if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new le("Too many expansions: infinite loop or need to increase maxExpand setting");var E=_.tokens;if(_.numArgs)for(var C=this.consumeArgs(_.numArgs),D=(E=E.slice()).length-1;D>=0;--D){var z=E[D];if("#"===z.text){if(0===D)throw new le("Incomplete placeholder at end of macro body",z);if("#"===(z=E[--D]).text)E.splice(D+1,1);else{if(!/^[1-9]$/.test(z.text))throw new le("Not a valid argument number",z);var j;(j=E).splice.apply(j,[D,2].concat(C[+z.text-1]))}}}return this.pushTokens(E),E},d.expandAfterFuture=function(){return this.expandOnce(),this.future()},d.expandNextToken=function(){for(;;){var c=this.expandOnce();if(c instanceof $e){if("\\relax"!==c.text)return this.stack.pop();this.stack.pop()}}throw new Error},d.expandMacro=function(c){if(this.macros.get(c)){var p=[],_=this.stack.length;for(this.pushToken(new $e(c));this.stack.length>_;)this.expandOnce()instanceof $e&&p.push(this.stack.pop());return p}},d.expandMacroAsText=function(c){var p=this.expandMacro(c);return p&&p.map(function(_){return _.text}).join("")},d._getExpansion=function(c){var p=this.macros.get(c);if(null==p)return p;var _="function"==typeof p?p(this):p;if("string"==typeof _){var E=0;if(-1!==_.indexOf("#"))for(var C=_.replace(/##/g,"");-1!==C.indexOf("#"+(E+1));)++E;for(var D=new Sa(_,this.settings),z=[],j=D.lex();"EOF"!==j.text;)z.push(j),j=D.lex();return z.reverse(),{tokens:z,numArgs:E}}return _},d.isDefined=function(c){return this.macros.has(c)||Yr.hasOwnProperty(c)||ct.math.hasOwnProperty(c)||ct.text.hasOwnProperty(c)||Pn.hasOwnProperty(c)},l}(),nt={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030c":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030a":{text:"\\r",math:"\\mathring"},"\u030b":{text:"\\H"}},ln={\u00e1:"a\u0301",\u00e0:"a\u0300",\u00e4:"a\u0308",\u01df:"a\u0308\u0304",\u00e3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1eaf:"a\u0306\u0301",\u1eb1:"a\u0306\u0300",\u1eb5:"a\u0306\u0303",\u01ce:"a\u030c",\u00e2:"a\u0302",\u1ea5:"a\u0302\u0301",\u1ea7:"a\u0302\u0300",\u1eab:"a\u0302\u0303",\u0227:"a\u0307",\u01e1:"a\u0307\u0304",\u00e5:"a\u030a",\u01fb:"a\u030a\u0301",\u1e03:"b\u0307",\u0107:"c\u0301",\u010d:"c\u030c",\u0109:"c\u0302",\u010b:"c\u0307",\u010f:"d\u030c",\u1e0b:"d\u0307",\u00e9:"e\u0301",\u00e8:"e\u0300",\u00eb:"e\u0308",\u1ebd:"e\u0303",\u0113:"e\u0304",\u1e17:"e\u0304\u0301",\u1e15:"e\u0304\u0300",\u0115:"e\u0306",\u011b:"e\u030c",\u00ea:"e\u0302",\u1ebf:"e\u0302\u0301",\u1ec1:"e\u0302\u0300",\u1ec5:"e\u0302\u0303",\u0117:"e\u0307",\u1e1f:"f\u0307",\u01f5:"g\u0301",\u1e21:"g\u0304",\u011f:"g\u0306",\u01e7:"g\u030c",\u011d:"g\u0302",\u0121:"g\u0307",\u1e27:"h\u0308",\u021f:"h\u030c",\u0125:"h\u0302",\u1e23:"h\u0307",\u00ed:"i\u0301",\u00ec:"i\u0300",\u00ef:"i\u0308",\u1e2f:"i\u0308\u0301",\u0129:"i\u0303",\u012b:"i\u0304",\u012d:"i\u0306",\u01d0:"i\u030c",\u00ee:"i\u0302",\u01f0:"j\u030c",\u0135:"j\u0302",\u1e31:"k\u0301",\u01e9:"k\u030c",\u013a:"l\u0301",\u013e:"l\u030c",\u1e3f:"m\u0301",\u1e41:"m\u0307",\u0144:"n\u0301",\u01f9:"n\u0300",\u00f1:"n\u0303",\u0148:"n\u030c",\u1e45:"n\u0307",\u00f3:"o\u0301",\u00f2:"o\u0300",\u00f6:"o\u0308",\u022b:"o\u0308\u0304",\u00f5:"o\u0303",\u1e4d:"o\u0303\u0301",\u1e4f:"o\u0303\u0308",\u022d:"o\u0303\u0304",\u014d:"o\u0304",\u1e53:"o\u0304\u0301",\u1e51:"o\u0304\u0300",\u014f:"o\u0306",\u01d2:"o\u030c",\u00f4:"o\u0302",\u1ed1:"o\u0302\u0301",\u1ed3:"o\u0302\u0300",\u1ed7:"o\u0302\u0303",\u022f:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030b",\u1e55:"p\u0301",\u1e57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030c",\u1e59:"r\u0307",\u015b:"s\u0301",\u1e65:"s\u0301\u0307",\u0161:"s\u030c",\u1e67:"s\u030c\u0307",\u015d:"s\u0302",\u1e61:"s\u0307",\u1e97:"t\u0308",\u0165:"t\u030c",\u1e6b:"t\u0307",\u00fa:"u\u0301",\u00f9:"u\u0300",\u00fc:"u\u0308",\u01d8:"u\u0308\u0301",\u01dc:"u\u0308\u0300",\u01d6:"u\u0308\u0304",\u01da:"u\u0308\u030c",\u0169:"u\u0303",\u1e79:"u\u0303\u0301",\u016b:"u\u0304",\u1e7b:"u\u0304\u0308",\u016d:"u\u0306",\u01d4:"u\u030c",\u00fb:"u\u0302",\u016f:"u\u030a",\u0171:"u\u030b",\u1e7d:"v\u0303",\u1e83:"w\u0301",\u1e81:"w\u0300",\u1e85:"w\u0308",\u0175:"w\u0302",\u1e87:"w\u0307",\u1e98:"w\u030a",\u1e8d:"x\u0308",\u1e8b:"x\u0307",\u00fd:"y\u0301",\u1ef3:"y\u0300",\u00ff:"y\u0308",\u1ef9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1e8f:"y\u0307",\u1e99:"y\u030a",\u017a:"z\u0301",\u017e:"z\u030c",\u1e91:"z\u0302",\u017c:"z\u0307",\u00c1:"A\u0301",\u00c0:"A\u0300",\u00c4:"A\u0308",\u01de:"A\u0308\u0304",\u00c3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1eae:"A\u0306\u0301",\u1eb0:"A\u0306\u0300",\u1eb4:"A\u0306\u0303",\u01cd:"A\u030c",\u00c2:"A\u0302",\u1ea4:"A\u0302\u0301",\u1ea6:"A\u0302\u0300",\u1eaa:"A\u0302\u0303",\u0226:"A\u0307",\u01e0:"A\u0307\u0304",\u00c5:"A\u030a",\u01fa:"A\u030a\u0301",\u1e02:"B\u0307",\u0106:"C\u0301",\u010c:"C\u030c",\u0108:"C\u0302",\u010a:"C\u0307",\u010e:"D\u030c",\u1e0a:"D\u0307",\u00c9:"E\u0301",\u00c8:"E\u0300",\u00cb:"E\u0308",\u1ebc:"E\u0303",\u0112:"E\u0304",\u1e16:"E\u0304\u0301",\u1e14:"E\u0304\u0300",\u0114:"E\u0306",\u011a:"E\u030c",\u00ca:"E\u0302",\u1ebe:"E\u0302\u0301",\u1ec0:"E\u0302\u0300",\u1ec4:"E\u0302\u0303",\u0116:"E\u0307",\u1e1e:"F\u0307",\u01f4:"G\u0301",\u1e20:"G\u0304",\u011e:"G\u0306",\u01e6:"G\u030c",\u011c:"G\u0302",\u0120:"G\u0307",\u1e26:"H\u0308",\u021e:"H\u030c",\u0124:"H\u0302",\u1e22:"H\u0307",\u00cd:"I\u0301",\u00cc:"I\u0300",\u00cf:"I\u0308",\u1e2e:"I\u0308\u0301",\u0128:"I\u0303",\u012a:"I\u0304",\u012c:"I\u0306",\u01cf:"I\u030c",\u00ce:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1e30:"K\u0301",\u01e8:"K\u030c",\u0139:"L\u0301",\u013d:"L\u030c",\u1e3e:"M\u0301",\u1e40:"M\u0307",\u0143:"N\u0301",\u01f8:"N\u0300",\u00d1:"N\u0303",\u0147:"N\u030c",\u1e44:"N\u0307",\u00d3:"O\u0301",\u00d2:"O\u0300",\u00d6:"O\u0308",\u022a:"O\u0308\u0304",\u00d5:"O\u0303",\u1e4c:"O\u0303\u0301",\u1e4e:"O\u0303\u0308",\u022c:"O\u0303\u0304",\u014c:"O\u0304",\u1e52:"O\u0304\u0301",\u1e50:"O\u0304\u0300",\u014e:"O\u0306",\u01d1:"O\u030c",\u00d4:"O\u0302",\u1ed0:"O\u0302\u0301",\u1ed2:"O\u0302\u0300",\u1ed6:"O\u0302\u0303",\u022e:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030b",\u1e54:"P\u0301",\u1e56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030c",\u1e58:"R\u0307",\u015a:"S\u0301",\u1e64:"S\u0301\u0307",\u0160:"S\u030c",\u1e66:"S\u030c\u0307",\u015c:"S\u0302",\u1e60:"S\u0307",\u0164:"T\u030c",\u1e6a:"T\u0307",\u00da:"U\u0301",\u00d9:"U\u0300",\u00dc:"U\u0308",\u01d7:"U\u0308\u0301",\u01db:"U\u0308\u0300",\u01d5:"U\u0308\u0304",\u01d9:"U\u0308\u030c",\u0168:"U\u0303",\u1e78:"U\u0303\u0301",\u016a:"U\u0304",\u1e7a:"U\u0304\u0308",\u016c:"U\u0306",\u01d3:"U\u030c",\u00db:"U\u0302",\u016e:"U\u030a",\u0170:"U\u030b",\u1e7c:"V\u0303",\u1e82:"W\u0301",\u1e80:"W\u0300",\u1e84:"W\u0308",\u0174:"W\u0302",\u1e86:"W\u0307",\u1e8c:"X\u0308",\u1e8a:"X\u0307",\u00dd:"Y\u0301",\u1ef2:"Y\u0300",\u0178:"Y\u0308",\u1ef8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1e8e:"Y\u0307",\u0179:"Z\u0301",\u017d:"Z\u030c",\u1e90:"Z\u0302",\u017b:"Z\u0307",\u03ac:"\u03b1\u0301",\u1f70:"\u03b1\u0300",\u1fb1:"\u03b1\u0304",\u1fb0:"\u03b1\u0306",\u03ad:"\u03b5\u0301",\u1f72:"\u03b5\u0300",\u03ae:"\u03b7\u0301",\u1f74:"\u03b7\u0300",\u03af:"\u03b9\u0301",\u1f76:"\u03b9\u0300",\u03ca:"\u03b9\u0308",\u0390:"\u03b9\u0308\u0301",\u1fd2:"\u03b9\u0308\u0300",\u1fd1:"\u03b9\u0304",\u1fd0:"\u03b9\u0306",\u03cc:"\u03bf\u0301",\u1f78:"\u03bf\u0300",\u03cd:"\u03c5\u0301",\u1f7a:"\u03c5\u0300",\u03cb:"\u03c5\u0308",\u03b0:"\u03c5\u0308\u0301",\u1fe2:"\u03c5\u0308\u0300",\u1fe1:"\u03c5\u0304",\u1fe0:"\u03c5\u0306",\u03ce:"\u03c9\u0301",\u1f7c:"\u03c9\u0300",\u038e:"\u03a5\u0301",\u1fea:"\u03a5\u0300",\u03ab:"\u03a5\u0308",\u1fe9:"\u03a5\u0304",\u1fe8:"\u03a5\u0306",\u038f:"\u03a9\u0301",\u1ffa:"\u03a9\u0300"},Ot=function(){function l(c,p){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new On(c,p,this.mode),this.settings=p,this.leftrightDepth=0}var d=l.prototype;return d.expect=function(c,p){if(void 0===p&&(p=!0),this.nextToken.text!==c)throw new le("Expected '"+c+"', got '"+this.nextToken.text+"'",this.nextToken);p&&this.consume()},d.consume=function(){this.nextToken=this.gullet.expandNextToken()},d.switchMode=function(c){this.mode=c,this.gullet.switchMode(c)},d.parse=function(){this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor"),this.consume();var c=this.parseExpression(!1);return this.expect("EOF",!1),this.gullet.endGroup(),c},d.parseExpression=function(c,p){for(var _=[];;){"math"===this.mode&&this.consumeSpaces();var E=this.nextToken;if(-1!==l.endOfExpression.indexOf(E.text)||p&&E.text===p||c&&Yr[E.text]&&Yr[E.text].infix)break;var C=this.parseAtom(p);if(!C)break;_.push(C)}return"text"===this.mode&&this.formLigatures(_),this.handleInfixNodes(_)},d.handleInfixNodes=function(c){for(var p,_=-1,E=0;E<c.length;E++){var C=_t(c[E],"infix");if(C){if(-1!==_)throw new le("only one infix operator per group",C.token);_=E,p=C.replaceWith}}if(-1!==_&&p){var D,z,j=c.slice(0,_),X=c.slice(_+1);return D=1===j.length&&"ordgroup"===j[0].type?j[0]:{type:"ordgroup",mode:this.mode,body:j},z=1===X.length&&"ordgroup"===X[0].type?X[0]:{type:"ordgroup",mode:this.mode,body:X},[this.callFunction(p,"\\\\abovefrac"===p?[D,c[_],z]:[D,z],[])]}return c},d.handleSupSubscript=function(c){var p=this.nextToken,_=p.text;this.consume(),this.consumeSpaces();var E=this.parseGroup(c,!1,l.SUPSUB_GREEDINESS);if(!E)throw new le("Expected group after '"+_+"'",p);return E},d.handleUnsupportedCmd=function(){for(var c=this.nextToken.text,p=[],_=0;_<c.length;_++)p.push({type:"textord",mode:"text",text:c[_]});var C={type:"color",mode:this.mode,color:this.settings.errorColor,body:[{type:"text",mode:this.mode,body:p}]};return this.consume(),C},d.parseAtom=function(c){var p,_,E=this.parseGroup("atom",!1,null,c);if("text"===this.mode)return E;for(;;){this.consumeSpaces();var C=this.nextToken;if("\\limits"===C.text||"\\nolimits"===C.text){var D=_t(E,"op");if(!D)throw new le("Limit controls must follow a math operator",C);D.limits="\\limits"===C.text,D.alwaysHandleSupSub=!0,this.consume()}else if("^"===C.text){if(p)throw new le("Double superscript",C);p=this.handleSupSubscript("superscript")}else if("_"===C.text){if(_)throw new le("Double subscript",C);_=this.handleSupSubscript("subscript")}else{if("'"!==C.text)break;if(p)throw new le("Double superscript",C);var j={type:"textord",mode:this.mode,text:"\\prime"},X=[j];for(this.consume();"'"===this.nextToken.text;)X.push(j),this.consume();"^"===this.nextToken.text&&X.push(this.handleSupSubscript("superscript")),p={type:"ordgroup",mode:this.mode,body:X}}}return p||_?{type:"supsub",mode:this.mode,base:E,sup:p,sub:_}:E},d.parseFunction=function(c,p,_){var E=this.nextToken,C=E.text,D=Yr[C];if(!D)return null;if(null!=_&&D.greediness<=_)throw new le("Got function '"+C+"' with no arguments"+(p?" as "+p:""),E);if("text"===this.mode&&!D.allowedInText)throw new le("Can't use function '"+C+"' in text mode",E);if("math"===this.mode&&!1===D.allowedInMath)throw new le("Can't use function '"+C+"' in math mode",E);if(D.argTypes&&"url"===D.argTypes[0]&&this.gullet.lexer.setCatcode("%",13),D.consumeMode){var z=this.mode;this.switchMode(D.consumeMode),this.consume(),this.switchMode(z)}else this.consume();var j=this.parseArguments(C,D);return this.callFunction(C,j.args,j.optArgs,E,c)},d.callFunction=function(c,p,_,E,C){var z=Yr[c];if(z&&z.handler)return z.handler({funcName:c,parser:this,token:E,breakOnTokenText:C},p,_);throw new le("No function handler for "+c)},d.parseArguments=function(c,p){var _=p.numArgs+p.numOptionalArgs;if(0===_)return{args:[],optArgs:[]};for(var E=p.greediness,C=[],D=[],z=0;z<_;z++){var j=p.argTypes&&p.argTypes[z],X=z<p.numOptionalArgs;z>0&&!X&&this.consumeSpaces(),0!==z||X||"math"!==this.mode||this.consumeSpaces();var ee=this.nextToken,Z=this.parseGroupOfType("argument to '"+c+"'",j,X,E);if(!Z){if(X){D.push(null);continue}throw new le("Expected group after '"+c+"'",ee)}(X?D:C).push(Z)}return{args:C,optArgs:D}},d.parseGroupOfType=function(c,p,_,E){switch(p){case"color":return this.parseColorGroup(_);case"size":return this.parseSizeGroup(_);case"url":return this.parseUrlGroup(_);case"math":case"text":return this.parseGroup(c,_,E,void 0,p);case"raw":if(_&&"{"===this.nextToken.text)return null;var C=this.parseStringGroup("raw",_,!0);if(C)return{type:"raw",mode:"text",string:C.text};throw new le("Expected raw group",this.nextToken);case"original":case null:case void 0:return this.parseGroup(c,_,E);default:throw new le("Unknown group type as "+c,this.nextToken)}},d.consumeSpaces=function(){for(;" "===this.nextToken.text;)this.consume()},d.parseStringGroup=function(c,p,_){var E=p?"[":"{",C=p?"]":"}",D=this.nextToken;if(D.text!==E){if(p)return null;if(_&&"EOF"!==D.text&&/[^{}[\]]/.test(D.text))return this.gullet.lexer.setCatcode("%",14),this.consume(),D}var z=this.mode;this.mode="text",this.expect(E);for(var j="",X=this.nextToken,ee=0,Z=X;_&&ee>0||this.nextToken.text!==C;){switch(this.nextToken.text){case"EOF":throw new le("Unexpected end of input in "+c,X.range(Z,j));case E:ee++;break;case C:ee--}j+=(Z=this.nextToken).text,this.consume()}return this.mode=z,this.gullet.lexer.setCatcode("%",14),this.expect(C),X.range(Z,j)},d.parseRegexGroup=function(c,p){var _=this.mode;this.mode="text";for(var E=this.nextToken,C=E,D="";"EOF"!==this.nextToken.text&&c.test(D+this.nextToken.text);)D+=(C=this.nextToken).text,this.consume();if(""===D)throw new le("Invalid "+p+": '"+E.text+"'",E);return this.mode=_,E.range(C,D)},d.parseColorGroup=function(c){var p=this.parseStringGroup("color",c);if(!p)return null;var _=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(p.text);if(!_)throw new le("Invalid color: '"+p.text+"'",p);var E=_[0];return/^[0-9a-f]{6}$/i.test(E)&&(E="#"+E),{type:"color-token",mode:this.mode,color:E}},d.parseSizeGroup=function(c){var p,_=!1;if(!(p=c||"{"===this.nextToken.text?this.parseStringGroup("size",c):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;c||0!==p.text.length||(p.text="0pt",_=!0);var E=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(p.text);if(!E)throw new le("Invalid size: '"+p.text+"'",p);var C,D={number:+(E[1]+E[2]),unit:E[3]};if("string"!=typeof(C=D)&&(C=C.unit),!(C in Ue)&&!(C in Gt)&&"ex"!==C)throw new le("Invalid unit: '"+D.unit+"'",p);return{type:"size",mode:this.mode,value:D,isBlank:_}},d.parseUrlGroup=function(c){var p=this.parseStringGroup("url",c,!0);if(!p)return null;var _=p.text.replace(/\\([#$%&~_^{}])/g,"$1"),E=/^\s*([^\\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(_);E=null!=E?E[1]:"_relative";var C=this.settings.allowedProtocols;if(!re_contains(C,"*")&&!re_contains(C,E))throw new le("Forbidden protocol '"+E+"'",p);return{type:"url",mode:this.mode,url:_}},d.parseGroup=function(c,p,_,E,C){var D,z,j=this.mode,X=this.nextToken,ee=X.text;if(C&&this.switchMode(C),p?"["===ee:"{"===ee||"\\begingroup"===ee){D=l.endOfGroup[ee],this.gullet.beginGroup(),this.consume();var Z=this.parseExpression(!1,D),ue=this.nextToken;this.gullet.endGroup(),z={type:"ordgroup",mode:this.mode,loc:Se.range(X,ue),body:Z,semisimple:"\\begingroup"===ee||void 0}}else if(p)z=null;else if(null==(z=this.parseFunction(E,c,_)||this.parseSymbol())&&"\\"===ee[0]&&!Pn.hasOwnProperty(ee)){if(this.settings.throwOnError)throw new le("Undefined control sequence: "+ee,X);z=this.handleUnsupportedCmd()}return C&&this.switchMode(j),D&&this.expect(D),z},d.formLigatures=function(c){for(var p=c.length-1,_=0;_<p;++_){var E=c[_],C=E.text;"-"===C&&"-"===c[_+1].text&&(_+1<p&&"-"===c[_+2].text?(c.splice(_,3,{type:"textord",mode:"text",loc:Se.range(E,c[_+2]),text:"---"}),p-=2):(c.splice(_,2,{type:"textord",mode:"text",loc:Se.range(E,c[_+1]),text:"--"}),p-=1)),"'"!==C&&"`"!==C||c[_+1].text!==C||(c.splice(_,2,{type:"textord",mode:"text",loc:Se.range(E,c[_+1]),text:C+C}),p-=1)}},d.parseSymbol=function(){var c=this.nextToken,p=c.text;if(/^\\verb[^a-zA-Z]/.test(p)){this.consume();var _=p.slice(5),E="*"===_.charAt(0);if(E&&(_=_.slice(1)),_.length<2||_.charAt(0)!==_.slice(-1))throw new le("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:_=_.slice(1,-1),star:E}}ln.hasOwnProperty(p[0])&&!ct[this.mode][p[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+p[0]+'" used in math mode',c),p=ln[p[0]]+p.substr(1));var C,D=uo.exec(p);if(D&&("i"===(p=p.substring(0,D.index))?p="\u0131":"j"===p&&(p="\u0237")),ct[this.mode][p]){this.settings.strict&&"math"===this.mode&&"\xc7\xd0\xde\xe7\xfe".indexOf(p)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+p[0]+'" used in math mode',c);var j=ct[this.mode][p].group,X=Se.range(c);C=qe.hasOwnProperty(j)?{type:"atom",mode:this.mode,family:j,loc:X,text:p}:{type:j,mode:this.mode,loc:X,text:p}}else{if(!(p.charCodeAt(0)>=128))return null;this.settings.strict&&(mt(p.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+p[0]+'" used in math mode',c):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+p[0]+'" ('+p.charCodeAt(0)+")",c)),C={type:"textord",mode:this.mode,loc:Se.range(c),text:p}}if(this.consume(),D)for(var Z=0;Z<D[0].length;Z++){var ue=D[0][Z];if(!nt[ue])throw new le("Unknown accent ' "+ue+"'",c);var fe=nt[ue][this.mode];if(!fe)throw new le("Accent "+ue+" unsupported in "+this.mode+" mode",c);C={type:"accent",mode:this.mode,loc:Se.range(c),label:fe,isStretchy:!1,isShifty:!0,base:C}}return C},l}();Ot.endOfExpression=["}","\\endgroup","\\end","\\right","&"],Ot.endOfGroup={"[":"]","{":"}","\\begingroup":"\\endgroup"},Ot.SUPSUB_GREEDINESS=1;var Ui=function(l,d){if(!("string"==typeof l||l instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var c=new Ot(l,d);delete c.gullet.macros.current["\\df@tag"];var p=c.parse();if(c.gullet.macros.get("\\df@tag")){if(!d.displayMode)throw new le("\\tag works only in display equations");c.gullet.feed("\\df@tag"),p=[{type:"tag",mode:"text",body:p,tag:c.parse()}]}return p},ms=function(l,d,c){d.textContent="";var p=$r(l,c).toNode();d.appendChild(p)};typeof document<"u"&&"CSS1Compat"!==document.compatMode&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),ms=function(){throw new le("KaTeX doesn't work in quirks mode.")});var ho=function(l,d,c){if(c.throwOnError||!(l instanceof le))throw l;var p=G.makeSpan(["katex-error"],[new In(d)]);return p.setAttribute("title",l.toString()),p.setAttribute("style","color:"+c.errorColor),p},$r=function(l,d){var c=new Re(d);try{return function(l,d,c){var p=or(c),_=function(D,z,j){var X,ee=ui(D,j);X=1===ee.length&&ee[0]instanceof Ft&&re_contains(["mrow","mtable"],ee[0].type)?ee[0]:new he.MathNode("mrow",ee);var Z=new he.MathNode("annotation",[new he.TextNode(z)]);Z.setAttribute("encoding","application/x-tex");var ue=new he.MathNode("semantics",[X,Z]),fe=new he.MathNode("math",[ue]);return G.makeSpan(["katex-mathml"],[fe])}(l,d,p),E=Yi(l,p),C=G.makeSpan(["katex"],[_,E]);return Za(C,c)}(Ui(l,c),l,c)}catch(_){return ho(_,l,c)}};At.default={version:"0.10.2",render:ms,renderToString:function(l,d){return $r(l,d).toMarkup()},ParseError:le,__parse:function(l,d){var c=new Re(d);return Ui(l,c)},__renderToDomTree:$r,__renderToHTMLTree:function(l,d){var p,E,C,D,c=new Re(d);try{return C=Yi(p=Ui(l,c),or(E=c)),D=G.makeSpan(["katex"],[C]),Za(D,E)}catch(p){return ho(p,l,c)}},__setFontMetrics:function(l,d){Ti[l]=d},__defineSymbol:f,__defineMacro:L,__domTree:{Span:$n,Anchor:Wi,SymbolNode:In,SvgNode:jt,PathNode:bi,LineNode:_i}}}]).default}),function(ae,At){"object"==typeof exports&&typeof module<"u"?module.exports=At():"function"==typeof define&&define.amd?define(At):(ae=typeof globalThis<"u"?globalThis:ae||self).videojs=At()}(this,function(){"use strict";for(var ae,ze={},Se=function(t,a){return ze[t]=ze[t]||[],a&&(ze[t]=ze[t].concat(a)),ze[t]},$e=function(t,a){return!((a=Se(t).indexOf(a))<=-1||(ze[t]=ze[t].slice(),ze[t].splice(a,1),0))},$t={prefixed:!0},le=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],ni=le[0],ii=0;ii<le.length;ii++)if(le[ii][1]in document){ae=le[ii];break}if(ae){for(var Jt=0;Jt<ae.length;Jt++)$t[ni[Jt]]=ae[Jt];$t.prefixed=ae[0]!==ni[0]}var Qe=[],Re=function t(a){function i(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];n("log",e,s)}var e="info",n=function(t,a){return function(i,o,n){var r,s=a.levels[o];o=new RegExp("^("+s+")$"),"log"!==i&&n.unshift(i.toUpperCase()+":"),n.unshift(t+":"),Qe&&(Qe.push([].concat(n)),Qe.splice(0,0<(r=Qe.length-1e3)?r:0)),!window.console||(r=(r=window.console[i])||"debug"!==i?r:window.console.info||window.console.log)&&s&&o.test(i)&&r[Array.isArray(n)?"apply":"call"](window.console,n)}}(a,i);return i.createLogger=function(r){return t(a+": "+r)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},i.level=function(r){if("string"==typeof r){if(!i.levels.hasOwnProperty(r))throw new Error('"'+r+'" in not a valid log level');e=r}return e},(i.history=function(){return Qe?[].concat(Qe):[]}).filter=function(r){return(Qe||[]).filter(function(s){return new RegExp(".*"+r+".*").test(s[0])})},i.history.clear=function(){Qe&&(Qe.length=0)},i.history.disable=function(){null!==Qe&&(Qe.length=0,Qe=null)},i.history.enable=function(){null===Qe&&(Qe=[])},i.error=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n("error",e,s)},i.warn=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n("warn",e,s)},i.debug=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n("debug",e,s)},i}("VIDEOJS"),Kt=Re.createLogger,Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zt(t,a){return t(a={exports:{}},a.exports),a.exports}var Dt=Zt(function(t){function a(){return t.exports=a=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},a.apply(this,arguments)}t.exports=a}),Hi=Object.prototype.toString,ji=function(t){return vn(t)?Object.keys(t):[]};function Yn(t,a){ji(t).forEach(function(i){return a(t[i],i)})}function Nt(t){for(var a=arguments.length,i=new Array(1<a?a-1:0),e=1;e<a;e++)i[e-1]=arguments[e];return Object.assign?Dt.apply(void 0,[t].concat(i)):(i.forEach(function(n){n&&Yn(n,function(r,s){t[s]=r})}),t)}function vn(t){return!!t&&"object"==typeof t}function ie(t){return vn(t)&&"[object Object]"===Hi.call(t)&&t.constructor===Object}function Ie(t,a){if(!t||!a||"function"!=typeof window.getComputedStyle)return"";var i;try{i=window.getComputedStyle(t)}catch{return""}return i?i.getPropertyValue(a)||i[a]:""}var we=window.navigator&&window.navigator.userAgent||"",On=(nt=/AppleWebKit\/([\d.]+)/i.exec(we))?parseFloat(nt.pop()):null,un=/iPod/i.test(we),gr=(rn=we.match(/OS (\d+)_/i))&&rn[1]?rn[1]:null,mt=/Android/i.test(we),Sn=function(){var t=we.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var a=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return a&&i?parseFloat(t[1]+"."+t[2]):a||null}(),kn=mt&&Sn<5&&On<537,Qn=/Firefox/i.test(we),Vi=/Edg/i.test(we),ri=!Vi&&(/Chrome/i.test(we)||/CriOS/i.test(we)),qr=(Mi=we.match(/(Chrome|CriOS)\/(\d+)/))&&Mi[2]?parseFloat(Mi[2]):null,$n=qt=!(qt=(qt=/MSIE\s(\d+)\.\d/.exec(we))&&parseFloat(qt[1]))&&/Trident\/7.0/i.test(we)&&/rv:11.0/.test(we)?11:qt,Ai=/Safari/i.test(we)&&!ri&&!mt&&!Vi,Wi=/Windows/i.test(we),Pi=Boolean(fi()&&("ontouchstart"in window||window.navigator.maxTouchPoints||window.DocumentTouch&&window.document instanceof window.DocumentTouch)),yt=/iPad/i.test(we)||Ai&&Pi&&!/iPhone/i.test(we),In=/iPhone/i.test(we)&&!yt,jt=In||yt||un,bi=(Ai||jt)&&!ri,Tn=Object.freeze({__proto__:null,IS_IPOD:un,IOS_VERSION:gr,IS_ANDROID:mt,ANDROID_VERSION:Sn,IS_NATIVE_ANDROID:kn,IS_FIREFOX:Qn,IS_EDGE:Vi,IS_CHROME:ri,CHROME_VERSION:qr,IE_VERSION:$n,IS_SAFARI:Ai,IS_WINDOWS:Wi,TOUCH_ENABLED:Pi,IS_IPAD:yt,IS_IPHONE:In,IS_IOS:jt,IS_ANY_SAFARI:bi});function _i(t){return"string"==typeof t&&Boolean(t.trim())}function Ti(t){if(0<=t.indexOf(" "))throw new Error("class has illegal whitespace characters")}function fi(){return document===window.document}function Oi(t){return vn(t)&&1===t.nodeType}function xr(){try{return window.parent!==window.self}catch{return!0}}function Sr(t){return function(a,i){return _i(a)?(i=Oi(i=_i(i)?document.querySelector(i):i)?i:document)[t]&&i[t](a):document[t](null)}}function qe(t,a,i,e){void 0===t&&(t="div"),void 0===a&&(a={}),void 0===i&&(i={});var n=document.createElement(t);return Object.getOwnPropertyNames(a).forEach(function(r){var s=a[r];-1!==r.indexOf("aria-")||"role"===r||"type"===r?(Re.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+r+" to "+s+"."),n.setAttribute(r,s)):"textContent"===r?wi(n,s):n[r]===s&&"tabIndex"!==r||(n[r]=s)}),Object.getOwnPropertyNames(i).forEach(function(r){n.setAttribute(r,i[r])}),e&&Vt(n,e),n}function wi(t,a){return typeof t.textContent>"u"?t.innerText=a:t.textContent=a,t}function Gi(t,a){a.firstChild?a.insertBefore(t,a.firstChild):a.appendChild(t)}function ct(t,a){return Ti(a),t.classList?t.classList.contains(a):new RegExp("(^|\\s)"+a+"($|\\s)").test(t.className)}function f(t,a){return t.classList?t.classList.add(a):ct(t,a)||(t.className=(t.className+" "+a).trim()),t}function x(t,a){return t?(t.classList?t.classList.remove(a):(Ti(a),t.className=t.className.split(/\s+/).filter(function(i){return i!==a}).join(" ")),t):(Re.warn("removeClass was called with an element that doesn't exist"),null)}function O(t,a,i){var e=ct(t,a);if((i="boolean"!=typeof(i="function"==typeof i?i(t,a):i)?!e:i)!==e)return(i?f:x)(t,a),t}function J(t,a){Object.getOwnPropertyNames(a).forEach(function(i){var e=a[i];null===e||typeof e>"u"||!1===e?t.removeAttribute(i):t.setAttribute(i,!0===e?"":e)})}function te(t){var a={};if(t&&t.attributes&&0<t.attributes.length)for(var e=t.attributes,n=e.length-1;0<=n;n--){var r=e[n].name,s=e[n].value;"boolean"!=typeof t[r]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")||(s=null!==s),a[r]=s}return a}function _e(t,a){return t.getAttribute(a)}function R(t,a,i){t.setAttribute(a,i)}function de(t,a){t.removeAttribute(a)}function Rt(){document.body.focus(),document.onselectstart=function(){return!1}}function pn(){document.onselectstart=function(){return!0}}function dt(t){if(t&&t.getBoundingClientRect&&t.parentNode){var a=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==a[e]&&(i[e]=a[e])}),i.height||(i.height=parseFloat(Ie(t,"height"))),i.width||(i.width=parseFloat(Ie(t,"width"))),i}}function ot(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var a=t.offsetWidth,i=t.offsetHeight,e=0,n=0;t.offsetParent&&t!==document[$t.fullscreenElement];)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{left:e,top:n,width:a,height:i}}function on(g,a){var i={x:0,y:0};if(jt)for(var e=g;e&&"html"!==e.nodeName.toLowerCase();){var n,r=Ie(e,"transform");/^matrix/.test(r)?(n=r.slice(7,-1).split(/,\s/).map(Number),i.x+=n[4],i.y+=n[5]):/^matrix3d/.test(r)&&(r=r.slice(9,-1).split(/,\s/).map(Number),i.x+=r[12],i.y+=r[13]),e=e.parentNode}var s={},w=ot(a.target),o=ot(g),u=o.width;return g=a.offsetY-(o.top-w.top),w=a.offsetX-(o.left-w.left),a.changedTouches&&(w=a.changedTouches[0].pageX-o.left,g=a.changedTouches[0].pageY+o.top,jt&&(w-=i.x,g-=i.y)),s.y=1-Math.max(0,Math.min(1,g/o.height)),s.x=Math.max(0,Math.min(1,w/u)),s}function Rn(t){return vn(t)&&3===t.nodeType}function en(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Me(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(a){return Oi(a="function"==typeof a?a():a)||Rn(a)?a:"string"==typeof a&&/\S/.test(a)?document.createTextNode(a):void 0}).filter(function(a){return a})}function Vt(t,a){return Me(a).forEach(function(i){return t.appendChild(i)}),t}function gt(t,a){return Vt(en(t),a)}function Ce(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||"mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons}var tn,xt=Sr("querySelector"),Wt=Sr("querySelectorAll"),Bt=Object.freeze({__proto__:null,isReal:fi,isEl:Oi,isInFrame:xr,createEl:qe,textContent:wi,prependTo:Gi,hasClass:ct,addClass:f,removeClass:x,toggleClass:O,setAttributes:J,getAttributes:te,getAttribute:_e,setAttribute:R,removeAttribute:de,blockTextSelection:Rt,unblockTextSelection:pn,getBoundingClientRect:dt,findPosition:ot,getPointerPosition:on,isTextNode:Rn,emptyEl:en,normalizeContent:Me,appendContent:Vt,insertContent:gt,isSingleLeftClick:Ce,$:xt,$$:Wt}),Xi=!1,tr=function(){if(!1!==tn.options.autoSetup){var t=Array.prototype.slice.call(document.getElementsByTagName("video")),a=Array.prototype.slice.call(document.getElementsByTagName("audio")),i=Array.prototype.slice.call(document.getElementsByTagName("video-js")),e=t.concat(a,i);if(e&&0<e.length)for(var n=0,r=e.length;n<r;n++){var s=e[n];if(!s||!s.getAttribute){nr(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&tn(s)}else Xi||nr(1)}};function nr(t,a){fi()&&(a&&(tn=a),window.setTimeout(tr,t))}function Li(){Xi=!0,window.removeEventListener("load",Li)}function Be(t){var a=document.createElement("style");return a.className=t,a}function Le(t,a){t.styleSheet?t.styleSheet.cssText=a:t.textContent=a}fi()&&("complete"===document.readyState?Li():window.addEventListener("load",Li));var Ue=3;window.WeakMap||(_n=function(){function t(){this.vdata="vdata"+Math.floor(window.performance&&window.performance.now()||Date.now()),this.data={}}var a=t.prototype;return a.set=function(i,e){var n=i[this.vdata]||Ue++;return i[this.vdata]||(i[this.vdata]=n),this.data[n]=e,this},a.get=function(i){var e=i[this.vdata];if(e)return this.data[e];Re("We have no data for this element",i)},a.has=function(i){return i[this.vdata]in this.data},a.delete=function(i){var e=i[this.vdata];e&&(delete this.data[e],delete i[this.vdata])},t}());var Gt,Je=new(window.WeakMap?WeakMap:_n);function ir(t,a){var i;Je.has(t)&&(0===(i=Je.get(t)).handlers[a].length&&(delete i.handlers[a],t.removeEventListener?t.removeEventListener(a,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+a,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&Je.delete(t))}function Ki(t,a,i,e){i.forEach(function(n){t(a,n,e)})}function jn(t){if(t.fixed_)return t;function a(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var e,n,r,s=t||window.event;for(e in t={},s)"layerX"!==e&&"layerY"!==e&&"keyLocation"!==e&&"webkitMovementX"!==e&&"webkitMovementY"!==e&&"path"!==e&&("returnValue"===e&&s.preventDefault||(t[e]=s[e]));t.target||(t.target=t.srcElement||document),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){s.preventDefault&&s.preventDefault(),t.returnValue=!1,s.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){s.stopPropagation&&s.stopPropagation(),t.cancelBubble=!0,s.cancelBubble=!0,t.isPropagationStopped=a},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){s.stopImmediatePropagation&&s.stopImmediatePropagation(),t.isImmediatePropagationStopped=a,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!=t.clientX&&(n=document.documentElement,r=document.body,t.pageX=t.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),t.pageY=t.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),t.which=t.charCode||t.keyCode,null!=t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t.fixed_=!0,t}var Ya=["touchstart","touchmove"];function It(t,a,i){if(Array.isArray(a))return Ki(It,t,a,i);Je.has(t)||Je.set(t,{});var e=Je.get(t);e.handlers||(e.handlers={}),e.handlers[a]||(e.handlers[a]=[]),i.guid||(i.guid=Ue++),e.handlers[a].push(i),e.dispatcher||(e.disabled=!1,e.dispatcher=function(n,r){if(!e.disabled){n=jn(n);var s=e.handlers[n.type];if(s)for(var o=s.slice(0),u=0,m=o.length;u<m&&!n.isImmediatePropagationStopped();u++)try{o[u].call(t,n,r)}catch(g){Re.error(g)}}}),1===e.handlers[a].length&&(t.addEventListener?(i=!1,function(){if("boolean"!=typeof Gt){Gt=!1;try{var t=Object.defineProperty({},"passive",{get:function(){Gt=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}}return Gt}()&&-1<Ya.indexOf(a)&&(i={passive:!0}),t.addEventListener(a,e.dispatcher,i)):t.attachEvent&&t.attachEvent("on"+a,e.dispatcher))}function En(t,a,i){if(Je.has(t)){var e=Je.get(t);if(e.handlers){if(Array.isArray(a))return Ki(En,t,a,i);var n=function(u,m){e.handlers[m]=[],ir(u,m)};if(void 0!==a){var r=e.handlers[a];if(r)if(i){if(i.guid)for(var s=0;s<r.length;s++)r[s].guid===i.guid&&r.splice(s--,1);ir(t,a)}else n(t,a)}else for(var o in e.handlers)Object.prototype.hasOwnProperty.call(e.handlers||{},o)&&n(t,o)}}}function rr(t,a,i){var e=Je.has(t)?Je.get(t):{},n=t.parentNode||t.ownerDocument;return"string"==typeof a?a={type:a,target:t}:a.target||(a.target=t),a=jn(a),e.dispatcher&&e.dispatcher.call(t,a,i),n&&!a.isPropagationStopped()&&!0===a.bubbles?rr.call(null,n,a,i):!n&&!a.defaultPrevented&&a.target&&a.target[a.type]&&(Je.has(a.target)||Je.set(a.target,{}),n=Je.get(a.target),a.target[a.type]&&(n.disabled=!0,"function"==typeof a.target[a.type]&&a.target[a.type](),n.disabled=!1)),!a.defaultPrevented}function ar(t,a,i){if(Array.isArray(a))return Ki(ar,t,a,i);function e(){En(t,a,e),i.apply(this,arguments)}e.guid=i.guid=i.guid||Ue++,It(t,a,e)}function Qa(t,a,i){function e(){En(t,a,e),i.apply(this,arguments)}e.guid=i.guid=i.guid||Ue++,It(t,a,e)}function Mt(t,a,i){return a.guid||(a.guid=Ue++),(t=a.bind(t)).guid=i?i+"_"+a.guid:a.guid,t}function G(t,a){var i=window.performance.now();return function(){var e=window.performance.now();a<=e-i&&(t.apply(void 0,arguments),i=e)}}function _t(){}var kr,$a=Object.freeze({__proto__:null,fixEvent:jn,on:It,off:En,trigger:rr,one:ar,any:Qa});function Pt(t){return"function"==typeof t.name?t.name():"string"==typeof t.name?t.name:t.name_||(t.constructor&&t.constructor.name?t.constructor.name:typeof t)}function Di(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length}function ai(t,a,i){if(!t||!t.nodeName&&!si(t))throw new Error("Invalid target for "+Pt(a)+"#"+i+"; must be a DOM node or evented object.")}function qs(t,a,i){if(!Di(t))throw new Error("Invalid event type for "+Pt(a)+"#"+i+"; must be a non-empty string or array.")}function Hs(t,a,i){if("function"!=typeof t)throw new Error("Invalid listener for "+Pt(a)+"#"+i+"; must be a function.")}function aa(t,s,i){var e,n,r=s.length<3||s[0]===t||s[0]===t.eventBusEl_;return s=r?(e=t.eventBusEl_,3<=s.length&&s.shift(),n=s[0],s[1]):(e=s[0],n=s[1],s[2]),ai(e,t,i),qs(n,t,i),Hs(s,t,i),{isTargetingSelf:r,target:e,type:n,listener:s=Mt(t,s)}}function xi(t,a,i,e){ai(t,t,a),t.nodeName?$a[a](t,i,e):t[a](i,e)}_t.prototype.allowedEvents_={},_t.prototype.addEventListener=_t.prototype.on=function(t,a){var i=this.addEventListener;this.addEventListener=function(){},It(this,t,a),this.addEventListener=i},_t.prototype.removeEventListener=_t.prototype.off=function(t,a){En(this,t,a)},_t.prototype.one=function(t,a){var i=this.addEventListener;this.addEventListener=function(){},ar(this,t,a),this.addEventListener=i},_t.prototype.any=function(t,a){var i=this.addEventListener;this.addEventListener=function(){},Qa(this,t,a),this.addEventListener=i},_t.prototype.dispatchEvent=_t.prototype.trigger=function(t){var a=t.type||t;t=jn(t="string"==typeof t?{type:a}:t),this.allowedEvents_[a]&&this["on"+a]&&this["on"+a](t),rr(this,t)},_t.prototype.queueTrigger=function(t){var a=this,i=t.type||t,e=(kr=kr||new Map).get(this);e||kr.set(this,e=new Map);var n=e.get(i);e.delete(i),window.clearTimeout(n),n=window.setTimeout(function(){e.delete(i),0===e.size&&(e=null,kr.delete(a)),a.trigger(t)},0),e.set(i,n)};var si=function(t){return t instanceof _t||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(a){return"function"==typeof t[a]})},xe={on:function(){for(var t=this,a=arguments.length,i=new Array(a),e=0;e<a;e++)i[e]=arguments[e];var n,r=aa(this,i,"on"),s=r.isTargetingSelf,o=r.target,u=r.type,m=r.listener;xi(o,"on",u,m),s||((n=function(){return t.off(o,u,m)}).guid=m.guid,(s=function(){return t.off("dispose",n)}).guid=m.guid,xi(this,"on","dispose",n),xi(o,"on","dispose",s))},one:function(){for(var t=this,a=arguments.length,i=new Array(a),e=0;e<a;e++)i[e]=arguments[e];var n=aa(this,i,"one"),r=n.isTargetingSelf,s=n.target,o=n.type,u=n.listener;r?xi(s,"one",o,u):((r=function m(){t.off(s,o,m);for(var g=arguments.length,w=new Array(g),k=0;k<g;k++)w[k]=arguments[k];u.apply(null,w)}).guid=u.guid,xi(s,"one",o,r))},any:function(){for(var t=this,a=arguments.length,i=new Array(a),e=0;e<a;e++)i[e]=arguments[e];var n=aa(this,i,"any"),r=n.isTargetingSelf,s=n.target,o=n.type,u=n.listener;r?xi(s,"any",o,u):((r=function m(){t.off(s,o,m);for(var g=arguments.length,w=new Array(g),k=0;k<g;k++)w[k]=arguments[k];u.apply(null,w)}).guid=u.guid,xi(s,"any",o,r))},off:function(t,a,i){!t||Di(t)?En(this.eventBusEl_,t,a):(ai(t,this,"off"),qs(a,this,"off"),Hs(i,this,"off"),i=Mt(this,i),this.off("dispose",i),t.nodeName?(En(t,a,i),En(t,"dispose",i)):si(t)&&(t.off(a,i),t.off("dispose",i)))},trigger:function(t,a){ai(this.eventBusEl_,this,"trigger");var i=t&&"string"!=typeof t?t.type:t;if(!Di(i)){if(i="Invalid event type for "+Pt(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.",!t)throw new Error(i);(this.log||Re).error(i)}return rr(this.eventBusEl_,t,a)}};function Ni(t,a){if(a=(a=void 0===a?{}:a).eventBusKey){if(!t[a].nodeName)throw new Error('The eventBusKey "'+a+'" does not refer to an element.');t.eventBusEl_=t[a]}else t.eventBusEl_=qe("span",{className:"vjs-event-bus"});return Nt(t,xe),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(i){i()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(i){i&&Je.has(i)&&Je.delete(i)}),window.setTimeout(function(){t.eventBusEl_=null},0)}),t}var bn={state:{},setState:function(t){var a,i=this;return Yn(t="function"==typeof t?t():t,function(e,n){i.state[n]!==e&&((a=a||{})[n]={from:i.state[n],to:e}),i.state[n]=e}),a&&si(this)&&this.trigger({changes:a,type:"statechanged"}),a}};function Ri(t,a){return Nt(t,bn),t.state=Nt({},t.state,a),"function"==typeof t.handleStateChanged&&si(t)&&t.on("statechanged",t.handleStateChanged),t}function sa(t){return"string"!=typeof t?t:t.replace(/./,function(a){return a.toLowerCase()})}function nn(t){return"string"!=typeof t?t:t.replace(/./,function(a){return a.toUpperCase()})}function Ut(){for(var t={},a=arguments.length,i=new Array(a),e=0;e<a;e++)i[e]=arguments[e];return i.forEach(function(n){n&&Yn(n,function(r,s){ie(r)?(ie(t[s])||(t[s]={}),t[s]=Ut(t[s],r)):t[s]=r})}),t}var iu=window.Map||function(){function t(){this.map_={}}var a=t.prototype;return a.has=function(i){return i in this.map_},a.delete=function(i){var e=this.has(i);return delete this.map_[i],e},a.set=function(i,e){return this.map_[i]=e,this},a.forEach=function(i,e){for(var n in this.map_)i.call(e,this.map_[n],n,this)},t}(),Cn=window.Set||function(){function t(){this.set_={}}var a=t.prototype;return a.has=function(i){return i in this.set_},a.delete=function(i){var e=this.has(i);return delete this.set_[i],e},a.add=function(i){return this.set_[i]=1,this},a.forEach=function(i,e){for(var n in this.set_)i.call(e,n,n,this)},t}(),Pe=Zt(function(t,a){function i(g){if(!g||"object"!=typeof g||(m=g.which||g.keyCode||g.charCode)&&(g=m),"number"==typeof g)return o[g];var m=String(g);return(g=e[m.toLowerCase()])||((g=n[m.toLowerCase()])?g:1===m.length?m.charCodeAt(0):void 0)}i.isEventKey=function(u,m){if(u&&"object"==typeof u){var g=u.which||u.keyCode||u.charCode;if(null==g)return!1;if("string"==typeof m){if((u=e[m.toLowerCase()])||(u=n[m.toLowerCase()]))return u===g}else if("number"==typeof m)return m===g;return!1}};for(var e=(a=t.exports=i).code=a.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=a.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},r=97;r<123;r++)e[String.fromCharCode(r)]=r-32;for(r=48;r<58;r++)e[r-48]=r;for(r=1;r<13;r++)e["f"+r]=r+111;for(r=0;r<10;r++)e["numpad "+r]=r+96;var s,o=a.names=a.title={};for(r in e)o[e[r]]=r;for(s in n)e[s]=n[s]}),ne=function(){function t(i,e,n){var r=this;this.player_=!i&&this.play?i=this:i,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ut({},this.options_),e=this.options_=Ut(this.options_,e),this.id_=e.id||e.el&&e.el.id,this.id_||(i=i&&i.id&&i.id()||"no_player",this.id_=i+"_component_"+Ue++),this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),e.className&&this.el_&&e.className.split(" ").forEach(function(s){return r.addClass(s)}),!1!==e.evented&&(Ni(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Ri(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Cn,this.setIntervalIds_=new Cn,this.rafIds_=new Cn,this.namedRafs_=new iu,(this.clearingTimersOnDispose_=!1)!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var a=t.prototype;return a.dispose=function(i){if(void 0===i&&(i={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(i.restoreEl?this.el_.parentNode.replaceChild(i.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},a.isDisposed=function(){return Boolean(this.isDisposed_)},a.player=function(){return this.player_},a.options=function(i){return i&&(this.options_=Ut(this.options_,i)),this.options_},a.el=function(){return this.el_},a.createEl=function(i,e,n){return qe(i,e,n)},a.localize=function(i,e,u){void 0===u&&(u=i);var o=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),s=r&&r[o];return o=o&&o.split("-")[0],o=r&&r[o],s&&s[i]?u=s[i]:o&&o[i]&&(u=o[i]),e?u.replace(/\{(\d+)\}/g,function(m,g){return typeof(g=e[g-1])>"u"?m:g}):u},a.handleLanguagechange=function(){},a.contentEl=function(){return this.contentEl_||this.el_},a.id=function(){return this.id_},a.name=function(){return this.name_},a.children=function(){return this.children_},a.getChildById=function(i){return this.childIndex_[i]},a.getChild=function(i){if(i)return this.childNameIndex_[i]},a.getDescendant=function(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];e=e.reduce(function(u,m){return u.concat(m)},[]);for(var r=this,s=0;s<e.length;s++)if(!(r=r.getChild(e[s]))||!r.getChild)return;return r},a.addChild=function(i,e,n){if(void 0===e&&(e={}),void 0===n&&(n=this.children_.length),"string"==typeof i){var r=nn(i),s=e.componentClass||r;e.name=r;var o=t.getComponent(s);if(!o)throw new Error("Component "+s+" does not exist");if("function"!=typeof o)return null;o=new o(this.player_||this,e)}else o=i;return o.parentComponent_&&o.parentComponent_.removeChild(o),this.children_.splice(n,0,o),o.parentComponent_=this,"function"==typeof o.id&&(this.childIndex_[o.id()]=o),(r=r||o.name&&nn(o.name()))&&(this.childNameIndex_[r]=o,this.childNameIndex_[sa(r)]=o),"function"==typeof o.el&&o.el()&&(r=null,this.children_[n+1]&&(this.children_[n+1].el_?r=this.children_[n+1].el_:Oi(this.children_[n+1])&&(r=this.children_[n+1])),this.contentEl().insertBefore(o.el(),r)),o},a.removeChild=function(i){if((i="string"==typeof i?this.getChild(i):i)&&this.children_){for(var e,n=!1,r=this.children_.length-1;0<=r;r--)if(this.children_[r]===i){n=!0,this.children_.splice(r,1);break}n&&(i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[nn(i.name())]=null,this.childNameIndex_[sa(i.name())]=null,(e=i.el())&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el()))}},a.initChildren=function(){var i,e,n,r=this,s=this.options_.children;s&&(i=this.options_,e=t.getComponent("Tech"),(n=Array.isArray(s)?s:Object.keys(s)).concat(Object.keys(this.options_).filter(function(o){return!n.some(function(u){return"string"==typeof u?o===u:o===u.name})})).map(function(m){var u;return m="string"==typeof m?s[u=m]||r.options_[u]||{}:(u=m.name,m),{name:u,opts:m}}).filter(function(o){return(o=t.getComponent(o.opts.componentClass||nn(o.name)))&&!e.isTech(o)}).forEach(function(m){var u=m.name;m=m.opts,!1!==(m=void 0!==i[u]?i[u]:m)&&((m=!0===m?{}:m).playerOptions=r.options_.playerOptions,(m=r.addChild(u,m))&&(r[u]=m))}))},a.buildCSSClass=function(){return""},a.ready=function(i,e){if(void 0===e&&(e=!1),i)return this.isReady_?void(e?i.call(this):this.setTimeout(i,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(i))},a.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&0<i.length&&i.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},a.$=function(i,e){return xt(i,e||this.contentEl())},a.$$=function(i,e){return Wt(i,e||this.contentEl())},a.hasClass=function(i){return ct(this.el_,i)},a.addClass=function(i){f(this.el_,i)},a.removeClass=function(i){x(this.el_,i)},a.toggleClass=function(i,e){O(this.el_,i,e)},a.show=function(){this.removeClass("vjs-hidden")},a.hide=function(){this.addClass("vjs-hidden")},a.lockShowing=function(){this.addClass("vjs-lock-showing")},a.unlockShowing=function(){this.removeClass("vjs-lock-showing")},a.getAttribute=function(i){return _e(this.el_,i)},a.setAttribute=function(i,e){R(this.el_,i,e)},a.removeAttribute=function(i){de(this.el_,i)},a.width=function(i,e){return this.dimension("width",i,e)},a.height=function(i,e){return this.dimension("height",i,e)},a.dimensions=function(i,e){this.width(i,!0),this.height(e)},a.dimension=function(i,e,n){return void 0!==e?(this.el_.style[i]=-1!==(""+(e=null===e||e!=e?0:e)).indexOf("%")||-1!==(""+e).indexOf("px")?e:"auto"===e?"":e+"px",void(n||this.trigger("componentresize"))):this.el_?(n=(e=this.el_.style[i]).indexOf("px"),parseInt(-1!==n?e.slice(0,n):this.el_["offset"+nn(i)],10)):0},a.currentDimension=function(i){var e=0;if("width"!==i&&"height"!==i)throw new Error("currentDimension only accepts width or height value");return e=Ie(this.el_,i),0!==(e=parseFloat(e))&&!isNaN(e)||(i="offset"+nn(i),e=this.el_[i]),e},a.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},a.currentWidth=function(){return this.currentDimension("width")},a.currentHeight=function(){return this.currentDimension("height")},a.focus=function(){this.el_.focus()},a.blur=function(){this.el_.blur()},a.handleKeyDown=function(i){this.player_&&(Pe.isEventKey(i,"Tab")||i.stopPropagation(),this.player_.handleKeyDown(i))},a.handleKeyPress=function(i){this.handleKeyDown(i)},a.emitTapEvents=function(){var i,e=0,n=null;function r(){i=!1}this.on("touchstart",function(s){1===s.touches.length&&(n={pageX:s.touches[0].pageX,pageY:s.touches[0].pageY},e=window.performance.now(),i=!0)}),this.on("touchmove",function(s){var o;1<s.touches.length?i=!1:n&&(o=s.touches[0].pageX-n.pageX,s=s.touches[0].pageY-n.pageY,10<Math.sqrt(o*o+s*s)&&(i=!1))}),this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",function(s){!(n=null)===i&&window.performance.now()-e<200&&(s.preventDefault(),this.trigger("tap"))})},a.enableTouchActivity=function(){var i,e,n;this.player()&&this.player().reportUserActivity&&(i=Mt(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){i(),this.clearInterval(e),e=this.setInterval(i,250)}),n=function(r){i(),this.clearInterval(e)},this.on("touchmove",i),this.on("touchend",n),this.on("touchcancel",n))},a.setTimeout=function(i,e){var n,r=this;return i=Mt(this,i),this.clearTimersOnDispose_(),n=window.setTimeout(function(){r.setTimeoutIds_.has(n)&&r.setTimeoutIds_.delete(n),i()},e),this.setTimeoutIds_.add(n),n},a.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),window.clearTimeout(i)),i},a.setInterval=function(i,e){return i=Mt(this,i),this.clearTimersOnDispose_(),e=window.setInterval(i,e),this.setIntervalIds_.add(e),e},a.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),window.clearInterval(i)),i},a.requestAnimationFrame=function(i){var e,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),i=Mt(this,i),e=window.requestAnimationFrame(function(){n.rafIds_.has(e)&&n.rafIds_.delete(e),i()}),this.rafIds_.add(e),e):this.setTimeout(i,1e3/60)},a.requestNamedAnimationFrame=function(i,e){var n=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),e=Mt(this,e);var r=this.requestAnimationFrame(function(){e(),n.namedRafs_.has(i)&&n.namedRafs_.delete(i)});return this.namedRafs_.set(i,r),i}},a.cancelNamedAnimationFrame=function(i){this.namedRafs_.has(i)&&(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},a.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),window.cancelAnimationFrame(i)),i):this.clearTimeout(i)},a.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(e){var r=e[1];i[e[0]].forEach(function(s,o){return i[r](o)})}),i.clearingTimersOnDispose_=!1}))},t.registerComponent=function(i,e){if("string"!=typeof i||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var n=(r=t.getComponent("Tech"))&&r.isTech(e),r=t===e||t.prototype.isPrototypeOf(e.prototype);if(n||!r){var s=n?"techs must be registered using Tech.registerTech()":"must be a Component subclass";throw new Error('Illegal component, "'+i+'"; '+s+".")}if(i=nn(i),t.components_||(t.components_={}),s=t.getComponent("Player"),"Player"===i&&s&&s.players){var o=s.players;if(s=Object.keys(o),o&&0<s.length&&s.map(function(m){return o[m]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[i]=e,t.components_[sa(i)]=e},t.getComponent=function(i){if(i&&t.components_)return t.components_[i]},t}();ne.prototype.supportsRaf_="function"==typeof window.requestAnimationFrame&&"function"==typeof window.cancelAnimationFrame,ne.registerComponent("Component",ne);var De=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},oe=function(t,a){t.prototype=Object.create(a.prototype),(t.prototype.constructor=t).__proto__=a};function ht(t,a,i,e){return function(n,r,s){if("number"!=typeof r||r<0||s<r)throw new Error("Failed to execute '"+n+"' on 'TimeRanges': The index provided ("+r+") is non-numeric or out of bounds (0-"+s+").")}(t,e,i.length-1),i[e][a]}function Er(t){var a=void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:ht.bind(null,"start",0,t),end:ht.bind(null,"end",1,t)};return window.Symbol&&window.Symbol.iterator&&(a[window.Symbol.iterator]=function(){return(t||[]).values()}),a}function Yi(t,a){return Array.isArray(t)?Er(t):void 0===t||void 0===a?Er():Er([[t,a]])}function Ja(t,a){var i,e,n=0;if(!a)return 0;t&&t.length||(t=Yi(0,0));for(var r=0;r<t.length;r++)i=t.start(r),n+=(e=a<(e=t.end(r))?a:e)-i;return n/a}function Ft(t){if(t instanceof Ft)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:vn(t)&&("number"==typeof t.code&&(this.code=t.code),Nt(this,t)),this.message||(this.message=Ft.defaultMessages[this.code]||"")}Ft.prototype.code=0,Ft.prototype.message="",Ft.prototype.status=null,Ft.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Ft.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Si=0;Si<Ft.errorTypes.length;Si++)Ft[Ft.errorTypes[Si]]=Si,Ft.prototype[Ft.errorTypes[Si]]=Si;function Mn(t){return null!=t&&"function"==typeof t.then}function oi(t){Mn(t)&&t.then(null,function(a){})}function oa(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(a,i,e){return t[i]&&(a[i]=t[i]),a},{cues:t.cues&&Array.prototype.map.call(t.cues,function(a){return{startTime:a.startTime,endTime:a.endTime,text:a.text,id:a.id}})})}var zt="vjs-modal-dialog",or=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.handleKeyDown_=function(s){return r.handleKeyDown(s)},r.close_=function(s){return r.close(s)},r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=qe("div",{className:zt+"-content"},{role:"document"}),r.descEl_=qe("p",{className:zt+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),wi(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}oe(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return zt+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||"Modal Window")},i.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},i.open=function(){var e;this.opened_||(e=this.player(),this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0)},i.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},i.close=function(){var e;this.opened_&&(e=this.player(),this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose())},i.closeable=function(e){var n,r;return"boolean"==typeof e&&(n=this.closeable_=!!e,r=this.getChild("closeButton"),n&&!r&&(e=this.contentEl_,this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=e,this.on(r,"close",this.close_)),!n&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())),this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(e){var n=this.contentEl(),r=n.parentNode,s=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(n),this.empty(),gt(n,e),this.trigger("modalfill"),s?r.insertBefore(n,s):r.appendChild(n),(n=this.getChild("closeButton"))&&r.appendChild(n.el_)},i.empty=function(){this.trigger("beforemodalempty"),en(this.contentEl()),this.trigger("modalempty")},i.content=function(e){return typeof e<"u"&&(this.content_=e),this.content_},i.conditionalFocus_=function(){var e=document.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,!n.contains(e)&&n!==e||(this.previouslyActiveEl_=e,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(e){if(e.stopPropagation(),Pe.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(Pe.isEventKey(e,"Tab")){for(var n,r=this.focusableEls_(),s=this.el_.querySelector(":focus"),o=0;o<r.length;o++)if(s===r[o]){n=o;break}document.activeElement===this.el_&&(n=0),e.shiftKey&&0===n?(r[r.length-1].focus(),e.preventDefault()):e.shiftKey||n!==r.length-1||(r[0].focus(),e.preventDefault())}},i.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(n){return(n instanceof window.HTMLAnchorElement||n instanceof window.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof window.HTMLInputElement||n instanceof window.HTMLSelectElement||n instanceof window.HTMLTextAreaElement||n instanceof window.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof window.HTMLIFrameElement||n instanceof window.HTMLObjectElement||n instanceof window.HTMLEmbedElement||n.hasAttribute("tabindex")&&-1!==n.getAttribute("tabindex")||n.hasAttribute("contenteditable")})},a}(ne);or.prototype.options_={pauseOnOpen:!0,temporary:!0},ne.registerComponent("ModalDialog",or);var Za,Cr=function(t){function a(e){var n;void 0===e&&(e=[]),(n=t.call(this)||this).tracks_=[],Object.defineProperty(De(n),"length",{get:function(){return this.tracks_.length}});for(var r=0;r<e.length;r++)n.addTrack(e[r]);return n}oe(a,t);var i=a.prototype;return i.addTrack=function(e){var n=this,r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get:function(){return this.tracks_[r]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){n.trigger({track:e,type:"labelchange",target:n})},si(e)&&e.addEventListener("labelchange",e.labelchange_)},i.removeTrack=function(e){for(var n,r=0,s=this.length;r<s;r++)if(this[r]===e){(n=this[r]).off&&n.off(),this.tracks_.splice(r,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})},i.getTrackById=function(e){for(var n=null,r=0,s=this.length;r<s;r++){var o=this[r];if(o.id===e){n=o;break}}return n},a}(_t);for(Za in Cr.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},Cr.prototype.allowedEvents_)Cr.prototype["on"+Za]=null;function es(t,a){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&a.id!==t[i].id&&(t[i].enabled=!1)}function ts(t,a){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&a.id!==t[i].id&&(t[i].selected=!1)}function ns(t){var a=["protocol","hostname","port","pathname","search","hash","host"],i=document.createElement("a");i.href=t;for(var e={},n=0;n<a.length;n++)e[a[n]]=i[a[n]];return"http:"===e.protocol&&(e.host=e.host.replace(/:80$/,"")),"https:"===e.protocol&&(e.host=e.host.replace(/:443$/,"")),e.protocol||(e.protocol=window.location.protocol),e.host||(e.host=window.location.host),e}function js(t){var a;return t.match(/^https?:\/\//)||((a=document.createElement("a")).href=t,t=a.href),t}function Ar(t){return"string"==typeof t&&(t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t))?t.pop().toLowerCase():""}function ur(t,a){return void 0===a&&(a=window.location),(":"===(t=ns(t)).protocol?a:t).protocol+t.host!==a.protocol+a.host}var Pn=function(t){function a(e){for(var n,r=(e=void 0===e?[]:e).length-1;0<=r;r--)if(e[r].enabled){es(e,e[r]);break}return(n=t.call(this,e)||this).changing_=!1,n}oe(a,t);var i=a.prototype;return i.addTrack=function(e){var n=this;e.enabled&&es(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){n.changing_||(n.changing_=!0,es(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},a}(Cr),Fn=function(t){function a(e){for(var n,r=(e=void 0===e?[]:e).length-1;0<=r;r--)if(e[r].selected){ts(e,e[r]);break}return(n=t.call(this,e)||this).changing_=!1,Object.defineProperty(De(n),"selectedIndex",{get:function(){for(var s=0;s<this.length;s++)if(this[s].selected)return s;return-1},set:function(){}}),n}oe(a,t);var i=a.prototype;return i.addTrack=function(e){var n=this;e.selected&&ts(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){n.changing_||(n.changing_=!0,ts(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},a}(Cr),nt=function(t){function a(){return t.apply(this,arguments)||this}oe(a,t);var i=a.prototype;return i.addTrack=function(e){var n=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},a}(Cr),rn=function(){function t(i){void 0===i&&(i=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,n=i.length;e<n;e++)this.addTrackElement_(i[e])}var a=t.prototype;return a.addTrackElement_=function(i){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(i)&&this.trackElements_.push(i)},a.getTrackElementByTrack_=function(i){for(var e,n=0,r=this.trackElements_.length;n<r;n++)if(i===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},a.removeTrackElement_=function(i){for(var e=0,n=this.trackElements_.length;e<n;e++)if(i===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),ua=function(){function t(i){t.prototype.setCues_.call(this,i),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var a=t.prototype;return a.setCues_=function(i){var e=this.length||0,n=0,r=i.length;function s(o){""+o in this||Object.defineProperty(this,""+o,{get:function(){return this.cues_[o]}})}if(this.cues_=i,this.length_=i.length,e<r)for(n=e;n<r;n++)s.call(this,n)},a.getCueById=function(i){for(var e=null,n=0,r=this.length;n<r;n++){var s=this[n];if(s.id===i){e=s;break}}return e},t}(),Vs={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},ru={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},la={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},is={disabled:"disabled",hidden:"hidden",showing:"showing"},Mi=(On=function(t){function a(i){void 0===i&&(i={});var e,n=t.call(this)||this,r={id:i.id||"vjs_track_"+Ue++,kind:i.kind||"",language:i.language||""},s=i.label||"";for(e in r)!function(o){Object.defineProperty(De(n),o,{get:function(){return r[o]},set:function(){}})}(e);return Object.defineProperty(De(n),"label",{get:function(){return s},set:function(o){o!==s&&(s=o,this.trigger("labelchange"))}}),n}return oe(a,t),a}(_t),Object.freeze({__proto__:null,parseUrl:ns,getAbsoluteURL:js,getFileExtension:Ar,isCrossOrigin:ur})),Jn=qt=typeof window<"u"?window:typeof Ot<"u"?Ot:typeof self<"u"?self:{},rs=Object.prototype.toString;mi.httpHandler=function(t,a){return void 0===a&&(a=!1),function(i,e,n){if(i)t(i);else if(400<=e.statusCode&&e.statusCode<=599){if(i=n,a)if(Jn.TextDecoder){void 0===(r=e.headers&&e.headers["content-type"])&&(r=""),e=r.toLowerCase().split(";").reduce(function(s,u){u=(m=u.split("="))[0];var m=m[1];return"charset"===u.trim()?m.trim():s},"utf-8");try{i=new TextDecoder(e).decode(n)}catch{}}else i=String.fromCharCode.apply(null,new Uint8Array(n));t({cause:i})}else t(null,n);var r}};var ca=mi;function lr(t,a,i){var e=t;return function(t){if(!t)return!1;var a=rs.call(t);return"[object Function]"===a||"function"==typeof t&&"[object RegExp]"!==a||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}(a)?(i=a,"string"==typeof t&&(e={uri:t})):e=Dt({},a,{uri:t}),e.callback=i,e}function mi(t,a,i){return da(a=lr(t,a,i))}function da(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var a=!1,i=function(M,q,V){a||(a=!0,t.callback(M,q,V))};function e(){var M=void 0;if(M=m.response||m.responseText||function(q){try{if("document"===q.responseType)return q.responseXML;if(""===q.responseType&&(!q.responseXML||"parsererror"!==q.responseXML.documentElement.nodeName))return q.responseXML}catch{}return null}(m),P)try{M=JSON.parse(M)}catch{}return M}function n(M){return clearTimeout(u),(M=M instanceof Error?M:new Error(""+(M||"Unknown XMLHttpRequest Error"))).statusCode=0,i(M,U)}function r(){if(!o){clearTimeout(u);var M=t.useXDR&&void 0===m.status?200:1223===m.status?204:m.status,q=U,V=null;return 0!==M?(q={body:e(),statusCode:M,method:w,headers:{},url:g,rawRequest:m},m.getAllResponseHeaders&&(q.headers=function(t){var a={};return t&&t.trim().split("\n").forEach(function(i){var n=i.indexOf(":"),e=i.slice(0,n).trim().toLowerCase();n=i.slice(n+1).trim(),typeof a[e]>"u"?a[e]=n:Array.isArray(a[e])?a[e].push(n):a[e]=[a[e],n]}),a}(m.getAllResponseHeaders()))):V=new Error("Internal XMLHttpRequest Error"),i(V,q,q.body)}}var s,o,u,m=t.xhr||null,g=(m=m||new(t.cors||t.useXDR?mi.XDomainRequest:mi.XMLHttpRequest)).url=t.uri||t.url,w=m.method=t.method||"GET",k=t.body||t.data,I=m.headers=t.headers||{},S=!!t.sync,P=!1,U={body:void 0,headers:{},statusCode:0,method:w,url:g,rawRequest:m};if("json"in t&&!1!==t.json&&(P=!0,I.accept||I.Accept||(I.Accept="application/json"),"GET"!==w&&"HEAD"!==w&&(I["content-type"]||I["Content-Type"]||(I["Content-Type"]="application/json"),k=JSON.stringify(!0===t.json?k:t.json))),m.onreadystatechange=function(){4===m.readyState&&setTimeout(r,0)},m.onload=r,m.onerror=n,m.onprogress=function(){},m.onabort=function(){o=!0},m.ontimeout=n,m.open(w,g,!S,t.username,t.password),S||(m.withCredentials=!!t.withCredentials),!S&&0<t.timeout&&(u=setTimeout(function(){var M;o||(o=!0,m.abort("timeout"),(M=new Error("XMLHttpRequest timeout")).code="ETIMEDOUT",n(M))},t.timeout)),m.setRequestHeader)for(s in I)I.hasOwnProperty(s)&&m.setRequestHeader(s,I[s]);else if(t.headers&&!function(M){for(var q in M)if(M.hasOwnProperty(q))return;return 1}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(m.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(m),m.send(k||null),m}function as(t,a){var i=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()),e=[];i.oncue=function(n){a.addCue(n)},i.onparsingerror=function(n){e.push(n)},i.onflush=function(){a.trigger({type:"loadeddata",target:a})},i.parse(t),0<e.length&&(window.console&&window.console.groupCollapsed&&window.console.groupCollapsed("Text Track parsing errors for "+a.src),e.forEach(function(n){return Re.error(n)}),window.console&&window.console.groupEnd&&window.console.groupEnd()),i.flush()}function Gs(t,a){var i={uri:t};(t=ur(t))&&(i.cors=t),(t="use-credentials"===a.tech_.crossOrigin())&&(i.withCredentials=t),ca(i,Mt(this,function(e,n,r){return e?Re.error(e,n):(a.loaded_=!0,void("function"!=typeof window.WebVTT?a.tech_&&a.tech_.any(["vttjsloaded","vttjserror"],function(s){return"vttjserror"!==s.type?as(r,a):void Re.error("vttjs failed to load, stopping trying to process "+a.src)}):as(r,a)))}))}un=mi,mi.XMLHttpRequest=Jn.XMLHttpRequest||function(){},mi.XDomainRequest="withCredentials"in new mi.XMLHttpRequest?mi.XMLHttpRequest:Jn.XDomainRequest,function(t,a){for(var i=0;i<t.length;i++)a(t[i])}(["get","put","post","patch","head","delete"],function(t){mi["delete"===t?"del":t]=function(a,i,e){return(i=lr(a,i,e)).method=t.toUpperCase(),da(i)}}),ca.default=un;var Ir=function(t){function a(r){var n;if(!(r=void 0===r?{}:r).tech)throw new Error("A tech was not provided.");r=Ut(r,{kind:la[r.kind]||"subtitles",language:r.language||r.srclang||""});var s=is[r.mode]||"disabled",o=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(s="hidden"),(n=t.call(this,r)||this).tech_=r.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var u=new ua(n.cues_),m=new ua(n.activeCues_),g=!1;return n.timeupdateHandler=Mt(De(n),function(w){void 0===w&&(w={}),this.tech_.isDisposed()||(this.tech_.isReady_&&(this.activeCues=this.activeCues,g&&(this.trigger("cuechange"),g=!1)),"timeupdate"!==w.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))}),n.tech_.one("dispose",function(){n.stopTracking()}),"disabled"!==s&&n.startTracking(),Object.defineProperties(De(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return s},set:function(w){is[w]&&s!==w&&(s=w,this.preload_||"disabled"===s||0!==this.cues.length||Gs(this.src,this),this.stopTracking(),"disabled"!==s&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?u:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return m;for(var w=this.tech_.currentTime(),k=[],I=0,S=this.cues.length;I<S;I++){var P=this.cues[I];(P.startTime<=w&&P.endTime>=w||P.startTime===P.endTime&&P.startTime<=w&&P.startTime+.5>=w)&&k.push(P)}if(g=!1,k.length!==this.activeCues_.length)g=!0;else for(var U=0;U<k.length;U++)-1===this.activeCues_.indexOf(k[U])&&(g=!0);return this.activeCues_=k,m.setCues_(this.activeCues_),m},set:function(){}}}),r.src?(n.src=r.src,n.preload_||(n.loaded_=!0),(n.preload_||"subtitles"!==r.kind&&"captions"!==r.kind)&&Gs(n.src,De(n))):n.loaded_=!0,n}oe(a,t);var i=a.prototype;return i.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},i.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},i.addCue=function(e){var n=e;if(n.constructor&&"VTTCue"!==n.constructor.name){for(var r in n=new window.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)r in n||(n[r]=e[r]);n.id=e.id,n.originalCue_=e}for(var s=this.tech_.textTracks(),o=0;o<s.length;o++)s[o]!==this&&s[o].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)},i.removeCue=function(e){for(var n=this.cues_.length;n--;){var r=this.cues_[n];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}},a}(On);Ir.prototype.allowedEvents_={cuechange:"cuechange"},gr=function(t){function a(n){var e=Ut(n=void 0===n?{}:n,{kind:ru[n.kind]||""}),r=(n=t.call(this,e)||this,!1);return Object.defineProperty(De(n),"enabled",{get:function(){return r},set:function(s){"boolean"==typeof s&&s!==r&&(r=s,this.trigger("enabledchange"))}}),e.enabled&&(n.enabled=e.enabled),n.loaded_=!0,n}return oe(a,t),a}(On),Ai=function(t){function a(n){var e=Ut(n=void 0===n?{}:n,{kind:Vs[n.kind]||""}),r=(n=t.call(this,e)||this,!1);return Object.defineProperty(De(n),"selected",{get:function(){return r},set:function(s){"boolean"==typeof s&&s!==r&&(r=s,this.trigger("selectedchange"))}}),e.selected&&(n.selected=e.selected),n}return oe(a,t),a}(On),(yt=function(t){function a(i){var e;void 0===i&&(i={});var n=t.call(this)||this,r=new Ir(i);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n.default=r.default,Object.defineProperties(De(n),{readyState:{get:function(){return e}},track:{get:function(){return r}}}),e=0,r.addEventListener("loadeddata",function(){e=2,n.trigger({type:"load",target:De(n)})}),n}return oe(a,t),a}(_t)).prototype.allowedEvents_={load:"load"},yt.NONE=0,yt.LOADING=1,yt.LOADED=2,yt.ERROR=3;var Bn={audio:{ListClass:Pn,TrackClass:gr,capitalName:"Audio"},video:{ListClass:Fn,TrackClass:Ai,capitalName:"Video"},text:{ListClass:nt,TrackClass:Ir,capitalName:"Text"}};Object.keys(Bn).forEach(function(t){Bn[t].getterName=t+"Tracks",Bn[t].privateName=t+"Tracks_"});var Mr={remoteText:{ListClass:nt,TrackClass:Ir,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:rn,TrackClass:yt,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Un=Dt({},Bn,Mr);Mr.names=Object.keys(Mr),Bn.names=Object.keys(Bn),Un.names=[].concat(Mr.names).concat(Bn.names);var _n=typeof Ot<"u"?Ot:typeof window<"u"?window:{},qt=ln=typeof document<"u"?document:(ln=_n["__GLOBAL_DOCUMENT_CACHE@4"])||(_n["__GLOBAL_DOCUMENT_CACHE@4"]={}),ha=Object.create||function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return Xs.prototype=t,new Xs};function Xs(){}function li(t,a){this.name="ParsingError",this.code=t.code,this.message=a||t.message}function pa(t){function a(i,e,n,r){return 3600*(0|i)+60*(0|e)+(0|n)+(0|r)/1e3}return(t=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/))?t[3]?a(t[1],t[2],t[3].replace(":",""),t[4]):59<t[1]?a(t[1],t[2],0,t[4]):a(0,t[1],t[2],t[4]):null}function jr(){this.values=ha(null)}function Pr(t,a,i,e){var n,r,s=e?t.split(e):[t];for(n in s)"string"==typeof s[n]&&2===(r=s[n].split(i)).length&&a(r[0].trim(),r[1].trim())}function Ks(t,a,i){var e=t;function n(){var s=pa(t);if(null===s)throw new li(li.Errors.BadTimeStamp,"Malformed timestamp: "+e);return t=t.replace(/^[^\sa-zA-Z-]+/,""),s}function r(){t=t.replace(/^\s+/,"")}if(r(),a.startTime=n(),r(),"--\x3e"!==t.substr(0,3))throw new li(li.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+e);t=t.substr(3),r(),a.endTime=n(),r(),function(s,o){var u=new jr;Pr(s,function(m,g){switch(m){case"region":for(var w=i.length-1;0<=w;w--)if(i[w].id===g){u.set(m,i[w].region);break}break;case"vertical":u.alt(m,g,["rl","lr"]);break;case"line":var k=g.split(","),I=k[0];u.integer(m,I),u.percent(m,I)&&u.set("snapToLines",!1),u.alt(m,I,["auto"]),2===k.length&&u.alt("lineAlign",k[1],["start","center","end"]);break;case"position":k=g.split(","),u.percent(m,k[0]),2===k.length&&u.alt("positionAlign",k[1],["start","center","end"]);break;case"size":u.percent(m,g);break;case"align":u.alt(m,g,["start","center","end","left","right"])}},/:/,/\s/),o.region=u.get("region",null),o.vertical=u.get("vertical","");try{o.line=u.get("line","auto")}catch{}o.lineAlign=u.get("lineAlign","start"),o.snapToLines=u.get("snapToLines",!0),o.size=u.get("size",100);try{o.align=u.get("align","center")}catch{o.align=u.get("align","middle")}try{o.position=u.get("position","auto")}catch{o.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},o.align)}o.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},o.align)}(t,a)}((li.prototype=ha(Error.prototype)).constructor=li).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},jr.prototype={set:function(t,a){this.get(t)||""===a||(this.values[t]=a)},get:function(t,a,i){return i?this.has(t)?this.values[t]:a[i]:this.has(t)?this.values[t]:a},has:function(t){return t in this.values},alt:function(t,a,i){for(var e=0;e<i.length;++e)if(a===i[e]){this.set(t,a);break}},integer:function(t,a){/^-?\d+$/.test(a)&&this.set(t,parseInt(a,10))},percent:function(t,a){return!!(a.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(a=parseFloat(a))&&a<=100)&&(this.set(t,a),!0)}};var Vr=qt.createElement&&qt.createElement("textarea"),Ys={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Qs={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},fa={v:"title",lang:"lang"},ss={rt:"ruby"};function ma(t,a){for(var i,e,n,r,s,u,m,g,w,k=t.document.createElement("div"),I=k,S=[];null!==(i=function(){if(!a)return null;var P=a.match(/^([^<]*)(<[^>]*>?)?/);return a=a.substr((P=P[1]||P[2]).length),P}());)"<"!==i[0]?I.appendChild(t.document.createTextNode((Vr.innerHTML=i,s=Vr.textContent,Vr.textContent="",s))):"/"!==i[1]?(r=pa(i.substr(1,i.length-2)))?(e=t.document.createProcessingInstruction("timestamp",r),I.appendChild(e)):(n=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))&&(g=n[3],w=void 0,(e=(w=Ys[m=n[1]])?(w=t.document.createElement(w),(m=fa[m])&&g&&(w[m]=g.trim()),w):null)&&(ss[(u=e).localName]&&ss[u.localName]!==I.localName||(n[2]&&((r=n[2].split(".")).forEach(function(M){var U=/^bg_/.test(M);M=U?M.slice(3):M,Qs.hasOwnProperty(M)&&(e.style[U?"background-color":"color"]=M=Qs[M])}),e.className=r.join(" ")),S.push(n[1]),I.appendChild(e),I=e))):S.length&&S[S.length-1]===i.substr(2).replace(">","")&&(S.pop(),I=I.parentNode);return k}var ga=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function $s(t){var a=[],i="";if(!t||!t.childNodes)return"ltr";function e(r,s){for(var o=s.childNodes.length-1;0<=o;o--)r.push(s.childNodes[o])}for(e(a,t);i=function r(s){if(!s||!s.length)return null;var o=s.pop(),u=o.textContent||o.innerText;if(u){var m=u.match(/^.*(\n|\r)/);return m?m[s.length=0]:u}return"ruby"===o.tagName?r(s):o.childNodes?(e(s,o),r(s)):void 0}(a);)for(var n=0;n<i.length;n++)if(function(r){for(var s=0;s<ga.length;s++){var o=ga[s];if(r>=o[0]&&r<=o[1])return 1}}(i.charCodeAt(n)))return"rtl";return"ltr"}function Bi(){}function ya(t,a,i){Bi.call(this),this.cue=a,this.cueDiv=ma(t,a.text);var e={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===a.vertical?"horizontal-tb":"lr"===a.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(e,this.cueDiv),this.div=t.document.createElement("div"),e={direction:$s(this.cueDiv),writingMode:""===a.vertical?"horizontal-tb":"lr"===a.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===a.align?"center":a.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(e),this.div.appendChild(this.cueDiv);var n=0;switch(a.positionAlign){case"start":case"line-left":n=a.position;break;case"center":n=a.position-a.size/2;break;case"end":case"line-right":n=a.position-a.size}this.applyStyles(""===a.vertical?{left:this.formatStyle(n,"%"),width:this.formatStyle(a.size,"%")}:{top:this.formatStyle(n,"%"),height:this.formatStyle(a.size,"%")}),this.move=function(r){this.applyStyles({top:this.formatStyle(r.top,"px"),bottom:this.formatStyle(r.bottom,"px"),left:this.formatStyle(r.left,"px"),right:this.formatStyle(r.right,"px"),height:this.formatStyle(r.height,"px"),width:this.formatStyle(r.width,"px")})}}function fn(t){var a,i,e,n;t.div&&(a=t.div.offsetHeight,i=t.div.offsetWidth,e=t.div.offsetTop,n=(n=t.div.childNodes)&&(n=n[0])&&n.getClientRects&&n.getClientRects(),t=t.div.getBoundingClientRect(),n=n?Math.max(n[0]&&n[0].height||0,t.height/n.length):0),this.left=t.left,this.right=t.right,this.top=t.top||e,this.height=t.height||a,this.bottom=t.bottom||e+(t.height||a),this.width=t.width||i,this.lineHeight=void 0!==n?n:t.lineHeight}function os(t,a,i,e){var n,r=new fn(a),s=a.cue,o=function(S){if("number"==typeof S.line&&(S.snapToLines||0<=S.line&&S.line<=100))return S.line;if(!S.track||!S.track.textTrackList||!S.track.textTrackList.mediaElement)return-1;for(var P=S.track,U=P.textTrackList,M=0,q=0;q<U.length&&U[q]!==P;q++)"showing"===U[q].mode&&M++;return-1*++M}(s),u=[];if(s.snapToLines){switch(s.vertical){case"":u=["+y","-y"],n="height";break;case"rl":u=["+x","-x"],n="width";break;case"lr":u=["-x","+x"],n="width"}var m=r.lineHeight,g=m*Math.round(o),w=i[n]+m,k=u[0];Math.abs(g)>w&&(g=g<0?-1:1,g*=Math.ceil(w/m)*m),o<0&&(g+=""===s.vertical?i.height:i.width,u=u.reverse()),r.move(k,g)}else{var I=r.lineHeight/i.height*100;switch(s.lineAlign){case"center":o-=I/2;break;case"end":o-=I}switch(s.vertical){case"":a.applyStyles({top:a.formatStyle(o,"%")});break;case"rl":a.applyStyles({left:a.formatStyle(o,"%")});break;case"lr":a.applyStyles({right:a.formatStyle(o,"%")})}u=["+y","-x","+x","-y"],r=new fn(a)}r=function(S,P){for(var U,M=new fn(S),q=1,V=0;V<P.length;V++){for(;S.overlapsOppositeAxis(i,P[V])||S.within(i)&&S.overlapsAny(e);)S.move(P[V]);if(S.within(i))return S;var W=S.intersectPercentage(i);W<q&&(U=new fn(S),q=W),S=new fn(M)}return U||M}(r,u),a.move(r.toCSSCompatValues(i))}function ki(){}Bi.prototype.applyStyles=function(t,a){for(var i in a=a||this.div,t)t.hasOwnProperty(i)&&(a.style[i]=t[i])},Bi.prototype.formatStyle=function(t,a){return 0===t?0:t+a},(ya.prototype=ha(Bi.prototype)).constructor=ya,fn.prototype.move=function(t,a){switch(a=void 0!==a?a:this.lineHeight,t){case"+x":this.left+=a,this.right+=a;break;case"-x":this.left-=a,this.right-=a;break;case"+y":this.top+=a,this.bottom+=a;break;case"-y":this.top-=a,this.bottom-=a}},fn.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},fn.prototype.overlapsAny=function(t){for(var a=0;a<t.length;a++)if(this.overlaps(t[a]))return!0;return!1},fn.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},fn.prototype.overlapsOppositeAxis=function(t,a){switch(a){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},fn.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},fn.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},fn.getSimpleBoxPosition=function(t){var a=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,e=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||e,height:t.height||a,bottom:t.bottom||e+(t.height||a),width:t.width||i}},ki.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},ki.convertCueToDOMTree=function(t,a){return t&&a?ma(t,a):null},ki.processCues=function(t,a,i){if(!t||!a||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var e=t.document.createElement("div");if(e.style.position="absolute",e.style.left="0",e.style.right="0",e.style.top="0",e.style.bottom="0",e.style.margin="1.5%",i.appendChild(e),function(u){for(var m=0;m<u.length;m++)if(u[m].hasBeenReset||!u[m].displayState)return 1}(a)){var n=[],r=fn.getSimpleBoxPosition(e),s={font:Math.round(.05*r.height*100)/100+"px sans-serif"};!function(){for(var u,m,g=0;g<a.length;g++)u=new ya(t,m=a[g],s),e.appendChild(u.div),os(0,u,r,n),m.displayState=u.div,n.push(fn.getSimpleBoxPosition(u))}()}else for(var o=0;o<a.length;o++)e.appendChild(a[o].displayState)},(ki.Parser=function(t,a,i){i||(i=a,a={}),a=a||{},this.window=t,this.vttjs=a,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(t){if(!(t instanceof li))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var u,a=this;function i(){for(var u=a.buffer,m=0;m<u.length&&"\r"!==u[m]&&"\n"!==u[m];)++m;var g=u.substr(0,m);return"\r"===u[m]&&++m,"\n"===u[m]&&++m,a.buffer=u.substr(m),g}t&&(a.buffer+=a.decoder.decode(t,{stream:!0}));try{if("INITIAL"===a.state){if(!/\r\n|\n/.test(a.buffer))return this;var n,r=(n=i()).match(/^WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new li(li.Errors.BadSignature);a.state="HEADER"}for(var s=!1;a.buffer;){if(!/\r\n|\n/.test(a.buffer))return this;switch(s?s=!1:n=i(),a.state){case"HEADER":/:/.test(n)?(u=n).match(/X-TIMESTAMP-MAP/)?Pr(u,function(m,g){var w;"X-TIMESTAMP-MAP"===m&&(w=new jr,Pr(g,function(k,I){switch(k){case"MPEGT":w.integer(k+"S",I);break;case"LOCA":w.set(k+"L",pa(I))}},/[^\d]:/,/,/),a.ontimestampmap&&a.ontimestampmap({MPEGTS:w.get("MPEGTS"),LOCAL:w.get("LOCAL")}))},/=/):Pr(u,function(m,g){var w;"Region"===m&&(w=new jr,Pr(g,function(k,I){switch(k){case"id":w.set(k,I);break;case"width":w.percent(k,I);break;case"lines":w.integer(k,I);break;case"regionanchor":case"viewportanchor":var S=I.split(",");if(2!==S.length)break;var P=new jr;if(P.percent("x",S[0]),P.percent("y",S[1]),!P.has("x")||!P.has("y"))break;w.set(k+"X",P.get("x")),w.set(k+"Y",P.get("y"));break;case"scroll":w.alt(k,I,["up"])}},/=/,/\s/),w.has("id")&&((g=new(a.vttjs.VTTRegion||a.window.VTTRegion)).width=w.get("width",100),g.lines=w.get("lines",3),g.regionAnchorX=w.get("regionanchorX",0),g.regionAnchorY=w.get("regionanchorY",100),g.viewportAnchorX=w.get("viewportanchorX",0),g.viewportAnchorY=w.get("viewportanchorY",100),g.scroll=w.get("scroll",""),a.onregion&&a.onregion(g),a.regionList.push({id:w.get("id"),region:g})))},/:/):n||(a.state="ID");continue;case"NOTE":n||(a.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){a.state="NOTE";break}if(!n)continue;a.cue=new(a.vttjs.VTTCue||a.window.VTTCue)(0,0,"");try{a.cue.align="center"}catch{a.cue.align="middle"}if(a.state="CUE",-1===n.indexOf("--\x3e")){a.cue.id=n;continue}case"CUE":try{Ks(n,a.cue,a.regionList)}catch(u){a.reportOrThrowError(u),a.cue=null,a.state="BADCUE";continue}a.state="CUETEXT";continue;case"CUETEXT":var o=-1!==n.indexOf("--\x3e");if(!n||o&&(s=!0)){a.oncue&&a.oncue(a.cue),a.cue=null,a.state="ID";continue}a.cue.text&&(a.cue.text+="\n"),a.cue.text+=n.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":n||(a.state="ID");continue}}}catch(u){a.reportOrThrowError(u),"CUETEXT"===a.state&&a.cue&&a.oncue&&a.oncue(a.cue),a.cue=null,a.state="INITIAL"===a.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),!t.cue&&"HEADER"!==t.state||(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new li(li.Errors.BadSignature)}catch(a){t.reportOrThrowError(a)}return t.onflush&&t.onflush(),this}};var au=ki,Or={"":1,lr:1,rl:1},Js={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function va(t){return"string"==typeof t&&!!Js[t.toLowerCase()]&&t.toLowerCase()}function Zs(t,a,i){this.hasBeenReset=!1;var e="",n=!1,r=t,s=a,o=i,u=null,m="",g=!0,w="auto",k="start",I="auto",S="auto",P=100,U="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return e},set:function(M){e=""+M}},pauseOnExit:{enumerable:!0,get:function(){return n},set:function(M){n=!!M}},startTime:{enumerable:!0,get:function(){return r},set:function(M){if("number"!=typeof M)throw new TypeError("Start time must be set to a number.");r=M,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(M){if("number"!=typeof M)throw new TypeError("End time must be set to a number.");s=M,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(M){o=""+M,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(M){u=M,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return m},set:function(M){if(!1===(M="string"==typeof M&&!!Or[M.toLowerCase()]&&M.toLowerCase()))throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");m=M,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return g},set:function(M){g=!!M,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return w},set:function(M){if("number"!=typeof M&&"auto"!==M)throw new SyntaxError("Line: an invalid number or illegal string was specified.");w=M,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return k},set:function(M){(M=va(M))&&(k=M,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return I},set:function(M){if(M<0||100<M)throw new Error("Position must be between 0 and 100.");I=M,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return S},set:function(M){(M=va(M))&&(S=M,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){return P},set:function(M){if(M<0||100<M)throw new Error("Size must be between 0 and 100.");P=M,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return U},set:function(M){if(!(M=va(M)))throw new SyntaxError("align: an invalid or illegal alignment string was specified.");U=M,this.hasBeenReset=!0}}}),this.displayState=void 0}Zs.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var eo=Zs,to={"":!0,up:!0};function cr(t){return"number"==typeof t&&0<=t&&t<=100}function no(){var t=100,a=3,i=0,e=100,n=0,r=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!cr(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return a},set:function(o){if("number"!=typeof o)throw new TypeError("Lines must be set to a number.");a=o}},regionAnchorY:{enumerable:!0,get:function(){return e},set:function(o){if(!cr(o))throw new Error("RegionAnchorX must be between 0 and 100.");e=o}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(o){if(!cr(o))throw new Error("RegionAnchorY must be between 0 and 100.");i=o}},viewportAnchorY:{enumerable:!0,get:function(){return r},set:function(o){if(!cr(o))throw new Error("ViewportAnchorY must be between 0 and 100.");r=o}},viewportAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!cr(o))throw new Error("ViewportAnchorX must be between 0 and 100.");n=o}},scroll:{enumerable:!0,get:function(){return s},set:function(o){!1===(o="string"==typeof o&&!!to[o.toLowerCase()]&&o.toLowerCase())||(s=o)}}})}var Lr=Zt(function(t){t=t.exports={WebVTT:au,VTTCue:eo,VTTRegion:no},Jn.vttjs=t,Jn.WebVTT=t.WebVTT;var a=t.VTTCue,i=t.VTTRegion,e=Jn.VTTCue,n=Jn.VTTRegion;t.shim=function(){Jn.VTTCue=a,Jn.VTTRegion=i},t.restore=function(){Jn.VTTCue=e,Jn.VTTRegion=n},Jn.VTTCue||t.shim()}),Tt=function(t){function a(e,n){var r;return void 0===n&&(n=function(){}),(e=void 0===e?{}:e).reportTouchActivity=!1,(r=t.call(this,null,e,n)||this).onDurationChange_=function(s){return r.onDurationChange(s)},r.trackProgress_=function(s){return r.trackProgress(s)},r.trackCurrentTime_=function(s){return r.trackCurrentTime(s)},r.stopTrackingCurrentTime_=function(s){return r.stopTrackingCurrentTime(s)},r.disposeSourceHandler_=function(s){return r.disposeSourceHandler(s)},r.queuedHanders_=new Set,r.hasStarted_=!1,r.on("playing",function(){this.hasStarted_=!0}),r.on("loadstart",function(){this.hasStarted_=!1}),Un.names.forEach(function(s){s=Un[s],e&&e[s.getterName]&&(r[s.privateName]=e[s.getterName])}),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){!1===e["native"+s+"Tracks"]&&(r["featuresNative"+s+"Tracks"]=!1)}),!1===e.nativeCaptions||!1===e.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.preloadTextTracks=!1!==e.preloadTextTracks,r.autoRemoteTextTracks_=new Un.text.ListClass,r.initTrackListeners(),e.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}oe(a,t);var i=a.prototype;return i.triggerSourceset=function(e){var n=this;this.isReady_||this.one("ready",function(){return n.setTimeout(function(){return n.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},i.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Mt(this,function(){var n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),1===(this.bufferedPercent_=n)&&this.stopTrackingProgress()}),500)},i.onDurationChange=function(e){this.duration_=this.duration()},i.buffered=function(){return Yi(0,0)},i.bufferedPercent=function(){return Ja(this.buffered(),this.duration_)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(Bn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},i.clearTracks=function(e){var n=this;(e=[].concat(e)).forEach(function(r){for(var s=n[r+"Tracks"]()||[],o=s.length;o--;){var u=s[o];"text"===r&&n.removeRemoteTextTrack(u),s.removeTrack(u)}})},i.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],n=e.length;n--;)this.removeRemoteTextTrack(e[n])},i.reset=function(){},i.crossOrigin=function(){},i.setCrossOrigin=function(){},i.error=function(e){return void 0!==e&&(this.error_=new Ft(e),this.trigger("error")),this.error_},i.played=function(){return this.hasStarted_?Yi(0,0):Yi()},i.play=function(){},i.setScrubbing=function(){},i.scrubbing=function(){},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTrackListeners=function(){var e=this;Bn.names.forEach(function(n){function r(){e.trigger(n+"trackchange")}var o=e[Bn[n].getterName]();o.addEventListener("removetrack",r),o.addEventListener("addtrack",r),e.on("dispose",function(){o.removeEventListener("removetrack",r),o.removeEventListener("addtrack",r)})})},i.addWebVttScript_=function(){var e,n=this;window.WebVTT||(document.body.contains(this.el())?!this.options_["vtt.js"]&&ie(Lr)&&0<Object.keys(Lr).length?this.trigger("vttjsloaded"):((e=document.createElement("script")).src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){n.trigger("vttjsloaded")},e.onerror=function(){n.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),window.WebVTT=!0,this.el().parentNode.appendChild(e)):this.ready(this.addWebVttScript_))},i.emulateTextTracks=function(){function e(g){return s.addTrack(g.track)}function n(g){return s.removeTrack(g.track)}var r=this,s=this.textTracks(),o=this.remoteTextTracks();function u(){return r.trigger("texttrackchange")}function m(){u();for(var g=0;g<s.length;g++){var w=s[g];w.removeEventListener("cuechange",u),"showing"===w.mode&&w.addEventListener("cuechange",u)}}o.on("addtrack",e),o.on("removetrack",n),this.addWebVttScript_(),m(),s.addEventListener("change",m),s.addEventListener("addtrack",m),s.addEventListener("removetrack",m),this.on("dispose",function(){o.off("addtrack",e),o.off("removetrack",n),s.removeEventListener("change",m),s.removeEventListener("addtrack",m),s.removeEventListener("removetrack",m);for(var g=0;g<s.length;g++)s[g].removeEventListener("cuechange",u)})},i.addTextTrack=function(e,n,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(s,o,u,m,g){void 0===g&&(g={});var w=s.textTracks();return g.kind=o,u&&(g.label=u),m&&(g.language=m),g.tech=s,g=new Un.text.TrackClass(g),w.addTrack(g),g}(this,e,n,r)},i.createRemoteTextTrack=function(e){return e=Ut(e,{tech:this}),new Mr.remoteTextEl.TrackClass(e)},i.addRemoteTextTrack=function(e,n){var r=this,s=this.createRemoteTextTrack(e=void 0===e?{}:e);return!0!==n&&!1!==n&&(Re.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(s),this.remoteTextTracks().addTrack(s.track),!0!==n&&this.ready(function(){return r.autoRemoteTextTracks_.addTrack(s.track)}),s},i.removeRemoteTextTrack=function(e){var n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},i.getVideoPlaybackQuality=function(){return{}},i.requestPictureInPicture=function(){var e=this.options_.Promise||window.Promise;if(e)return e.reject()},i.disablePictureInPicture=function(){return!0},i.setDisablePictureInPicture=function(){},i.requestVideoFrameCallback=function(e){var n=this,r=Ue++;return!this.isReady_||this.paused()?(this.queuedHanders_.add(r),this.one("playing",function(){n.queuedHanders_.has(r)&&(n.queuedHanders_.delete(r),e())})):this.requestNamedAnimationFrame(r,e),r},i.cancelVideoFrameCallback=function(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},a.canPlayType=function(){return""},a.canPlaySource=function(e,n){return a.canPlayType(e.type)},a.isTech=function(e){return e.prototype instanceof a||e instanceof a||e===a},a.registerTech=function(e,n){if(a.techs_||(a.techs_={}),!a.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!a.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!a.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=nn(e),a.techs_[e]=n,a.techs_[sa(e)]=n,"Tech"!==e&&a.defaultTechOrder_.push(e),n},a.getTech=function(e){if(e)return a.techs_&&a.techs_[e]?a.techs_[e]:(e=nn(e),window&&window.videojs&&window.videojs[e]?(Re.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),window.videojs[e]):void 0)},a}(ne);Un.names.forEach(function(t){var a=Un[t];Tt.prototype[a.getterName]=function(){return this[a.privateName]=this[a.privateName]||new a.ListClass,this[a.privateName]}}),Tt.prototype.featuresVolumeControl=!0,Tt.prototype.featuresMuteControl=!0,Tt.prototype.featuresFullscreenResize=!1,Tt.prototype.featuresPlaybackRate=!1,Tt.prototype.featuresProgressEvents=!1,Tt.prototype.featuresSourceset=!1,Tt.prototype.featuresTimeupdateEvents=!1,Tt.prototype.featuresNativeTextTracks=!1,Tt.prototype.featuresVideoFrameCallback=!1,Tt.withSourceHandlers=function(t){t.registerSourceHandler=function(a,i){var e=(e=t.sourceHandlers)||(t.sourceHandlers=[]);void 0===i&&(i=e.length),e.splice(i,0,a)},t.canPlayType=function(a){for(var i,e=t.sourceHandlers||[],n=0;n<e.length;n++)if(i=e[n].canPlayType(a))return i;return""},t.selectSourceHandler=function(a,i){for(var e=t.sourceHandlers||[],n=0;n<e.length;n++)if(e[n].canHandleSource(a,i))return e[n];return null},t.canPlaySource=function(a,i){var e=t.selectSourceHandler(a,i);return e?e.canHandleSource(a,i):""},["seekable","seeking","duration"].forEach(function(a){var i=this[a];"function"==typeof i&&(this[a]=function(){return this.sourceHandler_&&this.sourceHandler_[a]?this.sourceHandler_[a].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(a){var i=t.selectSourceHandler(a,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:Re.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=a),this.sourceHandler_=i.handleSource(a,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},ne.registerComponent("Tech",Tt),Tt.registerTech("Tech",Tt),Tt.defaultTechOrder_=[];var Qi={},Wr={},Dr={};function us(t,a,i,n){void 0===n&&(n=null);var r="call"+nn(i);return r=t.reduce($i(r),n),function(s,o,u,m){for(var g=s.length-1;0<=g;g--){var w=s[g];w[o]&&w[o](m,u)}}(t,i,r=(n=r===Dr)?null:a[i](r),n),r}var ro={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},ao={setCurrentTime:1,setMuted:1,setVolume:1},ls={play:1,pause:1};function $i(t){return function(a,i){return a===Dr?Dr:i[t]?i[t](a):a}}function ba(t){return t=Ar(t=void 0===t?"":t),oo[t.toLowerCase()]||""}function so(t){var a;return Array.isArray(t)?(a=[],t.forEach(function(i){i=so(i),Array.isArray(i)?a=a.concat(i):vn(i)&&a.push(i)}),a):"string"==typeof t&&t.trim()?[cs({src:t})]:vn(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[cs(t)]:[]}var oo={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"};function cs(t){var a;return t.type||(a=ba(t.src))&&(t.type=a),t}un=function(t){function a(i,e,s){var r=Ut({createEl:!1},e);if(s=t.call(this,i,r,s)||this,e.playerOptions.sources&&0!==e.playerOptions.sources.length)i.src(e.playerOptions.sources);else for(var o=0,u=e.playerOptions.techOrder;o<u.length;o++){var m=nn(u[o]),g=Tt.getTech(m);if((g=m?g:ne.getComponent(m))&&g.isSupported()){i.loadTech_(m);break}}return s}return oe(a,t),a}(ne),ne.registerComponent("MediaLoader",un),On=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.options_.controlText&&r.controlText(r.options_.controlText),r.handleMouseOver_=function(s){return r.handleMouseOver(s)},r.handleMouseOut_=function(s){return r.handleMouseOut(s)},r.handleClick_=function(s){return r.handleClick(s)},r.handleKeyDown_=function(s){return r.handleKeyDown(s)},r.emitTapEvents(),r.enable(),r}oe(a,t);var i=a.prototype;return i.createEl=function(e,n,r){return void 0===e&&(e="div"),void 0===n&&(n={}),void 0===r&&(r={}),n=Nt({className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&Re.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),r=Nt({role:"button"},r),this.tabIndex_=n.tabIndex,(r=qe(e,n,r)).appendChild(qe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r},i.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},i.createControlTextEl=function(e){return this.controlTextEl_=qe("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},i.controlText=function(e,n){if(void 0===n&&(n=this.el()),void 0===e)return this.controlText_||"Need Text";var r=this.localize(e);this.controlText_=e,wi(this.controlTextEl_,r),this.nonIconControl||this.player_.options_.noUITitleAttributes||n.setAttribute("title",r)},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},i.handleLanguagechange=function(){this.controlText(this.controlText_)},i.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(e){Pe.isEventKey(e,"Space")||Pe.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},a}(ne),ne.registerComponent("ClickableComponent",On),ne.registerComponent("PosterImage",function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.update(),r.update_=function(s){return r.update(s)},e.on("posterchange",r.update_),r}oe(a,t);var i=a.prototype;return i.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},i.createEl=function(){return qe("div",{className:"vjs-poster",tabIndex:-1})},i.update=function(e){var n=this.player().poster();this.setSrc(n),n?this.show():this.hide()},i.setSrc=function(e){this.el_.style.backgroundImage=e?'url("'+e+'")':""},i.handleClick=function(e){var n;this.player_.controls()&&(n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length,!this.player_.tech(!0)||($n||Vi)&&n||this.player_.tech(!0).focus(),this.player_.paused()?oi(this.player_.play()):this.player_.pause())},a}(On));var Xr="#222",su={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function _a(t,a){var i;if(4===t.length)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");i=t.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+a+")"}function Kr(t,a,i){try{t.style[a]=i}catch{return}}ne.registerComponent("TextTrackDisplay",function(t){function a(e,n,r){function s(u){return o.updateDisplay(u)}var o=t.call(this,e,n,r)||this;return e.on("loadstart",function(u){return o.toggleDisplay(u)}),e.on("texttrackchange",s),e.on("loadedmetadata",function(u){return o.preselectTrack(u)}),e.ready(Mt(De(o),function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)this.hide();else{e.on("fullscreenchange",s),e.on("playerresize",s),window.addEventListener("orientationchange",s),e.on("dispose",function(){return window.removeEventListener("orientationchange",s)});for(var u=this.options_.playerOptions.tracks||[],m=0;m<u.length;m++)this.player_.addRemoteTextTrack(u[m],!0);this.preselectTrack()}})),o}oe(a,t);var i=a.prototype;return i.preselectTrack=function(){for(var e,n,r,s={captions:1,subtitles:1},o=this.player_.textTracks(),u=this.player_.cache_.selectedLanguage,m=0;m<o.length;m++){var g=o[m];u&&u.enabled&&u.language&&u.language===g.language&&g.kind in s?r=g.kind!==u.kind&&r||g:u&&!u.enabled?n=e=r=null:g.default&&("descriptions"!==g.kind||e?g.kind in s&&!n&&(n=g):e=g)}r?r.mode="showing":n?n.mode="showing":e&&(e.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"==typeof window.WebVTT&&window.WebVTT.processCues(window,[],this.el_)},i.updateDisplay=function(){var e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){for(var r=[],s=0;s<e.length;++s){var o=e[s];"showing"===o.mode&&r.push(o)}this.updateForTrack(r)}else{for(var u=null,m=null,g=e.length;g--;){var w=e[g];"showing"===w.mode&&("descriptions"===w.kind?u=w:m=w)}m?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(m)):u&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(u))}},i.updateDisplayState=function(e){for(var n=this.player_.textTrackSettings.getValues(),r=e.activeCues,s=r.length;s--;){var o,u=r[s];u&&(o=u.displayState,n.color&&(o.firstChild.style.color=n.color),n.textOpacity&&Kr(o.firstChild,"color",_a(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(o.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&Kr(o.firstChild,"backgroundColor",_a(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?Kr(o,"backgroundColor",_a(n.windowColor,n.windowOpacity)):o.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+Xr:"raised"===n.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+Xr:"depressed"===n.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+Xr:"uniform"===n.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+Xr)),n.fontPercent&&1!==n.fontPercent&&(u=window.parseFloat(o.style.fontSize),o.style.fontSize=u*n.fontPercent+"px",o.style.height="auto",o.style.top="auto"),n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=su[n.fontFamily]))}},i.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof window.WebVTT&&!e.every(function(k){return!k.activeCues})){for(var n=[],r=0;r<e.length;++r)for(var s=e[r],o=0;o<s.activeCues.length;++o)n.push(s.activeCues[o]);window.WebVTT.processCues(window,n,this.el_);for(var u=0;u<e.length;++u){for(var m=e[u],g=0;g<m.activeCues.length;++g){var w=m.activeCues[g].displayState;f(w,"vjs-text-track-cue"),f(w,"vjs-text-track-cue-"+(m.language||u)),m.language&&R(w,"lang",m.language)}this.player_.textTrackSettings&&this.updateDisplayState(m)}}},a}(ne)),ne.registerComponent("LoadingSpinner",function(t){function a(){return t.apply(this,arguments)||this}return oe(a,t),a.prototype.createEl=function(){var i=this.player_.isAudio(),e=this.localize(i?"Audio Player":"Video Player");return i=qe("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[e])}),(e=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})).appendChild(i),e},a}(ne));var Zn=function(t){function a(){return t.apply(this,arguments)||this}oe(a,t);var i=a.prototype;return i.createEl=function(e,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),(r=qe("button",n=Nt({className:this.buildCSSClass()},n),r=Nt({type:"button"},r))).appendChild(qe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r},i.addChild=function(e,n){return void 0===n&&(n={}),Re.warn("Adding an actionable (user controllable) child to a Button ("+this.constructor.name+") is not supported; use a ClickableComponent instead."),ne.prototype.addChild.call(this,e,n)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(e){Pe.isEventKey(e,"Space")||Pe.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},a}(On);function ds(t,s){t=t<0?0:t;var i=Math.floor(t%60),e=Math.floor(t/60%60),n=Math.floor(t/3600),r=Math.floor(s/60%60);return s=Math.floor(s/3600),(n=0<(n=isNaN(t)||t===1/0?e=i="-":n)||0<s?n+":":"")+(e=((n||10<=r)&&e<10?"0"+e:e)+":")+(i<10?"0"+i:i)}ne.registerComponent("Button",Zn),(Pn=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.mouseused_=!1,r.on("mousedown",function(s){return r.handleMouseDown(s)}),r}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(e){var n=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var r=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length;return oi(n),void(!this.player_.tech(!0)||($n||Vi)&&r||this.player_.tech(!0).focus())}var s=(r=this.player_.getChild("controlBar"))&&r.getChild("playToggle");s?(r=function(){return s.focus()},Mn(n)?n.then(r,function(){}):this.setTimeout(r,1)):this.player_.tech(!0).focus()},i.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},i.handleMouseDown=function(e){this.mouseused_=!0},a}(Zn)).prototype.controlText_="Play Video",ne.registerComponent("BigPlayButton",Pn),ne.registerComponent("CloseButton",function(t){function a(e,n){return(e=t.call(this,e,n)||this).controlText(n&&n.controlText||e.localize("Close")),e}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(e){Pe.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},a}(Zn)),(Fn=function(t){function a(e,n){var r=t.call(this,e,n=void 0===n?{}:n)||this;return n.replay=void 0===n.replay||n.replay,r.on(e,"play",function(s){return r.handlePlay(s)}),r.on(e,"pause",function(s){return r.handlePause(s)}),n.replay&&r.on(e,"ended",function(s){return r.handleEnded(s)}),r}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(e){this.player_.paused()?oi(this.player_.play()):this.player_.pause()},i.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},i.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(e){var n=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(r){return n.handleSeeked(r)})},a}(Zn)).prototype.controlText_="Play",ne.registerComponent("PlayToggle",Fn);var Ta=ds;function dr(t,a){return Ta(t,a=void 0===a?t:a)}function wa(t,a,i){return t=Number(t),Math.min(i,Math.max(a,isNaN(t)?a:t))}function xa(t,a){return wa(t/a*100,0,100).toFixed(2)+"%"}(nt=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.on(e,["timeupdate","ended"],function(s){return r.updateContent(s)}),r.updateTextNode_(),r}oe(a,t);var i=a.prototype;return i.createEl=function(){var e=this.buildCSSClass(),n=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control"}),r=qe("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xa0"},{role:"presentation"});return n.appendChild(r),this.contentEl_=qe("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(e){var n=this;e=dr(e=void 0===e?0:e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){var r;n.contentEl_&&((r=n.textNode_)&&n.contentEl_.firstChild!==r&&(r=null,Re.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),n.textNode_=document.createTextNode(n.formattedTime_),n.textNode_&&(r?n.contentEl_.replaceChild(n.textNode_,r):n.contentEl_.appendChild(n.textNode_)))}))},i.updateContent=function(e){},a}(ne)).prototype.labelText_="Time",nt.prototype.controlText_="Time",ne.registerComponent("TimeDisplay",nt),rn=function(t){function a(){return t.apply(this,arguments)||this}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(e){var n=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateTextNode_(n)},a}(nt),rn.prototype.labelText_="Current Time",rn.prototype.controlText_="Current Time",ne.registerComponent("CurrentTimeDisplay",rn),(yt=function(t){function a(e,s){var r=t.call(this,e,s)||this;return s=function(o){return r.updateContent(o)},r.on(e,"durationchange",s),r.on(e,"loadstart",s),r.on(e,"loadedmetadata",s),r}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(e){var n=this.player_.duration();this.updateTextNode_(n)},a}(nt)).prototype.labelText_="Duration",yt.prototype.controlText_="Duration",ne.registerComponent("DurationDisplay",yt),ne.registerComponent("TimeDivider",function(t){function a(){return t.apply(this,arguments)||this}return oe(a,t),a.prototype.createEl=function(){var i=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),e=t.prototype.createEl.call(this,"div"),n=t.prototype.createEl.call(this,"span",{textContent:"/"});return e.appendChild(n),i.appendChild(e),i},a}(ne)),(Ot=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.on(e,"durationchange",function(s){return r.updateContent(s)}),r}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var e=t.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&e.insertBefore(qe("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},i.updateContent=function(e){var n;"number"==typeof this.player_.duration()&&(n=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(n))},a}(nt)).prototype.labelText_="Remaining Time",Ot.prototype.controlText_="Remaining Time",ne.registerComponent("RemainingTimeDisplay",Ot),ne.registerComponent("LiveDisplay",function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.updateShowing(),r.on(r.player(),"durationchange",function(s){return r.updateShowing(s)}),r}oe(a,t);var i=a.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=qe("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(qe("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xa0"})),this.contentEl_.appendChild(document.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e},i.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},i.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},a}(ne)),(_n=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.updateLiveEdgeStatus(),r.player_.liveTracker&&(r.updateLiveEdgeStatusHandler_=function(s){return r.updateLiveEdgeStatus(s)},r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatusHandler_)),r}oe(a,t);var i=a.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=qe("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},a}(Zn)).prototype.controlText_="Seek to live, currently playing live",ne.registerComponent("SeekToLive",_n),ln=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.handleMouseDown_=function(s){return r.handleMouseDown(s)},r.handleMouseUp_=function(s){return r.handleMouseUp(s)},r.handleKeyDown_=function(s){return r.handleKeyDown(s)},r.handleClick_=function(s){return r.handleClick(s)},r.handleMouseMove_=function(s){return r.handleMouseMove(s)},r.update_=function(s){return r.update(s)},r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}oe(a,t);var i=a.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){var e;this.enabled()&&(e=this.bar.el_.ownerDocument,this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1)},i.createEl=function(e,n,r){return void 0===r&&(r={}),(n=void 0===n?{}:n).className=n.className+" vjs-slider",n=Nt({tabIndex:0},n),r=Nt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),t.prototype.createEl.call(this,e,n,r)},i.handleMouseDown=function(e){var n=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||ri||e.preventDefault(),Rt(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},i.handleMouseMove=function(e){},i.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;pn(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},i.update=function(){var e=this;if(this.el_&&this.bar){var n=this.getProgress();return n===this.progress_||(this.progress_=n,this.requestNamedAnimationFrame("Slider#update",function(){var r=e.vertical()?"height":"width";e.bar.el().style[r]=(100*n).toFixed(2)+"%"})),n}},i.getProgress=function(){return Number(wa(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(e){return e=on(this.el_,e),this.vertical()?e.y:e.x},i.handleKeyDown=function(e){Pe.isEventKey(e,"Left")||Pe.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Pe.isEventKey(e,"Right")||Pe.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},i.handleClick=function(e){e.stopPropagation(),e.preventDefault()},i.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal")},a}(ne),ne.registerComponent("Slider",ln),ne.registerComponent("LoadProgressBar",function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.partEls_=[],r.on(e,"progress",function(s){return r.update(s)}),r}oe(a,t);var i=a.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=qe("span",{className:"vjs-control-text"}),r=qe("span",{textContent:this.localize("Loaded")}),s=document.createTextNode(": ");return this.percentageEl_=qe("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(r),n.appendChild(s),n.appendChild(this.percentageEl_),e},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},i.update=function(e){var n=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var u=n.player_.liveTracker,r=n.player_.buffered(),s=(u=u&&u.isLive()?u.seekableEnd():n.player_.duration(),n.player_.bufferedEnd()),o=n.partEls_;u=xa(s,u),n.percent_!==u&&(n.el_.style.width=u,wi(n.percentageEl_,u),n.percent_=u);for(var m=0;m<r.length;m++){var g=r.start(m),w=r.end(m),k=o[m];k||(k=n.el_.appendChild(qe()),o[m]=k),k.dataset.start===g&&k.dataset.end===w||(k.dataset.start=g,k.dataset.end=w,k.style.left=xa(g,s),k.style.width=xa(w-g,s))}for(var I=o.length;I>r.length;I--)n.el_.removeChild(o[I-1]);o.length=r.length})},a}(ne)),ne.registerComponent("TimeTooltip",function(t){function a(e,n){return(n=t.call(this,e,n)||this).update=G(Mt(De(n),n.update),30),n}oe(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(e,n,r){var s=ot(this.el_),o=dt(this.player_.el()),u=e.width*n;o&&s&&(n=e.left-o.left+u,o=e.width-u+(o.right-e.right),n<(e=s.width/2)?e+=e-n:o<e&&(e=o),e<0?e=0:e>s.width&&(e=s.width),e=Math.round(e),this.el_.style.right="-"+e+"px",this.write(r))},i.write=function(e){wi(this.el_,e)},i.updateTime=function(e,n,r,s){var o=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var u,m,g=o.player_.duration();g=o.player_.liveTracker&&o.player_.liveTracker.isLive()?((m=(u=o.player_.liveTracker.liveWindow())-n*u)<1?"":"-")+dr(m,u):dr(r,g),o.update(e,n,g),s&&s()})},a}(ne)),(qt=function(t){function a(e,n){return(n=t.call(this,e,n)||this).update=G(Mt(De(n),n.update),30),n}oe(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(e,n){var r,s=this.getChild("timeTooltip");s&&(r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),s.updateTime(e,n,r))},a}(ne)).prototype.options_={children:[]},jt||mt||qt.prototype.options_.children.push("timeTooltip"),ne.registerComponent("PlayProgressBar",qt),(un=function(t){function a(e,n){return(n=t.call(this,e,n)||this).update=G(Mt(De(n),n.update),30),n}oe(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(e,n){var r=this,s=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,s,function(){r.el_.style.left=e.width*n+"px"})},a}(ne)).prototype.options_={children:["timeTooltip"]},ne.registerComponent("MouseTimeDisplay",un),(Pn=function(t){function a(e,n){return(n=t.call(this,e,n)||this).setEventHandlers_(),n}oe(a,t);var i=a.prototype;return i.setEventHandlers_=function(){var e=this;this.update_=Mt(this,this.update),this.update=G(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(n){return e.enableInterval_(n)},this.disableIntervalHandler_=function(n){return e.disableInterval_(n)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.on(document,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(e){"hidden"===document.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},i.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(e){var n=this;if("hidden"!==document.visibilityState){var r=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var s=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),o=n.player_.liveTracker,u=n.player_.duration();o&&o.isLive()&&(u=n.player_.liveTracker.liveCurrentTime()),n.percent_!==r&&(n.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),n.percent_=r),n.currentTime_===s&&n.duration_===u||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[dr(s,u),dr(u,u)],"{1} of {2}")),n.currentTime_=s,n.duration_=u),n.bar&&n.bar.update(dt(n.el()),n.getProgress())}),r}},i.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var e,n=this.getCurrentTime_(),r=this.player_.liveTracker;return r&&r.isLive()?(e=(n-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(e=1)):e=n/this.player_.duration(),e},i.handleMouseDown=function(e){Ce(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},i.handleMouseMove=function(e,n){if(void 0===n&&(n=!1),Ce(e)){n||this.player_.scrubbing()||this.player_.scrubbing(!0);var r=this.calculateDistance(e),s=this.player_.liveTracker;if(s&&s.isLive()){if(.99<=r)return void s.seekToLiveEdge();var o;if(n=s.seekableStart(),(o=(o=(e=s.liveCurrentTime())<=(o=n+r*s.liveWindow())?e:o)<=n?n+.1:o)===1/0)return}else(o=r*this.player_.duration())===this.player_.duration()&&(o-=.1);this.userSeek_(o)}},i.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},i.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},i.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?oi(this.player_.play()):this.update_()},i.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},i.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},i.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(e){var n,r=this.player_.liveTracker;Pe.isEventKey(e,"Space")||Pe.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.handleAction(e)):Pe.isEventKey(e,"Home")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(0)):Pe.isEventKey(e,"End")?(e.preventDefault(),e.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration())):/^[0-9]$/.test(Pe(e))?(e.preventDefault(),e.stopPropagation(),n=10*(Pe.codes[Pe(e)]-Pe.codes[0])/100,r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*n):this.userSeek_(this.player_.duration()*n)):Pe.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):Pe.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):t.prototype.handleKeyDown.call(this,e)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.off(document,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},a}(ln)).prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},jt||mt||Pn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),ne.registerComponent("SeekBar",Pn),(Fn=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.handleMouseMove=G(Mt(De(r),r.handleMouseMove),30),r.throttledHandleMouseSeek=G(Mt(De(r),r.handleMouseSeek),30),r.handleMouseUpHandler_=function(s){return r.handleMouseUp(s)},r.handleMouseDownHandler_=function(s){return r.handleMouseDown(s)},r.enable(),r}oe(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(e){var n,r,s,o,u=this.getChild("seekBar");u&&(n=u.getChild("playProgressBar"),r=u.getChild("mouseTimeDisplay"),(n||r)&&(o=ot(s=u.el()),e=wa(e=on(s,e).x,0,1),r&&r.update(o,e),n&&n.update(o,u.getProgress())))},i.handleMouseSeek=function(e){var n=this.getChild("seekBar");n&&n.handleMouseMove(e)},i.enabled=function(){return this.enabled_},i.disable=function(){var e;this.children().forEach(function(n){return n.disable&&n.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing()&&(e=this.getChild("seekBar"),this.player_.scrubbing(!1),e.videoWasPlaying&&oi(this.player_.play())))},i.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},i.handleMouseDown=function(e){var n=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(e){var n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},a}(ne)).prototype.options_={children:["seekBar"]},ne.registerComponent("ProgressControl",Fn),(rn=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.on(e,["enterpictureinpicture","leavepictureinpicture"],function(s){return r.handlePictureInPictureChange(s)}),r.on(e,["disablepictureinpicturechanged","loadedmetadata"],function(s){return r.handlePictureInPictureEnabledChange(s)}),r.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){"audio"===e.currentType().substring(0,5)||e.audioPosterMode()||e.audioOnlyMode()?(e.isInPictureInPicture()&&e.exitPictureInPicture(),r.hide()):r.show()}),r.disable(),r}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){document.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},i.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},a}(Zn)).prototype.controlText_="Picture-in-Picture",ne.registerComponent("PictureInPictureToggle",rn),(yt=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.on(e,"fullscreenchange",function(s){return r.handleFullscreenChange(s)}),!1===document[e.fsApi_.fullscreenEnabled]&&r.disable(),r}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},a}(Zn)).prototype.controlText_="Fullscreen",ne.registerComponent("FullscreenToggle",yt),ne.registerComponent("VolumeLevel",function(t){function a(){return t.apply(this,arguments)||this}return oe(a,t),a.prototype.createEl=function(){var i=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return i.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),i},a}(ne)),ne.registerComponent("VolumeLevelTooltip",function(t){function a(e,n){return(n=t.call(this,e,n)||this).update=G(Mt(De(n),n.update),30),n}oe(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},i.update=function(e,n,r,s){if(!r){var o=dt(this.el_),u=dt(this.player_.el());if(!u||!o)return;n=e.left-u.left+(r=e.width*n),u=e.width-r+(u.right-e.right),n<(e=o.width/2)?e+=e-n:u<e&&(e=u),e<0?e=0:e>o.width&&(e=o.width),this.el_.style.right="-"+e+"px"}this.write(s+"%")},i.write=function(e){wi(this.el_,e)},i.updateVolume=function(e,n,r,s,o){var u=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){u.update(e,n,r,s.toFixed(0)),o&&o()})},a}(ne)),(nt=function(t){function a(e,n){return(n=t.call(this,e,n)||this).update=G(Mt(De(n),n.update),30),n}oe(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(e,n,r){var s=this,o=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,r,o,function(){r?s.el_.style.bottom=e.height*n+"px":s.el_.style.left=e.width*n+"px"})},a}(ne)).prototype.options_={children:["volumeLevelTooltip"]},ne.registerComponent("MouseVolumeLevelDisplay",nt),(Ot=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.on("slideractive",function(s){return r.updateLastVolume_(s)}),r.on(e,"volumechange",function(s){return r.updateARIAAttributes(s)}),e.ready(function(){return r.updateARIAAttributes()}),r}oe(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(e){Ce(e)&&t.prototype.handleMouseDown.call(this,e)},i.handleMouseMove=function(e){var n,r,s,o=this.getChild("mouseVolumeLevelDisplay");o&&(n=dt(s=this.el()),r=this.vertical(),s=on(s,e),s=wa(s=r?s.y:s.x,0,1),o.update(n,s,r)),Ce(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(e){var n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")},i.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},i.updateLastVolume_=function(){var e=this,n=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(n)})},a}(ln)).prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},jt||mt||Ot.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Ot.prototype.playerEvent="volumechange",ne.registerComponent("VolumeBar",Ot),(_n=function(t){function a(e,n){var r,s,o;return(n=void 0===n?{}:n).vertical=n.vertical||!1,typeof n.volumeBar<"u"&&!ie(n.volumeBar)||(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),r=t.call(this,e,n)||this,s=De(r),(o=e).tech_&&!o.tech_.featuresVolumeControl&&s.addClass("vjs-hidden"),s.on(o,"loadstart",function(){o.tech_.featuresVolumeControl?s.removeClass("vjs-hidden"):s.addClass("vjs-hidden")}),r.throttledHandleMouseMove=G(Mt(De(r),r.handleMouseMove),30),r.handleMouseUpHandler_=function(u){return r.handleMouseUp(u)},r.on("mousedown",function(u){return r.handleMouseDown(u)}),r.on("touchstart",function(u){return r.handleMouseDown(u)}),r.on("mousemove",function(u){return r.handleMouseMove(u)}),r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")}),r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")}),r}oe(a,t);var i=a.prototype;return i.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},i.handleMouseDown=function(e){var n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(e){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)},i.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},a}(ne)).prototype.options_={children:["volumeBar"]},ne.registerComponent("VolumeControl",_n),(qt=function(t){function a(e,n){var r,s,o=t.call(this,e,n)||this;return r=De(o),(s=e).tech_&&!s.tech_.featuresMuteControl&&r.addClass("vjs-hidden"),r.on(s,"loadstart",function(){s.tech_.featuresMuteControl?r.removeClass("vjs-hidden"):r.addClass("vjs-hidden")}),o.on(e,["loadstart","volumechange"],function(u){return o.update(u)}),o}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(e){var n=this.player_.volume(),r=this.player_.lastVolume_();0===n?(this.player_.volume(r<.1?.1:r),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},i.update=function(e){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var e=this.player_.volume(),n=3;jt&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?n=0:e<.33?n=1:e<.67&&(n=2);for(var r=0;r<4;r++)x(this.el_,"vjs-vol-"+r);f(this.el_,"vjs-vol-"+n)},i.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},a}(Zn)).prototype.controlText_="Mute",ne.registerComponent("MuteToggle",qt),(un=function(t){function a(e,n){var r;return n.inline=!(typeof(n=void 0===n?{}:n).inline<"u")||n.inline,typeof n.volumeControl<"u"&&!ie(n.volumeControl)||(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(r=t.call(this,e,n)||this).handleKeyPressHandler_=function(s){return r.handleKeyPress(s)},r.on(e,["loadstart"],function(s){return r.volumePanelState_(s)}),r.on(r.muteToggle,"keyup",function(s){return r.handleKeyPress(s)}),r.on(r.volumeControl,"keyup",function(s){return r.handleVolumeControlKeyUp(s)}),r.on("keydown",function(s){return r.handleKeyPress(s)}),r.on("mouseover",function(s){return r.handleMouseOver(s)}),r.on("mouseout",function(s){return r.handleMouseOut(s)}),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}oe(a,t);var i=a.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(e){Pe.isEventKey(e,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(e){this.addClass("vjs-hover"),It(document,"keyup",this.handleKeyPressHandler_)},i.handleMouseOut=function(e){this.removeClass("vjs-hover"),En(document,"keyup",this.handleKeyPressHandler_)},i.handleKeyPress=function(e){Pe.isEventKey(e,"Esc")&&this.handleMouseOut()},a}(ne)).prototype.options_={children:["muteToggle","volumeControl"]},ne.registerComponent("VolumePanel",un);var hs=function(t){function a(e,n){var r=t.call(this,e,n)||this;return n&&(r.menuButton_=n.menuButton),r.focusedChild_=-1,r.on("keydown",function(s){return r.handleKeyDown(s)}),r.boundHandleBlur_=function(s){return r.handleBlur(s)},r.boundHandleTapClick_=function(s){return r.handleTapClick(s)},r}oe(a,t);var i=a.prototype;return i.addEventListenerForItem=function(e){e instanceof ne&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(e){e instanceof ne&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},i.addItem=function(e){(e=this.addChild(e))&&this.addEventListenerForItem(e)},i.createEl=function(){var e=this.options_.contentElType||"ul";return this.contentEl_=qe(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),(e=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"})).appendChild(this.contentEl_),It(e,"click",function(n){n.preventDefault(),n.stopImmediatePropagation()}),e},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},i.handleBlur=function(e){var n=e.relatedTarget||document.activeElement;this.children().some(function(r){return r.el()===n})||(e=this.menuButton_)&&e.buttonPressed_&&n!==e.el().firstChild&&e.unpressButton()},i.handleTapClick=function(e){var n;this.menuButton_&&(this.menuButton_.unpressButton(),n=this.children(),!Array.isArray(n)||(n=n.filter(function(r){return r.el()===e.target})[0])&&"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus())},i.handleKeyDown=function(e){Pe.isEventKey(e,"Left")||Pe.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(Pe.isEventKey(e,"Right")||Pe.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},i.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},i.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},i.focus=function(e){void 0===e&&(e=0);var n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),0<n.length&&(e<0?e=0:e>=n.length&&(e=n.length-1),n[this.focusedChild_=e].el_.focus())},a}(ne);ne.registerComponent("Menu",hs),Pn=function(t){function a(e,n){var r;return(r=t.call(this,e,n=void 0===n?{}:n)||this).menuButton_=new Zn(e,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true"),n=Zn.prototype.buildCSSClass(),r.menuButton_.el_.className=r.buildCSSClass()+" "+n,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,n=function(s){return r.handleClick(s)},r.handleMenuKeyUp_=function(s){return r.handleMenuKeyUp(s)},r.on(r.menuButton_,"tap",n),r.on(r.menuButton_,"click",n),r.on(r.menuButton_,"keydown",function(s){return r.handleKeyDown(s)}),r.on(r.menuButton_,"mouseenter",function(){r.addClass("vjs-hover"),r.menu.show(),It(document,"keyup",r.handleMenuKeyUp_)}),r.on("mouseleave",function(s){return r.handleMouseLeave(s)}),r.on("keydown",function(s){return r.handleSubmenuKeyDown(s)}),r}oe(a,t);var i=a.prototype;return i.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},i.createMenu=function(){var e,n=new hs(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title&&(e=qe("li",{className:"vjs-menu-title",textContent:nn(this.options_.title),tabIndex:-1}),e=new ne(this.player_,{el:e}),n.addItem(e)),this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)n.addItem(this.items[r]);return n},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var e="vjs-menu-button";return"vjs-menu-button "+(e+=!0===this.options_.inline?"-inline":"-popup")+" "+Zn.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var e="vjs-menu-button";return"vjs-menu-button "+(e+=!0===this.options_.inline?"-inline":"-popup")+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(e,n){return void 0===n&&(n=this.menuButton_.el()),this.menuButton_.controlText(e,n)},i.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},i.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(e){this.removeClass("vjs-hover"),En(document,"keyup",this.handleMenuKeyUp_)},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(e){Pe.isEventKey(e,"Esc")||Pe.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),Pe.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(Pe.isEventKey(e,"Up")||Pe.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(e){(Pe.isEventKey(e,"Esc")||Pe.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},i.handleSubmenuKeyDown=function(e){(Pe.isEventKey(e,"Esc")||Pe.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Pe.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),jt&&xr()||this.menu.focus())},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},a}(ne),ne.registerComponent("MenuButton",Pn),Fn=function(t){function a(i,r){var n=r.tracks;if((r=t.call(this,i,r)||this).items.length<=1&&r.hide(),!n)return De(r);var s=Mt(De(r),r.update);return n.addEventListener("removetrack",s),n.addEventListener("addtrack",s),n.addEventListener("labelchange",s),r.player_.on("ready",s),r.player_.on("dispose",function(){n.removeEventListener("removetrack",s),n.removeEventListener("addtrack",s),n.removeEventListener("labelchange",s)}),r}return oe(a,t),a}(Pn),ne.registerComponent("TrackButton",Fn);var Yr=["Tab","Esc","Up","Down","Right","Left"];rn=function(t){function a(e,n){return(e=t.call(this,e,n)||this).selectable=n.selectable,e.isSelected_=n.selected||!1,e.multiSelectable=n.multiSelectable,e.selected(e.isSelected_),e.el_.setAttribute("role",e.selectable?e.multiSelectable?"menuitemcheckbox":"menuitemradio":"menuitem"),e}oe(a,t);var i=a.prototype;return i.createEl=function(e,n,r){return this.nonIconControl=!0,(r=t.prototype.createEl.call(this,"li",Nt({className:"vjs-menu-item",tabIndex:-1},n),r)).replaceChild(qe("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),r.querySelector(".vjs-icon-placeholder")),r},i.handleKeyDown=function(e){Yr.some(function(n){return Pe.isEventKey(e,n)})||t.prototype.handleKeyDown.call(this,e)},i.handleClick=function(e){this.selected(!0)},i.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},a}(On),ne.registerComponent("MenuItem",rn);var Qr=function(t){function a(e,n){var r,g,s=n.track,o=e.textTracks();function u(){for(var w=arguments.length,k=new Array(w),I=0;I<w;I++)k[I]=arguments[I];r.handleTracksChange.apply(De(r),k)}function m(){for(var w=arguments.length,k=new Array(w),I=0;I<w;I++)k[I]=arguments[I];r.handleSelectedLanguageChange.apply(De(r),k)}return n.label=s.label||s.language||"Unknown",n.selected="showing"===s.mode,(r=t.call(this,e,n)||this).track=s,r.kinds=(n.kinds||[n.kind||r.track.kind]).filter(Boolean),e.on(["loadstart","texttrackchange"],u),o.addEventListener("change",u),o.addEventListener("selectedlanguagechange",m),r.on("dispose",function(){e.off(["loadstart","texttrackchange"],u),o.removeEventListener("change",u),o.removeEventListener("selectedlanguagechange",m)}),void 0===o.onchange&&r.on(["tap","click"],function(){if("object"!=typeof window.Event)try{g=new window.Event("change")}catch{}g||(g=document.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(g)}),r.handleTracksChange(),r}oe(a,t);var i=a.prototype;return i.handleClick=function(e){var n=this.track,r=this.player_.textTracks();if(t.prototype.handleClick.call(this,e),r)for(var s=0;s<r.length;s++){var o=r[s];-1!==this.kinds.indexOf(o.kind)&&(o===n?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},i.handleTracksChange=function(e){var n="showing"===this.track.mode;n!==this.isSelected_&&this.selected(n)},i.handleSelectedLanguageChange=function(e){var n;"showing"===this.track.mode&&((n=this.player_.cache_.selectedLanguage)&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}))},i.dispose=function(){this.track=null,t.prototype.dispose.call(this)},a}(rn);ne.registerComponent("TextTrackMenuItem",Qr);var uo=function(t){function a(e,n){return n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.track.label=n.label?n.label:n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,e,n)||this}oe(a,t);var i=a.prototype;return i.handleTracksChange=function(e){for(var n=this.player().textTracks(),r=!0,s=0,o=n.length;s<o;s++){var u=n[s];if(-1<this.options_.kinds.indexOf(u.kind)&&"showing"===u.mode){r=!1;break}}r!==this.isSelected_&&this.selected(r)},i.handleSelectedLanguageChange=function(e){for(var n=this.player().textTracks(),r=!0,s=0,o=n.length;s<o;s++){var u=n[s];if(-1<["captions","descriptions","subtitles"].indexOf(u.kind)&&"showing"===u.mode){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})},a}(Qr);ne.registerComponent("OffTextTrackMenuItem",uo),yt=function(t){function a(i,e){return(e=void 0===e?{}:e).tracks=i.textTracks(),t.call(this,i,e)||this}return oe(a,t),a.prototype.createItems=function(i,e){var n;void 0===e&&(e=Qr),this.label_&&(n=this.label_+" off"),(i=void 0===i?[]:i).push(new uo(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var s=0;s<r.length;s++){var o,u=r[s];-1<this.kinds_.indexOf(u.kind)&&((o=new e(this.player_,{track:u,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1})).addClass("vjs-"+u.kind+"-menu-item"),i.push(o))}return i},a}(Fn),ne.registerComponent("TextTrackButton",yt);var lo=function(t){function a(i,e){var n=e.track,r=e.cue,s=i.currentTime();return e.selectable=!0,e.multiSelectable=!1,e.label=r.text,e.selected=r.startTime<=s&&s<r.endTime,(e=t.call(this,i,e)||this).track=n,e.cue=r,e}return oe(a,t),a.prototype.handleClick=function(i){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},a}(rn);ne.registerComponent("ChaptersTrackMenuItem",lo),(nt=function(t){function a(e,n,r){var s=t.call(this,e,n,r)||this;return s.selectCurrentItem_=function(){s.items.forEach(function(o){o.selected(s.track_.activeCues[0]===o.cue)})},s}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},i.update=function(e){e&&e.track&&"chapters"!==e.track.kind||((e=this.findChaptersTrack())!==this.track_?(this.setTrack(e),t.prototype.update.call(this)):(!this.items||e&&e.cues&&e.cues.length!==this.items.length)&&t.prototype.update.call(this))},i.setTrack=function(e){var n;this.track_!==e&&(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_&&((n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null),this.track_=e,this.track_&&(this.track_.mode="hidden",(e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&e.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)))},i.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],n=e.length-1;0<=n;n--){var r=e[n];if(r.kind===this.kind_)return r}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(nn(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var e=[];if(!this.track_)return e;var n=this.track_.cues;if(!n)return e;for(var r=0,s=n.length;r<s;r++){var o=new lo(this.player_,{track:this.track_,cue:o=n[r]});e.push(o)}return e},a}(yt)).prototype.kind_="chapters",nt.prototype.controlText_="Chapters",ne.registerComponent("ChaptersButton",nt),(ln=function(t){function a(e,n,s){s=t.call(this,e,n,s)||this;var o=e.textTracks(),u=Mt(De(s),s.handleTracksChange);return o.addEventListener("change",u),s.on("dispose",function(){o.removeEventListener("change",u)}),s}oe(a,t);var i=a.prototype;return i.handleTracksChange=function(e){for(var n=this.player().textTracks(),r=!1,s=0,o=n.length;s<o;s++){var u=n[s];if(u.kind!==this.kind_&&"showing"===u.mode){r=!0;break}}r?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},a}(yt)).prototype.kind_="descriptions",ln.prototype.controlText_="Descriptions",ne.registerComponent("DescriptionsButton",ln),(Ot=function(t){function a(e,n,r){return t.call(this,e,n,r)||this}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},a}(yt)).prototype.kind_="subtitles",Ot.prototype.controlText_="Subtitles",ne.registerComponent("SubtitlesButton",Ot);var Sa=function(t){function a(i,e){return e.track={player:i,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1,e.name="CaptionSettingsMenuItem",(i=t.call(this,i,e)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+e.kind+" settings dialog"),i}return oe(a,t),a.prototype.handleClick=function(i){this.player().getChild("textTrackSettings").open()},a}(Qr);ne.registerComponent("CaptionSettingsMenuItem",Sa),(_n=function(t){function a(e,n,r){return t.call(this,e,n,r)||this}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Sa(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},a}(yt)).prototype.kind_="captions",_n.prototype.controlText_="Captions",ne.registerComponent("CaptionsButton",_n);var co=function(t){function a(){return t.apply(this,arguments)||this}return oe(a,t),a.prototype.createEl=function(i,e,n){return n=(e=t.prototype.createEl.call(this,i,e,n)).querySelector(".vjs-menu-item-text"),"captions"===this.options_.track.kind&&(n.appendChild(qe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),n.appendChild(qe("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),e},a}(Qr);ne.registerComponent("SubsCapsMenuItem",co),(qt=function(t){function a(e,n){return(n=t.call(this,e,n=void 0===n?{}:n)||this).label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)&&(n.label_="captions"),n.menuButton_.controlText(nn(n.label_)),n}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Sa(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e,co)},a}(yt)).prototype.kinds_=["captions","subtitles"],qt.prototype.controlText_="Subtitles",ne.registerComponent("SubsCapsButton",qt);var ps=function(t){function a(e,n){var r,s=n.track,o=e.audioTracks();function u(){for(var m=arguments.length,g=new Array(m),w=0;w<m;w++)g[w]=arguments[w];r.handleTracksChange.apply(De(r),g)}return n.label=s.label||s.language||"Unknown",n.selected=s.enabled,(r=t.call(this,e,n)||this).track=s,r.addClass("vjs-"+s.kind+"-menu-item"),o.addEventListener("change",u),r.on("dispose",function(){o.removeEventListener("change",u)}),r}oe(a,t);var i=a.prototype;return i.createEl=function(e,n,r){return r=(n=t.prototype.createEl.call(this,e,n,r)).querySelector(".vjs-menu-item-text"),"main-desc"===this.options_.track.kind&&(r.appendChild(qe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(qe("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),n},i.handleClick=function(e){if(t.prototype.handleClick.call(this,e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var n=this.player_.audioTracks(),r=0;r<n.length;r++){var s=n[r];s!==this.track&&(s.enabled=s===this.track)}},i.handleTracksChange=function(e){this.selected(this.track.enabled)},a}(rn);ne.registerComponent("AudioTrackMenuItem",ps),(un=function(t){function a(e,n){return(n=void 0===n?{}:n).tracks=e.audioTracks(),t.call(this,e,n)||this}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var n=this.player_.audioTracks(),r=0;r<n.length;r++)e.push(new ps(this.player_,{track:n[r],selectable:!0,multiSelectable:!1}));return e},a}(Fn)).prototype.controlText_="Audio Track",ne.registerComponent("AudioTrackButton",un);var fs=function(t){function a(e,n){var r,s=n.rate,o=parseFloat(s,10);return n.label=s,n.selected=o===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,(r=t.call(this,e,n)||this).label=s,r.rate=o,r.on(e,"ratechange",function(u){return r.update(u)}),r}oe(a,t);var i=a.prototype;return i.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(e){this.selected(this.player().playbackRate()===this.rate)},a}(rn);fs.prototype.contentElType="button",ne.registerComponent("PlaybackRateMenuItem",fs),(On=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.menuButton_.el_.setAttribute("aria-describedby",r.labelElId_),r.updateVisibility(),r.updateLabel(),r.on(e,"loadstart",function(s){return r.updateVisibility(s)}),r.on(e,"ratechange",function(s){return r.updateLabel(s)}),r.on(e,"playbackrateschange",function(s){return r.handlePlaybackRateschange(s)}),r}oe(a,t);var i=a.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=qe("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e},i.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){for(var e=this.playbackRates(),n=[],r=e.length-1;0<=r;r--)n.push(new fs(this.player(),{rate:e[r]+"x"}));return n},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(e){var r=this.player().playbackRate(),n=this.playbackRates();r=(n.indexOf(r)+1)%n.length,this.player().playbackRate(n[r])},i.handlePlaybackRateschange=function(e){this.update()},i.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},i.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},a}(Pn)).prototype.controlText_="Playback Rate",ne.registerComponent("PlaybackRateMenuButton",On),nt=function(t){function a(){return t.apply(this,arguments)||this}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(e,n,r){return void 0===e&&(e="div"),void 0===r&&(r={}),(n=void 0===n?{}:n).className||(n.className=this.buildCSSClass()),t.prototype.createEl.call(this,e,n,r)},a}(ne),ne.registerComponent("Spacer",nt),ne.registerComponent("CustomControlSpacer",function(t){function a(){return t.apply(this,arguments)||this}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xa0"})},a}(nt)),ln=function(t){function a(){return t.apply(this,arguments)||this}return oe(a,t),a.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},a}(ne),ln.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in document&&ln.prototype.options_.children.splice(ln.prototype.options_.children.length-1,0,"pictureInPictureToggle"),ne.registerComponent("ControlBar",ln),(Ot=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.on(e,"error",function(s){return r.open(s)}),r}oe(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var e=this.player().error();return e?this.localize(e.message):""},a}(or)).prototype.options_=Dt({},or.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),ne.registerComponent("ErrorDisplay",Ot);var ln,L="vjs-text-track-settings",Ui={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[_n=["#000","Black"],Pn=["#FFF","White"],rn=["#F00","Red"],Fn=["#0F0","Green"],yt=["#00F","Blue"],On=["#FF0","Yellow"],un=["#F0F","Magenta"],qt=["#0FF","Cyan"]]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[nt=["1","Opaque"],ln=["0.5","Semi-Transparent"],Ot=["0","Transparent"]]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Pn,_n,rn,Fn,yt,On,un,qt]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[nt,ln]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Ot,ln,nt]}};function ms(t,a){if((t=a?a(t):t)&&"none"!==t)return t}Ui.windowColor.options=Ui.backgroundColor.options,ne.registerComponent("TextTrackSettings",function(t){function a(e,n){var r;return n.temporary=!1,(r=t.call(this,e,n)||this).updateDisplay=r.updateDisplay.bind(De(r)),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=qe("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.close()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),Yn(Ui,function(s){r.on(r.$(s.selector),"change",r.updateDisplay)}),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}oe(a,t);var i=a.prototype;return i.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},i.createElSelect_=function(o,n,r){var s=this;void 0===n&&(n=""),void 0===r&&(r="label");var u=(o=Ui[o]).id.replace("%s",this.id_),m=[n,u].join(" ").trim();return["<"+r+' id="'+u+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(o.label),"</"+r+">",'<select aria-labelledby="'+m+'">'].concat(o.options.map(function(g){var w=u+"-"+g[1].replace(/\W+/g,"");return['<option id="'+w+'" value="'+g[0]+'" ','aria-labelledby="'+m+" "+w+'">',s.localize(g[1]),"</option>"].join("")})).concat("</select>").join("")},i.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return qe("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return qe("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var e=this.localize("restore all settings to the default values");return qe("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var e,n,r,s=this;return n=function(o,w,m){var g;return void 0!==(w=ms((g=s.$(w.selector)).options[g.options.selectedIndex].value,w=w.parser))&&(o[m]=w),o},void 0===(r={})&&(r=0),ji(e=Ui).reduce(function(o,u){return n(o,e[u],u)},r)},i.setValues=function(e){var n=this;Yn(Ui,function(r,s){!function(o,u,m){if(u)for(var g=0;g<o.options.length;g++)if(ms(o.options[g].value,m)===u){o.selectedIndex=g;break}}(n.$(r.selector),e[s],r.parser)})},i.setDefaults=function(){var e=this;Yn(Ui,function(n){var r=n.hasOwnProperty("default")?n.default:0;e.$(n.selector).selectedIndex=r})},i.restoreSettings=function(){var e;try{e=JSON.parse(window.localStorage.getItem(L))}catch(n){Re.warn(n)}e&&this.setValues(e)},i.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?window.localStorage.setItem(L,JSON.stringify(e)):window.localStorage.removeItem(L)}catch(n){Re.warn(n)}}},i.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=(n=this.player_.controlBar)&&n.subsCapsButton,n=n&&n.captionsButton;e?e.focus():n&&n.focus()},a}(or)),ne.registerComponent("ResizeManager",function(t){function a(e,n){var r,s=n.ResizeObserver||window.ResizeObserver,o=Ut({createEl:!(s=null!==n.ResizeObserver&&s),reportTouchActivity:!1},n);return(r=t.call(this,e,o)||this).ResizeObserver=n.ResizeObserver||window.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function et(t,a,i,e){var n;function r(){var s=this,o=arguments,u=function(){u=n=null,i||t.apply(s,o)};!n&&i&&t.apply(s,o),e.clearTimeout(n),n=e.setTimeout(u,a)}return void 0===e&&(e=window),r.cancel=function(){e.clearTimeout(n),n=null},r}(function(){r.resizeHandler()},100,!1,De(r)),s?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(e.el())):(r.loadListener_=function(){var u,m;r.el_&&r.el_.contentWindow&&(u=r.debouncedHandler_,m=r.unloadListener_=function(){En(this,"resize",u),En(this,"unload",m),m=null},It(r.el_.contentWindow,"unload",m),It(r.el_.contentWindow,"resize",u))},r.one("load",r.loadListener_)),r}oe(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},i.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},a}(ne));var ho={trackingThreshold:20,liveTolerance:15};function $r(t){if((e=t.el()).hasAttribute("src"))return t.triggerSourceset(e.src),1;var a=t.$$("source"),i=[],e="";if(a.length){for(var n=0;n<a.length;n++){var r=a[n].src;r&&-1===i.indexOf(r)&&i.push(r)}return!!i.length&&(1===i.length&&(e=i[0]),t.triggerSourceset(e),!0)}}function po(t,a){for(var i={},e=0;e<t.length&&!((i=Object.getOwnPropertyDescriptor(t[e],a))&&i.set&&i.get);e++);return i.enumerable=!0,i.configurable=!0,i}function l(t){var a,i,e,n=t.el();n.resetSourceWatch_||(a={},i=po([t.el(),window.HTMLMediaElement.prototype,window.Element.prototype,_],"innerHTML"),e=function(r){return function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];var m=r.apply(n,o);return $r(t),m}},["append","appendChild","insertAdjacentHTML"].forEach(function(r){n[r]&&(a[r]=n[r],n[r]=e(a[r]))}),Object.defineProperty(n,"innerHTML",Ut(i,{set:e(i.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(a).forEach(function(r){n[r]=a[r]}),Object.defineProperty(n,"innerHTML",i)},t.one("sourceset",n.resetSourceWatch_))}function c(t,a,i,e){function n(s){return Object.defineProperty(t,a,{value:s,enumerable:!0,writable:!0})}var r={configurable:!0,enumerable:!0,get:function(){var s=i();return n(s),s}};return(e=void 0===e||e)&&(r.set=n),Object.defineProperty(t,a,r)}ne.registerComponent("LiveTracker",function(t){function a(e,r){r=Ut(ho,r,{createEl:!1});var s=t.call(this,e,r)||this;return s.handleVisibilityChange_=function(o){return s.handleVisibilityChange(o)},s.trackLiveHandler_=function(){return s.trackLive_()},s.handlePlay_=function(o){return s.handlePlay(o)},s.handleFirstTimeupdate_=function(o){return s.handleFirstTimeupdate(o)},s.handleSeeked_=function(o){return s.handleSeeked(o)},s.seekToLiveEdge_=function(o){return s.seekToLiveEdge(o)},s.reset_(),s.on(s.player_,"durationchange",function(o){return s.handleDurationchange(o)}),s.on(s.player_,"canplay",function(){return s.toggleTracking()}),$n&&"hidden"in document&&"visibilityState"in document&&s.on(document,"visibilitychange",s.handleVisibilityChange_),s}oe(a,t);var i=a.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(document.hidden?this.stopTracking():this.startTracking())},i.trackLive_=function(){var e,n=this.player_.seekable();n&&n.length&&(e=Number(window.performance.now().toFixed(4)),n=-1===this.lastTime_?0:(e-this.lastTime_)/1e3,this.lastTime_=e,this.pastSeekEnd_=this.pastSeekEnd()+n,e=this.liveCurrentTime(),n=this.player_.currentTime(),n=this.player_.paused()||this.seekedBehindLive_||Math.abs(e-n)>this.options_.liveTolerance,(n=!(!this.timeupdateSeen_||e===1/0)&&n)!==this.behindLiveEdge_&&(this.behindLiveEdge_=n,this.trigger("liveedgechange")))},i.handleDurationchange=function(){this.toggleTracking()},i.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},i.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},i.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},i.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&2<e,this.nextSeekedFromUser_=!1,this.trackLive_()},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},i.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},i.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},i.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},i.seekableEnd=function(){for(var e=this.player_.seekable(),n=[],r=e?e.length:0;r--;)n.push(e.end(r));return n.length?n.sort()[n.length-1]:1/0},i.seekableStart=function(){for(var e=this.player_.seekable(),n=[],r=e?e.length:0;r--;)n.push(e.start(r));return n.length?n.sort()[0]:0},i.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return"number"==typeof this.trackingInterval_},i.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},i.dispose=function(){this.off(document,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},a}(ne));var p,_=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var a=document.createElement(this.nodeName.toLowerCase());a.innerHTML=t;for(var i=document.createDocumentFragment();a.childNodes.length;)i.appendChild(a.childNodes[0]);return this.innerText="",window.Element.prototype.appendChild.call(this,i),this.innerHTML}}),E=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?js(window.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return window.Element.prototype.setAttribute.call(this,"src",t),t}}),C=function(t){function a(e,s){var r=t.call(this,e,s)||this,o=(s=e.source,!1);if(r.featuresVideoFrameCallback=r.featuresVideoFrameCallback&&"VIDEO"===r.el_.tagName,s&&(r.el_.currentSrc!==s.src||e.tag&&3===e.tag.initNetworkState_)?r.setSource(s):r.handleLateInit_(r.el_),e.enableSourceset&&r.setupSourcesetHandling_(),r.isScrubbing_=!1,r.el_.hasChildNodes()){for(var u=r.el_.childNodes,m=u.length,g=[];m--;){var w=u[m];"track"===w.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(w),r.remoteTextTracks().addTrack(w.track),r.textTracks().addTrack(w.track),o||r.el_.hasAttribute("crossorigin")||!ur(w.src)||(o=!0)):g.push(w))}for(var k=0;k<g.length;k++)r.el_.removeChild(g[k])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&o&&Re.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),r.restoreMetadataTracksInIOSNativePlayer_(),(Pi||In||kn)&&!0===e.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}oe(a,t);var i=a.prototype;return i.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),a.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},i.setupSourcesetHandling_=function(){!function d(t){var a,i,e,n;t.featuresSourceset&&((a=t.el()).resetSourceset_||(i=po([t.el(),window.HTMLMediaElement.prototype,E],"src"),e=a.setAttribute,n=a.load,Object.defineProperty(a,"src",Ut(i,{set:function(r){return r=i.set.call(a,r),t.triggerSourceset(a.src),r}})),a.setAttribute=function(r,s){return s=e.call(a,r,s),/src/i.test(r)&&t.triggerSourceset(a.src),s},a.load=function(){var r=n.call(a);return $r(t)||(t.triggerSourceset(""),l(t)),r},a.currentSrc?t.triggerSourceset(a.currentSrc):$r(t)||l(t),a.resetSourceset_=function(){a.resetSourceset_=null,a.load=n,a.setAttribute=e,Object.defineProperty(a,"src",i),a.resetSourceWatch_&&a.resetSourceWatch_()}))}(this)},i.restoreMetadataTracksInIOSNativePlayer_=function(){function e(){n=[];for(var o=0;o<r.length;o++){var u=r[o];"metadata"===u.kind&&n.push({track:u,storedMode:u.mode})}}var n,r=this.textTracks();function s(){for(var o=0;o<n.length;o++){var u=n[o];"disabled"===u.track.mode&&u.track.mode!==u.storedMode&&(u.track.mode=u.storedMode)}r.removeEventListener("change",s)}e(),r.addEventListener("change",e),this.on("dispose",function(){return r.removeEventListener("change",e)}),this.on("webkitbeginfullscreen",function(){r.removeEventListener("change",e),r.removeEventListener("change",s),r.addEventListener("change",s)}),this.on("webkitendfullscreen",function(){r.removeEventListener("change",e),r.addEventListener("change",e),r.removeEventListener("change",s)})},i.overrideNative_=function(e,n){var r,s=this;n===this["featuresNative"+e+"Tracks"]&&(this[(r=e.toLowerCase())+"TracksListeners_"]&&Object.keys(this[r+"TracksListeners_"]).forEach(function(o){s.el()[r+"Tracks"].removeEventListener(o,s[r+"TracksListeners_"][o])}),this["featuresNative"+e+"Tracks"]=!n,this[r+"TracksListeners_"]=null,this.proxyNativeTracksForType_(r))},i.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},i.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},i.proxyNativeTracksForType_=function(e){var n,r,s=this,o=Bn[e],u=this.el()[o.getterName],m=this[o.getterName]();this["featuresNative"+o.capitalName+"Tracks"]&&u&&u.addEventListener&&(r=function(){for(var g=[],w=0;w<m.length;w++){for(var k=!1,I=0;I<u.length;I++)if(u[I]===m[w]){k=!0;break}k||g.push(m[w])}for(;g.length;)m.removeTrack(g.shift())},this[o.getterName+"Listeners_"]=n={change:function(g){var w={type:"change",target:m,currentTarget:m,srcElement:m};m.trigger(w),"text"===e&&s[Mr.remoteText.getterName]().trigger(w)},addtrack:function(g){m.addTrack(g.track)},removetrack:function(g){m.removeTrack(g.track)}},Object.keys(n).forEach(function(g){var w=n[g];u.addEventListener(g,w),s.on("dispose",function(k){return u.removeEventListener(g,w)})}),this.on("loadstart",r),this.on("dispose",function(g){return s.off("loadstart",r)}))},i.proxyNativeTracks_=function(){var e=this;Bn.names.forEach(function(n){e.proxyNativeTracksForType_(n)})},i.createEl=function(){var e,n=this.options_.tag;n&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(n?(e=n.cloneNode(!0),n.parentNode&&n.parentNode.insertBefore(e,n),a.disposeMediaElement(n),n=e):(n=document.createElement("video"),e=Ut({},this.options_.tag&&te(this.options_.tag)),Pi&&!0===this.options_.nativeControlsForTouch||delete e.controls,J(n,Nt(e,{id:this.options_.techId,class:"vjs-tech"}))),n.playerId=this.options_.playerId),typeof this.options_.preload<"u"&&R(n,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(n.disablePictureInPicture=this.options_.disablePictureInPicture);for(var r=["loop","muted","playsinline","autoplay"],s=0;s<r.length;s++){var o=r[s],u=this.options_[o];typeof u<"u"&&(u?R(n,o,o):de(n,o),n[o]=u)}return n},i.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var n=!1,r=function(){n=!0};this.on("loadstart",r);var s=function(){n||this.trigger("loadstart")};return this.on("loadedmetadata",s),void this.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",s),n||this.trigger("loadstart")})}var o=["loadstart"];o.push("loadedmetadata"),2<=e.readyState&&o.push("loadeddata"),3<=e.readyState&&o.push("canplay"),4<=e.readyState&&o.push("canplaythrough"),this.ready(function(){o.forEach(function(u){this.trigger(u)},this)})}},i.setScrubbing=function(e){this.isScrubbing_=e},i.scrubbing=function(){return this.isScrubbing_},i.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&bi?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){Re(n,"Video is not ready. (Video.js)")}},i.duration=function(){var e=this;return this.el_.duration===1/0&&mt&&ri&&0===this.el_.currentTime?(this.on("timeupdate",function n(){0<e.el_.currentTime&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",n))}),NaN):this.el_.duration||NaN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscreen_=function(){var e,n,r=this;"webkitDisplayingFullscreen"in this.el_&&(e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},this.on("webkitbeginfullscreen",n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))}),this.on("dispose",function(){r.off("webkitbeginfullscreen",n),r.off("webkitendfullscreen",e)}))},i.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=window.navigator&&window.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},i.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)oi(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},i.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.requestVideoFrameCallback=function(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):t.prototype.requestVideoFrameCallback.call(this,e)},i.cancelVideoFrameCallback=function(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):t.prototype.cancelVideoFrameCallback.call(this,e)},i.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},i.reset=function(){a.resetMediaElement(this.el_)},i.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.setControls=function(e){this.el_.controls=!!e},i.addTextTrack=function(e,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,r):t.prototype.addTextTrack.call(this,e,n,r)},i.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var n=document.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n},i.addRemoteTextTrack=function(e,n){return n=t.prototype.addRemoteTextTrack.call(this,e,n),this.featuresNativeTextTracks&&this.el().appendChild(n),n},i.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)e!==n[r]&&e!==n[r].track||this.el().removeChild(n[r])},i.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),window.performance&&"function"==typeof window.performance.now?e.creationTime=window.performance.now():window.performance&&window.performance.timing&&"number"==typeof window.performance.timing.navigationStart&&(e.creationTime=window.Date.now()-window.performance.timing.navigationStart),e},a}(Tt);c(C,"TEST_VID",function(){if(fi()){var t=document.createElement("video"),a=document.createElement("track");return a.kind="captions",a.srclang="en",a.label="English",t.appendChild(a),t}}),C.isSupported=function(){try{C.TEST_VID.volume=.5}catch{return!1}return!(!C.TEST_VID||!C.TEST_VID.canPlayType)},C.canPlayType=function(t){return C.TEST_VID.canPlayType(t)},C.canPlaySource=function(t,a){return C.canPlayType(t.type)},C.canControlVolume=function(){try{var t=C.TEST_VID.volume;C.TEST_VID.volume=t/2+.1;var a=t!==C.TEST_VID.volume;return a&&jt?(window.setTimeout(function(){C&&C.prototype&&(C.prototype.featuresVolumeControl=t!==C.TEST_VID.volume)}),!1):a}catch{return!1}},C.canMuteVolume=function(){try{var t=C.TEST_VID.muted;return C.TEST_VID.muted=!t,C.TEST_VID.muted?R(C.TEST_VID,"muted","muted"):de(C.TEST_VID,"muted"),t!==C.TEST_VID.muted}catch{return!1}},C.canControlPlaybackRate=function(){if(mt&&ri&&qr<58)return!1;try{var t=C.TEST_VID.playbackRate;return C.TEST_VID.playbackRate=t/2+.1,t!==C.TEST_VID.playbackRate}catch{return!1}},C.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(document.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(document.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(document.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(document.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0},C.supportsNativeTextTracks=function(){return bi||jt&&ri},C.supportsNativeVideoTracks=function(){return!(!C.TEST_VID||!C.TEST_VID.videoTracks)},C.supportsNativeAudioTracks=function(){return!(!C.TEST_VID||!C.TEST_VID.audioTracks)},C.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var i=t[1];c(C.prototype,t[0],function(){return C[i]()},!0)}),C.prototype.featuresVolumeControl=C.canControlVolume(),C.prototype.movingMediaElementInDOM=!jt,C.prototype.featuresFullscreenResize=!0,C.prototype.featuresProgressEvents=!0,C.prototype.featuresTimeupdateEvents=!0,C.prototype.featuresVideoFrameCallback=!(!C.TEST_VID||!C.TEST_VID.requestVideoFrameCallback),C.patchCanPlayType=function(){4<=Sn&&!Qn&&!ri&&(p=C.TEST_VID&&C.TEST_VID.constructor.prototype.canPlayType,C.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(t)?"maybe":p.call(this,t)})},C.unpatchCanPlayType=function(){var t=C.TEST_VID.constructor.prototype.canPlayType;return p&&(C.TEST_VID.constructor.prototype.canPlayType=p),t},C.patchCanPlayType(),C.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch{}}()}},C.resetMediaElement=function(t){if(t){for(var a=t.querySelectorAll("source"),i=a.length;i--;)t.removeChild(a[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch{}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){C.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){C.prototype["set"+nn(t)]=function(a){(this.el_[t]=a)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){C.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){C.prototype["set"+nn(t)]=function(a){this.el_[t]=a}}),["pause","load","play"].forEach(function(t){C.prototype[t]=function(){return this.el_[t]()}}),Tt.withSourceHandlers(C),C.nativeSourceHandler={},C.nativeSourceHandler.canPlayType=function(t){try{return C.TEST_VID.canPlayType(t)}catch{return""}},C.nativeSourceHandler.canHandleSource=function(t,a){return t.type?C.nativeSourceHandler.canPlayType(t.type):t.src?(t=Ar(t.src),C.nativeSourceHandler.canPlayType("video/"+t)):""},C.nativeSourceHandler.handleSource=function(t,a,i){a.setSrc(t.src)},C.nativeSourceHandler.dispose=function(){},C.registerSourceHandler(C.nativeSourceHandler),Tt.registerTech("Html5",C);var D=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],z={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},j=["tiny","xsmall","small","medium","large","xlarge","huge"],X={};j.forEach(function(t){var a="x"===t.charAt(0)?"x-"+t.substring(1):t;X[t]="vjs-layout-"+a});var ee={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Z=function(t){function a(e,n,r){var s,o;if(e.id=e.id||n.id||"vjs_video_"+Ue++,(n=Nt(a.getTagSettings(e),n)).initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof e.closest){var u=e.closest("[lang]");u&&u.getAttribute&&(n.language=u.getAttribute("lang"))}else for(var m=e;m&&1===m.nodeType;){if(te(m).hasOwnProperty("lang")){n.language=m.getAttribute("lang");break}m=m.parentNode}if((s=t.call(this,null,n,r)||this).boundDocumentFullscreenChange_=function(g){return s.documentFullscreenChange_(g)},s.boundFullWindowOnEscKey_=function(g){return s.fullWindowOnEscKey(g)},s.boundUpdateStyleEl_=function(g){return s.updateStyleEl_(g)},s.boundApplyInitTime_=function(g){return s.applyInitTime_(g)},s.boundUpdateCurrentBreakpoint_=function(g){return s.updateCurrentBreakpoint_(g)},s.boundHandleTechClick_=function(g){return s.handleTechClick_(g)},s.boundHandleTechDoubleClick_=function(g){return s.handleTechDoubleClick_(g)},s.boundHandleTechTouchStart_=function(g){return s.handleTechTouchStart_(g)},s.boundHandleTechTouchMove_=function(g){return s.handleTechTouchMove_(g)},s.boundHandleTechTouchEnd_=function(g){return s.handleTechTouchEnd_(g)},s.boundHandleTechTap_=function(g){return s.handleTechTap_(g)},s.isFullscreen_=!1,s.log=Kt(s.id_),s.fsApi_=$t,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,s.audioOnlyMode_=!1,s.audioPosterMode_=!1,s.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");return s.tag=e,s.tagAttributes=e&&te(e),s.language(s.options_.language),n.languages?(o={},Object.getOwnPropertyNames(n.languages).forEach(function(g){o[g.toLowerCase()]=n.languages[g]}),s.languages_=o):s.languages_=a.prototype.options_.languages,s.resetCache_(),s.poster_=n.poster||"",s.controls_=!!n.controls,e.controls=!1,e.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],e.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(function(g){if("function"!=typeof s[g])throw new Error('plugin "'+g+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),Ni(De(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(It(document,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_),r=Ut(s.options_),n.plugins&&Object.keys(n.plugins).forEach(function(g){s[g](n.plugins[g])}),n.debug&&s.debug(!0),s.options_.playerOptions=r,s.middleware_=[],s.playbackRates(n.playbackRates),s.initChildren(),s.isAudio("audio"===e.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),Pi&&s.addClass("vjs-touch-enabled"),jt||s.addClass("vjs-workinghover"),a.players[s.id_]=De(s),e="7.21.6".split(".")[0],s.addClass("vjs-v"+e),s.userActive(!0),s.reportUserActivity(),s.one("play",function(g){return s.listenForUserActivity_(g)}),s.on("stageclick",function(g){return s.handleStageClick_(g)}),s.on("keydown",function(g){return s.handleKeyDown(g)}),s.on("languagechange",function(g){return s.handleLanguagechange(g)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.on("ready",function(){s.audioPosterMode(s.options_.audioPosterMode),s.audioOnlyMode(s.options_.audioOnlyMode)}),s}oe(a,t);var i=a.prototype;return i.dispose=function(){var e=this;this.trigger("dispose"),this.off("dispose"),En(document,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),En(document,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),a.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Wr[this.id()]=null,Un.names.forEach(function(n){(n=e[(n=Un[n]).getterName]())&&n.off&&n.off()}),t.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},i.createEl=function(){var e,n=this.tag,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),s="video-js"===this.tag.tagName.toLowerCase();r?e=this.el_=n.parentNode:s||(e=this.el_=t.prototype.createEl.call(this,"div"));var o,u,m=te(n);if(s){for(e=this.el_=n,n=this.tag=document.createElement("video");e.children.length;)n.appendChild(e.firstChild);ct(e,"video-js")||f(e,"video-js"),e.appendChild(n),r=this.playerElIngest_=e,Object.keys(e).forEach(function(I){try{n[I]=e[I]}catch{}})}n.setAttribute("tabindex","-1"),m.tabindex="-1",($n||ri&&Wi)&&(n.setAttribute("role","application"),m.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in m&&delete m.width,"height"in m&&delete m.height,Object.getOwnPropertyNames(m).forEach(function(I){s&&"class"===I||e.setAttribute(I,m[I]),s&&n.setAttribute(I,m[I])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",(n.player=e.player=this).addClass("vjs-paused"),!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&(this.styleEl_=Be("vjs-styles-dimensions"),o=xt(".vjs-styles-defaults"),(u=xt("head")).insertBefore(this.styleEl_,o?o.nextSibling:u.firstChild)),this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var g=n.getElementsByTagName("a"),w=0;w<g.length;w++){var k=g.item(w);f(k,"vjs-hidden"),k.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(e,n),Gi(n,e),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=e},i.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):Re.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},i.width=function(e){return this.dimension("width",e)},i.height=function(e){return this.dimension("height",e)},i.dimension=function(e,n){var r=e+"_";if(void 0===n)return this[r]||0;if(""===n||"auto"===n)return this[r]=void 0,void this.updateStyleEl_();var s=parseFloat(n);isNaN(s)?Re.error('Improper value "'+n+'" supplied for for '+e):(this[r]=s,this.updateStyleEl_())},i.fluid=function(e){var n,r=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,si(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),n=function(){r.on(["playerreset","resize"],r.boundUpdateStyleEl_)},si(e=this)?n():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},i.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},i.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},i.updateStyleEl_=function(){var e,n,r,s;!0!==window.VIDEOJS_NO_DYNAMIC_STYLE?(s=(r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"))[1]/r[0],e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/s:this.videoWidth()||300,n=void 0!==this.height_?this.height_:e*s,r=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(r),Le(this.styleEl_,"\n      ."+r+" {\n        width: "+e+"px;\n        height: "+n+"px;\n      }\n\n      ."+r+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+100*s+"%;\n      }\n    ")):(n="number"==typeof this.width_?this.width_:this.options_.width,r="number"==typeof this.height_?this.height_:this.options_.height,(s=this.tech_&&this.tech_.el())&&(0<=n&&(s.width=n),0<=r&&(s.height=r)))},i.loadTech_=function(e,n){var r=this;this.tech_&&this.unloadTech_();var s=nn(e),o=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==s&&this.tag&&(Tt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=s,this.isReady_=!1;var u=this.autoplay(),m={source:n,autoplay:u=!("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&u,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+o+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};if(Un.names.forEach(function(g){m[(g=Un[g]).getterName]=r[g.privateName]}),Nt(m,this.options_[s]),Nt(m,this.options_[o]),Nt(m,this.options_[e.toLowerCase()]),this.tag&&(m.tag=this.tag),n&&n.src===this.cache_.src&&0<this.cache_.currentTime&&(m.startTime=this.cache_.currentTime),!(e=Tt.getTech(e)))throw new Error("No Tech named '"+s+"' exists! '"+s+"' should be registered using videojs.registerTech()'");this.tech_=new e(m),this.tech_.ready(Mt(this,this.handleTechReady_),!0),function(t,a){t.forEach(function(i){var e=a.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(n){return e.addCue(n)})}),a.textTracks()}(this.textTracksJson_||[],this.tech_),D.forEach(function(g){r.on(r.tech_,g,function(w){return r["handleTech"+nn(g)+"_"](w)})}),Object.keys(z).forEach(function(g){r.on(r.tech_,g,function(w){0===r.tech_.playbackRate()&&r.tech_.seeking()?r.queuedCallbacks_.push({callback:r["handleTech"+z[g]+"_"].bind(r),event:w}):r["handleTech"+z[g]+"_"](w)})}),this.on(this.tech_,"loadstart",function(g){return r.handleTechLoadStart_(g)}),this.on(this.tech_,"sourceset",function(g){return r.handleTechSourceset_(g)}),this.on(this.tech_,"waiting",function(g){return r.handleTechWaiting_(g)}),this.on(this.tech_,"ended",function(g){return r.handleTechEnded_(g)}),this.on(this.tech_,"seeking",function(g){return r.handleTechSeeking_(g)}),this.on(this.tech_,"play",function(g){return r.handleTechPlay_(g)}),this.on(this.tech_,"firstplay",function(g){return r.handleTechFirstPlay_(g)}),this.on(this.tech_,"pause",function(g){return r.handleTechPause_(g)}),this.on(this.tech_,"durationchange",function(g){return r.handleTechDurationChange_(g)}),this.on(this.tech_,"fullscreenchange",function(g,w){return r.handleTechFullscreenChange_(g,w)}),this.on(this.tech_,"fullscreenerror",function(g,w){return r.handleTechFullscreenError_(g,w)}),this.on(this.tech_,"enterpictureinpicture",function(g){return r.handleTechEnterPictureInPicture_(g)}),this.on(this.tech_,"leavepictureinpicture",function(g){return r.handleTechLeavePictureInPicture_(g)}),this.on(this.tech_,"error",function(g){return r.handleTechError_(g)}),this.on(this.tech_,"posterchange",function(g){return r.handleTechPosterChange_(g)}),this.on(this.tech_,"textdata",function(g){return r.handleTechTextData_(g)}),this.on(this.tech_,"ratechange",function(g){return r.handleTechRateChange_(g)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===s&&this.tag||Gi(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTech_=function(){var e=this;Un.names.forEach(function(n){e[(n=Un[n]).privateName]=e[n.getterName]()}),this.textTracksJson_=function(t){var a=t.$$("track"),i=Array.prototype.map.call(a,function(e){return e.track});return Array.prototype.map.call(a,function(e){var n=oa(e.track);return e.src&&(n.src=e.src),n}).concat(Array.prototype.filter.call(t.textTracks(),function(e){return-1===i.indexOf(e)}).map(oa))}(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},i.tech=function(e){return void 0===e&&Re.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},i.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},i.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},i.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},i.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},i.manualAutoplay_=function(e){var n=this;if(this.tech_&&"string"==typeof e){var r,s=function(){var o=n.muted();function u(){n.muted(o)}n.muted(!0),n.playTerminatedQueue_.push(u);var m=n.play();if(Mn(m))return m.catch(function(g){throw u(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(g||""))})};if("any"!==e||this.muted()?r="muted"!==e||this.muted()?this.play():s():Mn(r=this.play())&&(r=r.catch(s)),Mn(r))return r.then(function(){n.trigger({type:"autoplay-success",autoplay:e})}).catch(function(){n.trigger({type:"autoplay-failure",autoplay:e})})}},i.updateSourceCaches_=function(e){var n=e=void 0===e?"":e,r="";"string"!=typeof n&&(n=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!r&&(r=function(w,k){if(!k)return"";if(w.cache_.source.src===k&&w.cache_.source.type)return w.cache_.source.type;var I=w.cache_.sources.filter(function(M){return M.src===k});if(I.length)return I[0].type;for(var S=w.$$("source"),P=0;P<S.length;P++){var U=S[P];if(U.type&&U.src&&U.src===k)return U.type}return ba(k)}(this,n)),this.cache_.source=Ut({},e,{src:n,type:r}),r=this.cache_.sources.filter(function(k){return k.src&&k.src===n});for(var s=[],o=this.$$("source"),u=[],m=0;m<o.length;m++){var g=te(o[m]);s.push(g),g.src&&g.src===n&&u.push(g.src)}u.length&&!r.length?this.cache_.sources=s:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n},i.handleTechSourceset_=function(e){var n,r,s,o=this;this.changingSrc_||(n=function(u){return o.updateSourceCaches_(u)},r=this.currentSource().src,s=e.src,r&&!/^blob:/.test(r)&&/^blob:/.test(s)&&(this.lastSource_&&(this.lastSource_.tech===s||this.lastSource_.player===r)||(n=function(){})),n(s),e.src||this.tech_.any(["sourceset","loadstart"],function(u){"sourceset"!==u.type&&(u=o.techGet("currentSrc"),o.lastSource_.tech=u,o.updateSourceCaches_(u))})),this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},i.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},i.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},i.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var n=this.currentTime();this.on("timeupdate",function r(){n!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",r))})},i.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},i.handleTechFirstPlay_=function(){this.options_.starttime&&(Re.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},i.handleTechClick_=function(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?oi(this.play()):this.pause()))},i.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(n){return n.contains(e.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},i.handleTechTap_=function(){this.userActive(!this.userActive())},i.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},i.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},i.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},i.handleStageClick_=function(){this.reportUserActivity()},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i.documentFullscreenChange_=function(e){var n=e.target.player;n&&n!==this||(e=this.el(),!(n=document[this.fsApi_.fullscreenElement]===e)&&e.matches?n=e.matches(":"+this.fsApi_.fullscreen):!n&&e.msMatchesSelector&&(n=e.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(n))},i.handleTechFullscreenChange_=function(e,n){var r=this;n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){r.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))},i.handleTechFullscreenError_=function(e,n){this.trigger("fullscreenerror",n)},i.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},i.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},i.handleTechError_=function(){var e=this.tech_.error();this.error(e)},i.handleTechTextData_=function(){this.trigger("textdata",1<arguments.length?arguments[1]:null)},i.getCache=function(){return this.cache_},i.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},i.techCall_=function(e,n){this.ready(function(){if(e in ao)return o=n,(s=this.tech_)[s=e](this.middleware_.reduce($i(s),o));if(e in ls)return us(this.middleware_,this.tech_,e,n);var s,o;try{this.tech_&&this.tech_[e](n)}catch(u){throw Re(u),u}},!0)},i.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in ro)return r=this.tech_,this.middleware_.reduceRight($i(s=e),r[s]());if(e in ls)return us(this.middleware_,this.tech_,e);var r,s;try{return this.tech_[e]()}catch(o){throw void 0===this.tech_[e]?(Re("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",o),o):"TypeError"===o.name?(Re("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",o),this.tech_.isReady_=!1,o):(Re(o),o)}}},i.play=function(){var e=this,n=this.options_.Promise||window.Promise;return n?new n(function(r){e.play_(r)}):this.play_()},i.play_=function(s){var n=this;this.playCallbacks_.push(s=void 0===s?oi:s);var r=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(s=Boolean(bi||jt),this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r)return this.waitToPlay_=function(o){n.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!r&&s&&this.load());r=this.techGet_("play"),s&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),null===r?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)},i.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})},i.runPlayCallbacks_=function(e){var n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(r){r(e)})},i.pause=function(){this.techCall_("pause")},i.paused=function(){return!1!==this.techGet_("paused")},i.played=function(){return this.techGet_("played")||Yi(0,0)},i.scrubbing=function(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},i.currentTime=function(e){return typeof e<"u"?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},i.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},i.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=(e=parseFloat(e))<0?1/0:e)!==this.cache_.duration&&((this.cache_.duration=e)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},i.remainingTime=function(){return this.duration()-this.currentTime()},i.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},i.buffered=function(){var e;return(e=this.techGet_("buffered"))&&e.length?e:Yi(0,0)},i.bufferedPercent=function(){return Ja(this.buffered(),this.duration())},i.bufferedEnd=function(){var n=this.buffered(),e=this.duration();return e<(n=n.end(n.length-1))?e:n},i.volume=function(e){var n;return void 0!==e?(n=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=n,this.techCall_("setVolume",n),void(0<n&&this.lastVolume_(n))):(n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n)},i.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},i.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},i.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},i.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},i.isFullscreen=function(e){if(void 0===e)return this.isFullscreen_;var n=this.isFullscreen_;this.isFullscreen_=Boolean(e),this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_()},i.requestFullscreen=function(e){var n=this.options_.Promise||window.Promise;if(n){var r=this;return new n(function(s,o){function u(){r.off("fullscreenerror",g),r.off("fullscreenchange",m)}function m(){u(),s()}function g(k,I){u(),o(I)}r.one("fullscreenchange",m),r.one("fullscreenerror",g);var w=r.requestFullscreenHelper_(e);w&&(w.then(u,u),w.then(s,o))})}return this.requestFullscreenHelper_()},i.requestFullscreenHelper_=function(e){var n=this;if(this.fsApi_.prefixed||(r=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(r=e)),this.fsApi_.requestFullscreen){var r=this.el_[this.fsApi_.requestFullscreen](r);return r&&r.then(function(){return n.isFullscreen(!0)},function(){return n.isFullscreen(!1)}),r}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},i.exitFullscreen=function(){var e=this.options_.Promise||window.Promise;if(e){var n=this;return new e(function(r,s){function o(){n.off("fullscreenerror",m),n.off("fullscreenchange",u)}function u(){o(),r()}function m(w,k){o(),s(k)}n.one("fullscreenchange",u),n.one("fullscreenerror",m);var g=n.exitFullscreenHelper_();g&&(g.then(o,o),g.then(r,s))})}return this.exitFullscreenHelper_()},i.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var n=document[this.fsApi_.exitFullscreen]();return n&&oi(n.then(function(){return e.isFullscreen(!1)})),n}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},i.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,It(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow="hidden",f(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(e){Pe.isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},i.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,En(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow=this.docOrigOverflow,x(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},i.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},i.requestPictureInPicture=function(){if("pictureInPictureEnabled"in document&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},i.exitPictureInPicture=function(){if("pictureInPictureEnabled"in document)return document.exitPictureInPicture()},i.handleKeyDown=function(e){var r,s,n=this.options_.userActions;n&&n.hotkeys&&(s=(r=this.el_.ownerDocument.activeElement).tagName.toLowerCase(),r.isContentEditable||("input"===s?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(r.type):-1!==["textarea"].indexOf(s))||("function"==typeof n.hotkeys?n.hotkeys.call(this,e):this.handleHotkeys(e)))},i.handleHotkeys=function(e){var n=(s=this.options_.userActions?this.options_.userActions.hotkeys:{}).fullscreenKey,r=void 0===(r=s.muteKey)?function(o){return Pe.isEventKey(o,"m")}:r,s=void 0===(s=s.playPauseKey)?function(o){return Pe.isEventKey(o,"k")||Pe.isEventKey(o,"Space")}:s;(void 0===n?function(o){return Pe.isEventKey(o,"f")}:n).call(this,e)?(e.preventDefault(),e.stopPropagation(),n=ne.getComponent("FullscreenToggle"),!1!==document[this.fsApi_.fullscreenEnabled]&&n.prototype.handleClick.call(this,e)):r.call(this,e)?(e.preventDefault(),e.stopPropagation(),ne.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),ne.getComponent("PlayToggle").prototype.handleClick.call(this,e))},i.canPlayType=function(e){for(var n,r=0,s=this.options_.techOrder;r<s.length;r++){var o=s[r],u=Tt.getTech(o);if(u=u||ne.getComponent(o)){if(u.isSupported()&&(n=u.canPlayType(e)))return n}else Re.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},i.selectSource=function(e){function n(m,g,w){var k;return m.some(function(I){return g.some(function(S){if(k=w(I,S))return!0})}),k}var r,s=this,o=this.options_.techOrder.map(function(m){return[m,Tt.getTech(m)]}).filter(function(w){var g=w[0];return(w=w[1])?w.isSupported():(Re.error('The "'+g+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),u=function(m,g){var w=m[0];if(m[1].canPlaySource(g,s.options_[w.toLowerCase()]))return{source:g,tech:w}};return(u=this.options_.sourceOrder?n(e,o,(r=u,function(m,g){return r(g,m)})):n(o,e,u))||!1},i.handleSrc_=function(e,n){var r=this;if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var s,o,u=so(e);u.length?(this.changingSrc_=!0,n||(this.cache_.sources=u),this.updateSourceCaches_(u[0]),function io(t,a,i){t.setTimeout(function(){return function e(n,w,s,o,u,m){void 0===n&&(n={}),void 0===w&&(w=[]),void 0===u&&(u=[]),void 0===m&&(m=!1);var g=w,k=(w=g[0],g.slice(1));if("string"==typeof w)e(n,Qi[w],s,o,u,m);else if(w){var I=function Gr(t,a){var i=Wr[t.id()],e=null;if(null==i)return e=a(t),Wr[t.id()]=[[a,e]],e;for(var n=0;n<i.length;n++){var r=(s=i[n])[0],s=s[1];r===a&&(e=s)}return null===e&&(e=a(t),i.push([a,e])),e}(o,w);if(!I.setSource)return u.push(I),e(n,k,s,o,u,m);I.setSource(Nt({},n),function(S,P){return S?e(n,k,s,o,u,m):(u.push(I),void e(P,n.type===P.type?k:Qi[P.type],s,o,u,m))})}else k.length?e(n,k,s,o,u,m):m?s(n,u):e(n,Qi["*"],s,o,u,!0)}(a,Qi[a.type],i,t)},1)}(this,u[0],function(m,g){var w;return r.middleware_=g,n||(r.cache_.sources=u),r.updateSourceCaches_(m),r.src_(m)?1<u.length?r.handleSrc_(u.slice(1)):(r.changingSrc_=!1,r.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),void r.triggerReady()):(w=r.tech_,void g.forEach(function(k){return k.setTech&&k.setTech(w)}))}),this.options_.retryOnError&&1<u.length&&(o=function(){r.off("error",s)},this.one("error",s=function(){r.error(null),r.handleSrc_(u.slice(1),!0)}),this.one("playing",o),this.resetRetryOnError_=function(){r.off("error",s),r.off("playing",o)})):this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0)},i.src=function(e){return this.handleSrc_(e,!1)},i.src_=function(e){var r,s=this,o=this.selectSource([e]);return!o||(r=this.techName_,nn(o.tech)!==nn(r)?(this.changingSrc_=!0,this.loadTech_(o.tech,o.source),this.tech_.ready(function(){s.changingSrc_=!1})):this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1)},i.load=function(){this.techCall_("load")},i.reset=function(){var e=this,n=this.options_.Promise||window.Promise;this.paused()||!n?this.doReset_():oi(this.play().then(function(){return e.doReset_()}))},i.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),si(this)&&this.trigger("playerreset")},i.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},i.resetProgressBar_=function(){this.currentTime(0);var e=(n=this.controlBar||{}).durationDisplay,n=n.remainingTimeDisplay;e&&e.updateContent(),n&&n.updateContent()},i.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},i.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},i.currentSources=function(){var e=this.currentSource(),n=[];return 0!==Object.keys(e).length&&n.push(e),this.cache_.sources||n},i.currentSource=function(){return this.cache_.source||{}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},i.currentType=function(){return this.currentSource()&&this.currentSource().type||""},i.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},i.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var n;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),n=!1):this.options_.autoplay=!!e,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)},i.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},i.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},i.poster=function(e){if(void 0===e)return this.poster_;(e=e||"")!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},i.handleTechPosterChange_=function(){var e;this.poster_&&!this.options_.techCanOverridePoster||!this.tech_||!this.tech_.poster||(e=this.tech_.poster()||"")!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))},i.controls=function(e){if(void 0===e)return!!this.controls_;this.controls_!==(e=!!e)&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},i.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;this.usingNativeControls_!==(e=!!e)&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},i.error=function(e){var n=this;if(void 0===e)return this.error_||null;if(Se("beforeerror").forEach(function(s){vn(s=s(n,e))&&!Array.isArray(s)||"string"==typeof s||"number"==typeof s||null===s?e=s:n.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&e&&4===e.code){var r=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),void this.one("loadstart",function(){this.off(["click","touchstart"],r)})}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Ft(e),this.addClass("vjs-error"),Re.error("(CODE:"+this.error_.code+" "+Ft.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Se("error").forEach(function(s){return s(n,n.error_)})},i.reportUserActivity=function(e){this.userActivity_=!0},i.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},i.listenForUserActivity_=function(){var e,n,r,o,s=Mt(this,this.reportUserActivity),u=function(m){s(),this.clearInterval(e)};this.on("mousedown",function(){s(),this.clearInterval(e),e=this.setInterval(s,250)}),this.on("mousemove",function(m){m.screenX===n&&m.screenY===r||(n=m.screenX,r=m.screenY,s())}),this.on("mouseup",u),this.on("mouseleave",u),!(u=this.getChild("controlBar"))||jt||mt||(u.on("mouseenter",function(m){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),u.on("mouseleave",function(m){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",s),this.on("keyup",s),this.setInterval(function(){var m;this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o),(m=this.options_.inactivityTimeout)<=0||(o=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},m)))},250)},i.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},i.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},i.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},i.enableAudioOnlyUI_=function(){var e=this;this.addClass("vjs-audio-only-mode");var n=this.children(),r=this.getChild("ControlBar"),s=r&&r.currentHeight();n.forEach(function(o){o!==r&&o.el_&&!o.hasClass("vjs-hidden")&&(o.hide(),e.audioOnlyCache_.hiddenChildren.push(o))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(s),this.trigger("audioonlymodechange")},i.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(e){return e.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},i.audioOnlyMode=function(e){var n=this;if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=e;var r=this.options_.Promise||window.Promise;if(r){if(e){var s=[];return this.isInPictureInPicture()&&s.push(this.exitPictureInPicture()),this.isFullscreen()&&s.push(this.exitFullscreen()),this.audioPosterMode()&&s.push(this.audioPosterMode(!1)),r.all(s).then(function(){return n.enableAudioOnlyUI_()})}return r.resolve().then(function(){return n.disableAudioOnlyUI_()})}e?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},i.enablePosterModeUI_=function(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},i.disablePosterModeUI_=function(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},i.audioPosterMode=function(e){var n=this;if("boolean"!=typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=e;var r=this.options_.Promise||window.Promise;return r?e?(this.audioOnlyMode()?this.audioOnlyMode(!1):r.resolve()).then(function(){n.enablePosterModeUI_()}):r.resolve().then(function(){n.disablePosterModeUI_()}):e?(this.audioOnlyMode()&&this.audioOnlyMode(!1),void this.enablePosterModeUI_()):void this.disablePosterModeUI_()},i.addTextTrack=function(e,n,r){if(this.tech_)return this.tech_.addTextTrack(e,n,r)},i.addRemoteTextTrack=function(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)},i.removeRemoteTextTrack=function(e){var n=(n=(e=void 0===e?{}:e).track)||e;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},i.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},i.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),si(this)&&this.trigger("languagechange"))},i.languages=function(){return Ut(a.prototype.options_.languages,this.languages_)},i.toJSON=function(){var e=Ut(this.options_),n=e.tracks;e.tracks=[];for(var r=0;r<n.length;r++){var s=n[r];(s=Ut(s)).player=void 0,e.tracks[r]=s}return e},i.createModal=function(e,n){var r=this;(n=n||{}).content=e||"";var s=new or(this,n);return this.addChild(s),s.on("dispose",function(){r.removeChild(s)}),s.open(),s},i.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),n=this.currentWidth(),r=0;r<j.length;r++){var s=j[r];if(n<=this.breakpoints_[s]){if(e===s)return;e&&this.removeClass(X[e]),this.addClass(X[s]),this.breakpoint_=s;break}}},i.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},i.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=Nt({},ee,e),this.updateCurrentBreakpoint_()),Nt(this.breakpoints_)},i.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?((this.responsive_=e)?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},i.currentBreakpoint=function(){return this.breakpoint_},i.currentBreakpointClass=function(){return X[this.breakpoint_]||""},i.loadMedia=function(e,n){var r,s,o,u=this;e&&"object"==typeof e&&(this.reset(),this.cache_.media=Ut(e),r=(o=this.cache_.media).artwork,s=o.poster,e=o.src,o=o.textTracks,!r&&s&&(this.cache_.media.artwork=[{src:s,type:ba(s)}]),e&&this.src(e),s&&this.poster(s),Array.isArray(o)&&o.forEach(function(m){return u.addRemoteTextTrack(m,!1)}),this.ready(n))},i.getMedia=function(){if(this.cache_.media)return Ut(this.cache_.media);var e=this.poster(),n={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(r){return{kind:r.kind,label:r.label,language:r.language,src:r.src}})};return e&&(n.poster=e,n.artwork=[{src:n.poster,type:ba(n.poster)}]),n},a.getTagSettings=function(e){var n,r={sources:[],tracks:[]},s=te(e),o=s["data-setup"];if(ct(e,"vjs-fill")&&(s.fill=!0),ct(e,"vjs-fluid")&&(s.fluid=!0),null!==o&&(o=(n=function(t,a){var i,e=null;try{i=JSON.parse(t,void 0)}catch(n){e=n}return[e,i]}(o||"{}"))[0],n=n[1],o&&Re.error(o),Nt(s,n)),Nt(r,s),e.hasChildNodes())for(var u=e.childNodes,m=0,g=u.length;m<g;m++){var w=u[m],k=w.nodeName.toLowerCase();"source"===k?r.sources.push(te(w)):"track"===k&&r.tracks.push(te(w))}return r},i.flexNotSupported_=function(){var e=document.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},i.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},i.playbackRates=function(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every(function(n){return"number"==typeof n})&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},a}(ne);Un.names.forEach(function(t){var a=Un[t];Z.prototype[a.getterName]=function(){return this.tech_?this.tech_[a.getterName]():(this[a.privateName]=this[a.privateName]||new a.ListClass,this[a.privateName])}}),Z.prototype.crossorigin=Z.prototype.crossOrigin,Z.players={},nt=window.navigator,Z.prototype.options_={techOrder:Tt.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:nt&&(nt.languages&&nt.languages[0]||nt.userLanguage||nt.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Z.prototype[t]=function(){return this.techGet_(t)}}),D.forEach(function(t){Z.prototype["handleTech"+nn(t)+"_"]=function(){return this.trigger(t)}}),ne.registerComponent("Player",Z);var ue=Zt(function(t){function a(i,e){return t.exports=a=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},a(i,e)}t.exports=a});function fe(t){return pt.hasOwnProperty(t)}function ge(t){return fe(t)?pt[t]:void 0}function be(t,a,i){t.trigger(i=(i?"before":"")+"pluginsetup",a),t.trigger(i+":"+a.name,a)}function Ve(t,a){return a.prototype.name=t,function(){be(this,{name:t,plugin:a,instance:null},!0);for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];var r=Ge(a,[this].concat(e));return this[t]=function(){return r},be(this,r.getEventHash()),r}}var We=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}},Ge=Zt(function(t){function a(i,e,n){return t.exports=a=We()?Reflect.construct:function(r,s,o){var u=[null];return u.push.apply(u,s),u=new(Function.bind.apply(r,u)),o&&ue(u,o.prototype),u},a.apply(null,arguments)}t.exports=a}),ut="plugin",Ye="activePlugins_",pt={},it=function(t,a){t[Ye]=t[Ye]||{},t[Ye][a]=!0},Xe=function(){function t(i){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=i,this.log||(this.log=this.player.log.createLogger(this.name)),Ni(this),delete this.trigger,Ri(this,this.constructor.defaultState),it(i,this.name),this.dispose=this.dispose.bind(this),i.on("dispose",this.dispose)}var a=t.prototype;return a.version=function(){return this.constructor.VERSION},a.getEventHash=function(i){return(i=void 0===i?{}:i).name=this.name,i.plugin=this.constructor,i.instance=this,i},a.trigger=function(i,e){return rr(this.eventBusEl_,i,this.getEventHash(e=void 0===e?{}:e))},a.handleStateChanged=function(i){},a.dispose=function(){var i=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[Ye][i]=!1,this.player=this.state=null,e[i]=Ve(i,pt[i])},t.isBasic=function(i){return"function"==typeof(i="string"==typeof i?ge(i):i)&&!t.prototype.isPrototypeOf(i.prototype)},t.registerPlugin=function(i,e){if("string"!=typeof i)throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(fe(i))Re.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(Z.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if("function"!=typeof e)throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof e+".");return pt[i]=e,i!==ut&&(Z.prototype[i]=t.isBasic(e)?function tt(t,a){function i(){be(this,{name:t,plugin:a,instance:null},!0);var e=a.apply(this,arguments);return it(this,t),be(this,{name:t,plugin:a,instance:e}),e}return Object.keys(a).forEach(function(e){i[e]=a[e]}),i}(i,e):Ve(i,e)),e},t.deregisterPlugin=function(i){if(i===ut)throw new Error("Cannot de-register base plugin.");fe(i)&&(delete pt[i],delete Z.prototype[i])},t.getPlugins=function(i){var e;return(i=void 0===i?Object.keys(pt):i).forEach(function(n){var r=ge(n);r&&((e=e||{})[n]=r)}),e},t.getPluginVersion=function(i){return(i=ge(i))&&i.VERSION||""},t}();Xe.getPlugin=ge,Xe.BASE_PLUGIN_NAME=ut,Xe.registerPlugin(ut,Xe),Z.prototype.usingPlugin=function(t){return!!this[Ye]&&!0===this[Ye][t]},Z.prototype.hasPlugin=function(t){return!!fe(t)};var St=!1,cn=function(t){return 0===t.indexOf("#")?t.slice(1):t};function H(t,a,i){if(n=H.getPlayer(t))return a&&Re.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var e="string"==typeof t?xt("#"+cn(t)):t;if(!Oi(e))throw new TypeError("The element or ID supplied is not valid. (videojs)");e.ownerDocument.defaultView&&e.ownerDocument.body.contains(e)||Re.warn("The element supplied is not included in the DOM"),!0===(a=a||{}).restoreEl&&(a.restoreEl=(e.parentNode&&e.parentNode.hasAttribute("data-vjs-player")?e.parentNode:e).cloneNode(!0)),Se("beforesetup").forEach(function(r){vn(r=r(e,Ut(a)))&&!Array.isArray(r)?a=Ut(a,r):Re.error("please return an object in beforesetup hooks")});var n=new(ne.getComponent("Player"))(e,a,i);return Se("setup").forEach(function(r){return r(n)}),n}H.hooks_=ze,H.hooks=Se,H.hook=function(t,a){Se(t,a)},H.hookOnce=function(t,a){Se(t,[].concat(a).map(function(i){return function e(){return $e(t,e),i.apply(void 0,arguments)}}))},H.removeHook=$e,!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&fi()&&((an=xt(".vjs-styles-defaults"))||(an=Be("vjs-styles-defaults"),(Ii=xt("head"))&&Ii.insertBefore(an,Ii.firstChild),Le(an,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    "))),nr(1,H),H.VERSION="7.21.6",H.options=Z.prototype.options_,H.getPlayers=function(){return Z.players},H.getPlayer=function(t){var a=Z.players;if("string"==typeof t){var i=cn(t),e=a[i];if(e)return e;i=xt("#"+i)}else i=t;if(Oi(i)&&(t=i.player,i=i.playerId,t||a[i]))return t||a[i]},H.getAllPlayers=function(){return Object.keys(Z.players).map(function(t){return Z.players[t]}).filter(Boolean)},H.players=Z.players,H.getComponent=ne.getComponent,H.registerComponent=function(t,a){Tt.isTech(a)&&Re.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ne.registerComponent.call(ne,t,a)},H.getTech=Tt.getTech,H.registerTech=Tt.registerTech,H.use=function(t,a){Qi[t]=Qi[t]||[],Qi[t].push(a)},Object.defineProperty(H,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(H.middleware,"TERMINATOR",{value:Dr,writeable:!1,enumerable:!0}),H.browser=Tn,H.TOUCH_ENABLED=Pi,H.extend=function(t,a){void 0===a&&(a={}),St||(Re.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),St=!0);var i,e=function(){t.apply(this,arguments)},n={};for(i in"object"==typeof a?(a.constructor!==Object.prototype.constructor&&(e=a.constructor),n=a):"function"==typeof a&&(e=a),function(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),a&&ue(t,a)}(e,t),t&&(e.super_=t),n)n.hasOwnProperty(i)&&(e.prototype[i]=n[i]);return e},H.mergeOptions=Ut,H.bind=Mt,H.registerPlugin=Xe.registerPlugin,H.deregisterPlugin=Xe.deregisterPlugin,H.plugin=function(t,a){return Re.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Xe.registerPlugin(t,a)},H.getPlugins=Xe.getPlugins,H.getPlugin=Xe.getPlugin,H.getPluginVersion=Xe.getPluginVersion,H.addLanguage=function(t,a){var i;return t=(""+t).toLowerCase(),(H.options.languages=Ut(H.options.languages,((i={})[t]=a,i)))[t]},H.log=Re,H.createLogger=Kt,H.createTimeRange=H.createTimeRanges=Yi,H.formatTime=dr,H.setFormatTime=function(t){Ta=t},H.resetFormatTime=function(){Ta=ds},H.parseUrl=ns,H.isCrossOrigin=ur,H.EventTarget=_t,H.on=It,H.one=ar,H.off=En,H.trigger=rr,H.xhr=ca,H.TextTrack=Ir,H.AudioTrack=gr,H.VideoTrack=Ai,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){H[t]=function(){return Re.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),Bt[t].apply(null,arguments)}}),H.computedStyle=Ie,H.dom=Bt,H.url=Mi,H.defineLazyProperty=c,H.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var Ln=Zt(function(t,a){var i,e,n,r,s;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,e=/^([^\/?#]*)([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,t.exports=s={buildAbsoluteURL:function(k,u,m){if(m=m||{},k=k.trim(),!(u=u.trim())){if(!m.alwaysNormalize)return k;var g=s.parseURL(k);if(!g)throw new Error("Error trying to parse base URL.");return g.path=s.normalizePath(g.path),s.buildURLFromParts(g)}if(!(g=s.parseURL(u)))throw new Error("Error trying to parse relative URL.");if(g.scheme)return m.alwaysNormalize?(g.path=s.normalizePath(g.path),s.buildURLFromParts(g)):u;if(!(u=s.parseURL(k)))throw new Error("Error trying to parse base URL.");var w;return!u.netLoc&&u.path&&"/"!==u.path[0]&&(w=e.exec(u.path),u.netLoc=w[1],u.path=w[2]),u.netLoc&&!u.path&&(u.path="/"),k={scheme:u.scheme,netLoc:g.netLoc,path:null,params:g.params,query:g.query,fragment:g.fragment},g.netLoc||(k.netLoc=u.netLoc,"/"!==g.path[0]&&(g.path?(w=(w=u.path).substring(0,w.lastIndexOf("/")+1)+g.path,k.path=s.normalizePath(w)):(k.path=u.path,g.params||(k.params=u.params,g.query||(k.query=u.query))))),null===k.path&&(k.path=m.alwaysNormalize?s.normalizePath(g.path):g.path),s.buildURLFromParts(k)},parseURL:function(o){return(o=i.exec(o))?{scheme:o[1]||"",netLoc:o[2]||"",path:o[3]||"",params:o[4]||"",query:o[5]||"",fragment:o[6]||""}:null},normalizePath:function(o){for(o=o.split("").reverse().join("").replace(n,"");o.length!==(o=o.replace(r,"")).length;);return o.split("").reverse().join("")},buildURLFromParts:function(o){return o.scheme+o.netLoc+o.path+o.params+o.query+o.fragment}}}),gi="http://example.com",Ii=function(){function t(){this.listeners={}}var a=t.prototype;return a.on=function(i,e){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(e)},a.off=function(i,e){return!!this.listeners[i]&&(e=this.listeners[i].indexOf(e),this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(e,1),-1<e)},a.trigger=function(i){var e=this.listeners[i];if(e)if(2===arguments.length)for(var n=e.length,r=0;r<n;++r)e[r].call(this,arguments[1]);else for(var s=Array.prototype.slice.call(arguments,1),o=e.length,u=0;u<o;++u)e[u].apply(this,s)},a.dispose=function(){this.listeners={}},a.pipe=function(i){this.on("data",function(e){i.push(e)})},t}();function hr(i){var a=/([0-9.]*)?@?([0-9.]*)?/.exec(i||"");return i={},a[1]&&(i.length=parseInt(a[1],10)),a[2]&&(i.offset=parseInt(a[2],10)),i}function dn(t){for(var a,i=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),e={},n=i.length;n--;)""!==i[n]&&((a=/([^=]*)=(.*)/.exec(i[n]).slice(1))[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),e[a[0]]=a[1]);return e}function Vn(t){var a={};return Object.keys(t).forEach(function(i){a[i.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})]=t[i]}),a}function Ei(t){var a,i,e,n,r=t.serverControl,s=t.targetDuration,o=t.partTargetDuration;r&&(a="#EXT-X-SERVER-CONTROL",i="holdBack",e="partHoldBack",n=s&&3*s,t=o&&2*o,s&&!r.hasOwnProperty(i)&&(r[i]=n,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+n+")."})),n&&r[i]<n&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+r[i]+") to targetDuration * 3 ("+n+")"}),r[i]=n),o&&!r.hasOwnProperty(e)&&(r[e]=3*o,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+r[e]+")."})),o&&r[e]<t&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+r[e]+") to partTargetDuration * 2 ("+t+")."}),r[e]=t))}function Ci(t){return t&&t.replace(/avc1\.(\d+)\.(\d+)/i,function(a,i,e){return"avc1."+("00"+Number(i).toString(16)).slice(-2)+"00"+("00"+Number(e).toString(16)).slice(-2)})}function Wn(a){a=(a=void 0===a?"":a).split(",");var i=[];return a.forEach(function(e){var n;e=e.trim(),sh.forEach(function(r){var s,o=Zr[r].exec(e.toLowerCase());!o||o.length<=1||(n=r,s=e.substring(0,o[1].length),o=e.replace(s,""),i.push({type:s,details:o,mediaType:r}))}),n||i.push({type:e,details:"",mediaType:"unknown"})}),i}function fo(t){return Zr.audio.test((t=void 0===t?"":t).trim().toLowerCase())}function Jr(t){if(t&&"string"==typeof t){var a=t.toLowerCase().split(",").map(function(n){return Ci(n.trim())}),i="video";1===a.length&&fo(a[0])?i="audio":1===a.length&&Zr.text.test((e=void 0===(e=a[0])?"":e).trim().toLowerCase())&&(i="application");var e="mp4";return a.every(function(n){return Zr.mp4.test(n)})?e="mp4":a.every(function(n){return Zr.webm.test(n)})?e="webm":a.every(function(n){return Zr.ogg.test(n)})&&(e="ogg"),i+"/"+e+';codecs="'+t+'"'}}function Rr(t){return void 0===t&&(t=""),window.MediaSource&&window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported(Jr(t))||!1}function ka(t){return(t=void 0===t?"":t).toLowerCase().split(",").every(function(a){a=a.trim();for(var i=0;i<wl.length;i++)if(Zr["muxer"+wl[i]].test(a))return!0;return!1})}function gs(t){return oh.test(t)?"hls":uh.test(t)?"dash":"application/vnd.videojs.vhs+json"===t?"vhs-json":null}function ys(t){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer}function ke(t){return t instanceof Uint8Array?t:(Array.isArray(t)||lh(t)||t instanceof ArrayBuffer||(t="number"!=typeof t||"number"==typeof t&&t!=t?0:[t]),new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0))}function Tl(t,a){if("string"!=typeof(t="string"!=typeof t&&t&&"function"==typeof t.toString?t.toString():t))return new Uint8Array;a||(t=unescape(encodeURIComponent(t)));for(var i=new Uint8Array(t.length),e=0;e<t.length;e++)i[e]=t.charCodeAt(e);return i}function Yt(t,a,i){var e=void 0===i?{}:i,n=void 0===(i=e.offset)?0:i,r=void 0===(e=e.mask)?[]:e;return t=ke(t),e=(a=ke(a)).every||Array.prototype.every,a.length&&t.length-n>=a.length&&e.call(a,function(s,o){return s===(r[o]?r[o]&t[n+o]:t[n+o])})}function ou(t,a){if(/^[a-z]+:/i.test(a))return a;/^data:/.test(t)&&(t=window.location&&window.location.href||"");var i="function"==typeof window.URL,e=/^\/\//.test(t),n=!window.location&&!/\/\//i.test(t);return i?t=new window.URL(t,window.location||Sl):/\/\//i.test(t)||(t=Ln.buildAbsoluteURL(window.location&&window.location.href||"",t)),i?(i=new URL(a,t),n?i.href.slice(Sl.length):e?i.href.slice(i.protocol.length):i.href):Ln.buildAbsoluteURL(t,a)}var nh=function(t){function a(){var i=t.call(this)||this;return i.buffer="",i}return oe(a,t),a.prototype.push=function(i){var e;for(this.buffer+=i,e=this.buffer.indexOf("\n");-1<e;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},a}(Ii),ih=String.fromCharCode(9),rh=function(t){function a(){var e=t.call(this)||this;return e.customParsers=[],e.tagMappers=[],e}oe(a,t);var i=a.prototype;return i.push=function(e){var n,r,s=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce(function(o,u){return(u=u(e))===e?o:o.concat([u])},[e]).forEach(function(o){for(var u,m,g=0;g<s.customParsers.length;g++)if(s.customParsers[g].call(s,o))return;if(0===o.indexOf("#EXT"))if(o=o.replace("\r",""),n=/^#EXTM3U/.exec(o))s.trigger("data",{type:"tag",tagType:"m3u"});else{if(n=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(o))return r={type:"tag",tagType:"inf"},n[1]&&(r.duration=parseFloat(n[1])),n[2]&&(r.title=n[2]),void s.trigger("data",r);if(n=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(o))return r={type:"tag",tagType:"targetduration"},n[1]&&(r.duration=parseInt(n[1],10)),void s.trigger("data",r);if(n=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(o))return r={type:"tag",tagType:"version"},n[1]&&(r.version=parseInt(n[1],10)),void s.trigger("data",r);if(n=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(o))return r={type:"tag",tagType:"media-sequence"},n[1]&&(r.number=parseInt(n[1],10)),void s.trigger("data",r);if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(o))return r={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(r.number=parseInt(n[1],10)),void s.trigger("data",r);if(n=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(o))return r={type:"tag",tagType:"playlist-type"},n[1]&&(r.playlistType=n[1]),void s.trigger("data",r);if(n=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(o))return r=Dt(hr(n[1]),{type:"tag",tagType:"byterange"}),void s.trigger("data",r);if(n=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(o))return r={type:"tag",tagType:"allow-cache"},n[1]&&(r.allowed=!/NO/.test(n[1])),void s.trigger("data",r);if(n=/^#EXT-X-MAP:?(.*)$/.exec(o))return r={type:"tag",tagType:"map"},n[1]&&((u=dn(n[1])).URI&&(r.uri=u.URI),u.BYTERANGE&&(r.byterange=hr(u.BYTERANGE))),void s.trigger("data",r);if(n=/^#EXT-X-STREAM-INF:?(.*)$/.exec(o))return r={type:"tag",tagType:"stream-inf"},n[1]&&(r.attributes=dn(n[1]),r.attributes.RESOLUTION&&(m={},(u=r.attributes.RESOLUTION.split("x"))[0]&&(m.width=parseInt(u[0],10)),u[1]&&(m.height=parseInt(u[1],10)),r.attributes.RESOLUTION=m),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))),void s.trigger("data",r);if(n=/^#EXT-X-MEDIA:?(.*)$/.exec(o))return r={type:"tag",tagType:"media"},n[1]&&(r.attributes=dn(n[1])),void s.trigger("data",r);if(n=/^#EXT-X-ENDLIST/.exec(o))s.trigger("data",{type:"tag",tagType:"endlist"});else{if(!(n=/^#EXT-X-DISCONTINUITY/.exec(o)))return(n=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(o))?(r={type:"tag",tagType:"program-date-time"},n[1]&&(r.dateTimeString=n[1],r.dateTimeObject=new Date(n[1])),void s.trigger("data",r)):(n=/^#EXT-X-KEY:?(.*)$/.exec(o))?(r={type:"tag",tagType:"key"},n[1]&&(r.attributes=dn(n[1]),r.attributes.IV&&("0x"===r.attributes.IV.substring(0,2).toLowerCase()&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),void s.trigger("data",r)):(n=/^#EXT-X-START:?(.*)$/.exec(o))?(r={type:"tag",tagType:"start"},n[1]&&(r.attributes=dn(n[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),void s.trigger("data",r)):(n=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(o))?((r={type:"tag",tagType:"cue-out-cont"}).data=n[1]?n[1]:"",void s.trigger("data",r)):(n=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(o))?((r={type:"tag",tagType:"cue-out"}).data=n[1]?n[1]:"",void s.trigger("data",r)):(n=/^#EXT-X-CUE-IN:?(.*)?$/.exec(o))?((r={type:"tag",tagType:"cue-in"}).data=n[1]?n[1]:"",void s.trigger("data",r)):(n=/^#EXT-X-SKIP:(.*)$/.exec(o))&&n[1]?((r={type:"tag",tagType:"skip"}).attributes=dn(n[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(ih)),void s.trigger("data",r)):(n=/^#EXT-X-PART:(.*)$/.exec(o))&&n[1]?((r={type:"tag",tagType:"part"}).attributes=dn(n[1]),["DURATION"].forEach(function(w){r.attributes.hasOwnProperty(w)&&(r.attributes[w]=parseFloat(r.attributes[w]))}),["INDEPENDENT","GAP"].forEach(function(w){r.attributes.hasOwnProperty(w)&&(r.attributes[w]=/YES/.test(r.attributes[w]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=hr(r.attributes.BYTERANGE)),void s.trigger("data",r)):(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(o))&&n[1]?((r={type:"tag",tagType:"server-control"}).attributes=dn(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(w){r.attributes.hasOwnProperty(w)&&(r.attributes[w]=parseFloat(r.attributes[w]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(w){r.attributes.hasOwnProperty(w)&&(r.attributes[w]=/YES/.test(r.attributes[w]))}),void s.trigger("data",r)):(n=/^#EXT-X-PART-INF:(.*)$/.exec(o))&&n[1]?((r={type:"tag",tagType:"part-inf"}).attributes=dn(n[1]),["PART-TARGET"].forEach(function(w){r.attributes.hasOwnProperty(w)&&(r.attributes[w]=parseFloat(r.attributes[w]))}),void s.trigger("data",r)):(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(o))&&n[1]?((r={type:"tag",tagType:"preload-hint"}).attributes=dn(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(w){var k;r.attributes.hasOwnProperty(w)&&(r.attributes[w]=parseInt(r.attributes[w],10),k="BYTERANGE-LENGTH"===w?"length":"offset",r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[k]=r.attributes[w],delete r.attributes[w])}),void s.trigger("data",r)):(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(o))&&n[1]?((r={type:"tag",tagType:"rendition-report"}).attributes=dn(n[1]),["LAST-MSN","LAST-PART"].forEach(function(w){r.attributes.hasOwnProperty(w)&&(r.attributes[w]=parseInt(r.attributes[w],10))}),void s.trigger("data",r)):void s.trigger("data",{type:"tag",data:o.slice(4)});s.trigger("data",{type:"tag",tagType:"discontinuity"})}}else s.trigger("data",{type:"comment",text:o.slice(1)})}):this.trigger("data",{type:"uri",uri:e}))},i.addParser=function(e){var n=this,r=e.expression,s=e.customType,o=e.dataParser,u=e.segment;"function"!=typeof o&&(o=function(m){return m}),this.customParsers.push(function(m){if(r.exec(m))return n.trigger("data",{type:"custom",data:o(m),customType:s,segment:u}),!0})},i.addTagMapper=function(e){var n=e.expression,r=e.map;this.tagMappers.push(function(s){return n.test(s)?r(s):s})},a}(Ii),ah=function(t){function a(){var e=t.call(this)||this;e.lineStream=new nh,e.parseStream=new rh,e.lineStream.pipe(e.parseStream);var n,r,s=De(e),o=[],u={},m=!1,g={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},w=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var k=0,I=0;return e.on("end",function(){u.uri||!u.parts&&!u.preloadHints||(!u.map&&n&&(u.map=n),!u.key&&r&&(u.key=r),u.timeline||"number"!=typeof w||(u.timeline=w),e.manifest.preloadSegment=u)}),e.parseStream.on("data",function(S){var P,U;({tag:function(){({version:function(){S.version&&(this.manifest.version=S.version)},"allow-cache":function(){this.manifest.allowCache=S.allowed,"allowed"in S||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var M={};"length"in S&&((u.byterange=M).length=S.length,"offset"in S||(S.offset=k)),"offset"in S&&((u.byterange=M).offset=S.offset),k=M.offset+M.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<S.duration&&(u.duration=S.duration),0===S.duration&&(u.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(S.attributes)if("NONE"!==S.attributes.METHOD)if(S.attributes.URI){if("com.apple.streamingkeydelivery"===S.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:S.attributes});if("com.microsoft.playready"===S.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:S.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===S.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(S.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===S.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==S.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):S.attributes.KEYID&&"0x"===S.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:S.attributes.KEYFORMAT,keyId:S.attributes.KEYID.substring(2)},pssh:function(M){for(var q=function(t){return window.atob?window.atob(t):Buffer.from(t,"base64").toString("binary")}(M),V=new Uint8Array(q.length),W=0;W<q.length;W++)V[W]=q.charCodeAt(W);return V}(S.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));S.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:S.attributes.METHOD||"AES-128",uri:S.attributes.URI},typeof S.attributes.IV<"u"&&(r.iv=S.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(S.number)?this.manifest.mediaSequence=S.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+S.number})},"discontinuity-sequence":function(){isFinite(S.number)?(this.manifest.discontinuitySequence=S.number,w=S.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+S.number})},"playlist-type":function(){/VOD|EVENT/.test(S.playlistType)?this.manifest.playlistType=S.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+S.playlist})},map:function(){n={},S.uri&&(n.uri=S.uri),S.byterange&&(n.byterange=S.byterange),r&&(n.key=r)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||g,S.attributes?(u.attributes||(u.attributes={}),Dt(u.attributes,S.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){var M;this.manifest.mediaGroups=this.manifest.mediaGroups||g,S.attributes&&S.attributes.TYPE&&S.attributes["GROUP-ID"]&&S.attributes.NAME?((M=this.manifest.mediaGroups[S.attributes.TYPE])[S.attributes["GROUP-ID"]]=M[S.attributes["GROUP-ID"]]||{},P=M[S.attributes["GROUP-ID"]],U.autoselect=!!(U={default:/yes/i.test(S.attributes.DEFAULT)}).default||/yes/i.test(S.attributes.AUTOSELECT),S.attributes.LANGUAGE&&(U.language=S.attributes.LANGUAGE),S.attributes.URI&&(U.uri=S.attributes.URI),S.attributes["INSTREAM-ID"]&&(U.instreamId=S.attributes["INSTREAM-ID"]),S.attributes.CHARACTERISTICS&&(U.characteristics=S.attributes.CHARACTERISTICS),S.attributes.FORCED&&(U.forced=/yes/i.test(S.attributes.FORCED)),P[S.attributes.NAME]=U):this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){w+=1,u.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=S.dateTimeString,this.manifest.dateTimeObject=S.dateTimeObject),u.dateTimeString=S.dateTimeString,u.dateTimeObject=S.dateTimeObject},targetduration:function(){!isFinite(S.duration)||S.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+S.duration}):(this.manifest.targetDuration=S.duration,Ei.call(this,this.manifest))},start:function(){S.attributes&&!isNaN(S.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:S.attributes["TIME-OFFSET"],precise:S.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){u.cueOut=S.data},"cue-out-cont":function(){u.cueOutCont=S.data},"cue-in":function(){u.cueIn=S.data},skip:function(){this.manifest.skip=Vn(S.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",S.attributes,["SKIPPED-SEGMENTS"])},part:function(){var M=this;m=!0;var q=this.manifest.segments.length,V=Vn(S.attributes);u.parts=u.parts||[],u.parts.push(V),V.byterange&&(V.byterange.hasOwnProperty("offset")||(V.byterange.offset=I),I=V.byterange.offset+V.byterange.length),this.warnOnMissingAttributes_("#EXT-X-PART #"+(u.parts.length-1)+" for segment #"+q,S.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(Y,se){Y.hasOwnProperty("lastPart")||M.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+se+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var M=this.manifest.serverControl=Vn(S.attributes);M.hasOwnProperty("canBlockReload")||(M.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Ei.call(this,this.manifest),M.canSkipDateranges&&!M.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var M=this.manifest.segments.length,q=Vn(S.attributes),V=q.type&&"PART"===q.type;u.preloadHints=u.preloadHints||[],u.preloadHints.push(q),q.byterange&&(q.byterange.hasOwnProperty("offset")||(q.byterange.offset=V?I:0,V&&(I=q.byterange.offset+q.byterange.length)));var W=u.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+W+" for segment #"+M,S.attributes,["TYPE","URI"]),q.type)for(var Y=0;Y<u.preloadHints.length-1;Y++){var se=u.preloadHints[Y];se.type&&se.type===q.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+W+" for segment #"+M+" has the same TYPE "+q.type+" as preload hint #"+Y})}},"rendition-report":function(){var q=Vn(S.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(q);var M=this.manifest.renditionReports.length-1;q=["LAST-MSN","URI"],m&&q.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+M,S.attributes,q)},"part-inf":function(){this.manifest.partInf=Vn(S.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",S.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Ei.call(this,this.manifest)}}[S.tagType]||function(){}).call(s)},uri:function(){u.uri=S.uri,o.push(u),!this.manifest.targetDuration||"duration"in u||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),u.duration=this.manifest.targetDuration),r&&(u.key=r),u.timeline=w,n&&(u.map=n),I=0,u={}},comment:function(){},custom:function(){S.segment?(u.custom=u.custom||{},u.custom[S.customType]=S.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[S.customType]=S.data)}})[S.type].call(s)}),e}oe(a,t);var i=a.prototype;return i.warnOnMissingAttributes_=function(e,n,r){var s=[];r.forEach(function(o){n.hasOwnProperty(o)||s.push(o)}),s.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+s.join(", ")})},i.push=function(e){this.lineStream.push(e)},i.end=function(){this.lineStream.push("\n"),this.trigger("end")},i.addParser=function(e){this.parseStream.addParser(e)},i.addTagMapper=function(e){this.parseStream.addTagMapper(e)},a}(Ii),Zr={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},sh=["video","audio","text"],wl=["Video","Audio","Text"],xl="mp4a.40.2",oh=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,uh=/^application\/dash\+xml/i,lh=ys,zn=window.BigInt||Number,uu=[zn("0x1"),zn("0x100"),zn("0x10000"),zn("0x1000000"),zn("0x100000000"),zn("0x10000000000"),zn("0x1000000000000"),zn("0x100000000000000"),zn("0x10000000000000000")],Sl="http://example.com";function lu(t,a){return(a=void 0===a?Object:a)&&"function"==typeof a.freeze?a.freeze(t):t}var kl=lu({HTML:"text/html",isHTML:function(t){return t===kl.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),El=lu({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===El.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"}),vs={assign:function(t,a){if(null===t||"object"!=typeof t)throw new TypeError("target is not an object");for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);return t},find:function(t,a,i){if(void 0===i&&(i=Array.prototype),t&&"function"==typeof i.find)return i.find.call(t,a);for(var e=0;e<t.length;e++)if(Object.prototype.hasOwnProperty.call(t,e)){var n=t[e];if(a.call(void 0,n,e,t))return n}},freeze:lu,MIME_TYPE:kl,NAMESPACE:El},Ji=vs.find,bs=vs.NAMESPACE;function dh(t){return""!==t}function hh(t,a){return t.hasOwnProperty(a)||(t[a]=!0),t}function Cl(t){return t?(t=t?t.split(/[\t\n\f\r ]+/).filter(dh):[],Object.keys(t.reduce(hh,{}))):[]}function _s(t,a){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i])}function ci(t,a){var i,e=t.prototype;e instanceof a||((i=function(){}).prototype=a.prototype,_s(e,i=new i),t.prototype=e=i),e.constructor!=t&&(e.constructor=t)}var Fi=(an={}).ELEMENT_NODE=1,Ea=an.ATTRIBUTE_NODE=2,mo=an.TEXT_NODE=3,Al=an.CDATA_SECTION_NODE=4,Il=an.ENTITY_REFERENCE_NODE=5,Ml=(an.ENTITY_NODE=6,an.PROCESSING_INSTRUCTION_NODE=7),Pl=an.COMMENT_NODE=8,Ol=an.DOCUMENT_NODE=9,Ll=an.DOCUMENT_TYPE_NODE=10,pr=an.DOCUMENT_FRAGMENT_NODE=11,Dn=(an.NOTATION_NODE=12,Tn={},{});Tn.INDEX_SIZE_ERR=(Dn[1]="Index size error",1),Tn.DOMSTRING_SIZE_ERR=(Dn[2]="DOMString size error",2);var di=Tn.HIERARCHY_REQUEST_ERR=(Dn[3]="Hierarchy request error",3);Tn.WRONG_DOCUMENT_ERR=(Dn[4]="Wrong document",4),Tn.INVALID_CHARACTER_ERR=(Dn[5]="Invalid character",5),Tn.NO_DATA_ALLOWED_ERR=(Dn[6]="No data allowed",6),Tn.NO_MODIFICATION_ALLOWED_ERR=(Dn[7]="No modification allowed",7);var Nl,Dl=Tn.NOT_FOUND_ERR=(Dn[8]="Not found",8);function mn(t,a){var i;return a instanceof Error?i=a:(i=this,Error.call(this,Dn[t]),this.message=Dn[t],Error.captureStackTrace&&Error.captureStackTrace(this,mn)),i.code=t,a&&(this.message=this.message+": "+a),i}function fr(){}function Ca(t,a){this._node=t,this._refresh=a,cu(this)}function cu(t){var a,i=t._node._inc||t._node.ownerDocument._inc;t._inc!=i&&(a=t._refresh(t._node),$l(t,"length",a.length),_s(a,t),t._inc=i)}function go(){}function Rl(t,a){for(var i=t.length;i--;)if(t[i]===a)return i}function Bl(t,a,i,e){e?a[Rl(a,e)]=i:a[a.length++]=i,!t||(a=(i.ownerElement=t).ownerDocument)&&(e&&ql(a,t,e),a&&a._inc++,i.namespaceURI===bs.XMLNS&&(t._nsMap[i.prefix?i.localName:""]=i.value))}function Ul(t,a,i){var e=Rl(a,i);if(!(0<=e))throw new mn(Dl,new Error(t.tagName+"@"+i));for(var n,r=a.length-1;e<r;)a[e]=a[++e];a.length=r,!t||(n=t.ownerDocument)&&(ql(n,t,i),i.ownerElement=null)}function Fl(){}function kt(){}function zl(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function Ts(t,a){if(a(t))return 1;if(t=t.firstChild)do{if(Ts(t,a))return 1}while(t=t.nextSibling)}function ws(){this.ownerDocument=this}function ql(t,a,i){t&&t._inc++,i.namespaceURI===bs.XMLNS&&delete a._nsMap[i.prefix?i.localName:""]}function du(t,a,i){if(t&&t._inc){t._inc++;var e=a.childNodes;if(i)e[e.length++]=i;else{for(var n=a.firstChild,r=0;n;)n=(e[r++]=n).nextSibling;e.length=r,delete e[e.length]}}}function Hl(t,a){var i=a.previousSibling,e=a.nextSibling;return i?i.nextSibling=e:t.firstChild=e,e?e.previousSibling=i:t.lastChild=i,a.parentNode=null,a.previousSibling=null,a.nextSibling=null,du(t.ownerDocument,t),a}function mr(t){return t&&t.nodeType===kt.DOCUMENT_TYPE_NODE}function Zi(t){return t&&t.nodeType===kt.ELEMENT_NODE}function hu(t){return t&&t.nodeType===kt.TEXT_NODE}function jl(t,a){var i=t.childNodes||[];if(!Ji(i,Zi)&&!mr(a))return t=Ji(i,mr),!(a&&t&&i.indexOf(t)>i.indexOf(a))}function Vl(t,a){var i=t.childNodes||[];if(!Ji(i,function(e){return Zi(e)&&e!==a}))return t=Ji(i,mr),!(a&&t&&i.indexOf(t)>i.indexOf(a))}function fh(t,a,i){var e=t.childNodes||[],n=a.childNodes||[];if(a.nodeType===kt.DOCUMENT_FRAGMENT_NODE){var r=n.filter(Zi);if(1<r.length||Ji(n,hu))throw new mn(di,"More than one element or text in fragment");if(1===r.length&&!jl(t,i))throw new mn(di,"Element in fragment can not be inserted before doctype")}if(Zi(a)&&!jl(t,i))throw new mn(di,"Only one element can be added and only after doctype");if(mr(a)){if(Ji(e,mr))throw new mn(di,"Only one doctype is allowed");if(a=Ji(e,Zi),i&&e.indexOf(a)<e.indexOf(i))throw new mn(di,"Doctype can only be inserted before an element");if(!i&&a)throw new mn(di,"Doctype can not be appended since element is present")}}function Wl(t,a,i){var e=t.childNodes||[],n=a.childNodes||[];if(a.nodeType===kt.DOCUMENT_FRAGMENT_NODE){var r=n.filter(Zi);if(1<r.length||Ji(n,hu))throw new mn(di,"More than one element or text in fragment");if(1===r.length&&!Vl(t,i))throw new mn(di,"Element in fragment can not be inserted before doctype")}if(Zi(a)&&!Vl(t,i))throw new mn(di,"Only one element can be added and only after doctype");if(mr(a)){if(Ji(e,function(s){return mr(s)&&s!==i}))throw new mn(di,"Only one doctype is allowed");if(a=Ji(e,Zi),i&&e.indexOf(a)<e.indexOf(i))throw new mn(di,"Doctype can only be inserted before an element")}}function yo(t,a,i,e){if(function ph(t,a,i){if(!(e=t)||e.nodeType!==kt.DOCUMENT_NODE&&e.nodeType!==kt.DOCUMENT_FRAGMENT_NODE&&e.nodeType!==kt.ELEMENT_NODE)throw new mn(di,"Unexpected parent node type "+t.nodeType);var e;if(i&&i.parentNode!==t)throw new mn(Dl,"child not in parent");if(!(i=a)||!(Zi(i)||hu(i)||mr(i)||i.nodeType===kt.DOCUMENT_FRAGMENT_NODE||i.nodeType===kt.COMMENT_NODE||i.nodeType===kt.PROCESSING_INSTRUCTION_NODE)||mr(a)&&t.nodeType!==kt.DOCUMENT_NODE)throw new mn(di,"Unexpected node type "+a.nodeType+" for parent node type "+t.nodeType)}(t,a,i),t.nodeType===kt.DOCUMENT_NODE&&(e||fh)(t,a,i),(e=a.parentNode)&&e.removeChild(a),a.nodeType===pr){var n=a.firstChild;if(null==n)return a;var r=a.lastChild}else n=r=a;for(n.previousSibling=e=i?i.previousSibling:t.lastChild,r.nextSibling=i,e?e.nextSibling=n:t.firstChild=n,null==i?t.lastChild=r:i.previousSibling=r;n.parentNode=t,n!==r&&(n=n.nextSibling););return du(t.ownerDocument||t,t),a.nodeType==pr&&(a.firstChild=a.lastChild=null),a}function Aa(){this._nsMap={}}function vo(){}function xs(){}function pu(){}function fu(){}function mu(){}function bo(){}function Gl(){}function Xl(){}function gu(){}function _o(){}function yu(){}function Kl(){}function Yl(t,a){var i,e=[],n=9==this.nodeType&&this.documentElement||this,r=n.prefix,s=n.namespaceURI;return Ia(this,e,t,a,i=s&&null==r&&null==(r=n.lookupPrefix(s))?[{namespace:s,prefix:null}]:i),e.join("")}function Ql(t,a,i){var e=t.prefix||"",n=t.namespaceURI;if(n&&("xml"!==e||n!==bs.XML)&&n!==bs.XMLNS){for(var r=i.length;r--;){var s=i[r];if(s.prefix===e)return s.namespace!==n}return 1}}function vu(t,a,i){t.push(" ",a,'="',i.replace(/[<>&"\t\n\r]/g,zl),'"')}function Ia(t,a,i,e,n){if(n=n||[],e){if(!(t=e(t)))return;if("string"==typeof t)return void a.push(t)}switch(t.nodeType){case Fi:var P,U,M,r=t.attributes,s=r.length,o=t.firstChild,u=t.tagName,m=u;if(!(i=bs.isHTML(t.namespaceURI)||i)&&!t.prefix&&t.namespaceURI){for(var g,w=0;w<r.length;w++)if("xmlns"===r.item(w).name){g=r.item(w).value;break}if(!g)for(var k=n.length-1;0<=k;k--)if(""===(I=n[k]).prefix&&I.namespace===t.namespaceURI){g=I.namespace;break}var I;if(g!==t.namespaceURI)for(k=n.length-1;0<=k;k--)if((I=n[k]).namespace===t.namespaceURI){I.prefix&&(m=I.prefix+":"+u);break}}a.push("<",m);for(var S=0;S<s;S++)"xmlns"==(P=r.item(S)).prefix?n.push({prefix:P.localName,namespace:P.value}):"xmlns"==P.nodeName&&n.push({prefix:"",namespace:P.value});for(S=0;S<s;S++)Ql(P=r.item(S),0,n)&&(vu(a,(U=P.prefix||"")?"xmlns:"+U:"xmlns",M=P.namespaceURI),n.push({prefix:U,namespace:M})),Ia(P,a,i,e,n);if(u===m&&Ql(t,0,n)&&(vu(a,(U=t.prefix||"")?"xmlns:"+U:"xmlns",M=t.namespaceURI),n.push({prefix:U,namespace:M})),o||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(a.push(">"),i&&/^script$/i.test(u))for(;o;)o.data?a.push(o.data):Ia(o,a,i,e,n.slice()),o=o.nextSibling;else for(;o;)Ia(o,a,i,e,n.slice()),o=o.nextSibling;a.push("</",m,">")}else a.push("/>");return;case Ol:case pr:for(o=t.firstChild;o;)Ia(o,a,i,e,n.slice()),o=o.nextSibling;return;case Ea:return vu(a,t.name,t.value),0;case mo:return a.push(t.data.replace(/[<&>]/g,zl));case Al:return a.push("<![CDATA[",t.data,"]]>");case Pl:return a.push("\x3c!--",t.data,"--\x3e");case Ll:var q=t.publicId,V=t.systemId;return a.push("<!DOCTYPE ",t.name),void(q?(a.push(" PUBLIC ",q),V&&"."!=V&&a.push(" ",V),a.push(">")):V&&"."!=V?a.push(" SYSTEM ",V,">"):((V=t.internalSubset)&&a.push(" [",V,"]"),a.push(">")));case Ml:return a.push("<?",t.target," ",t.data,"?>");case Il:return a.push("&",t.nodeName,";");default:a.push("??",t.nodeName)}}function $l(t,a,i){t[a]=i}Tn.NOT_SUPPORTED_ERR=(Dn[9]="Not supported",9),Tn.INUSE_ATTRIBUTE_ERR=(Dn[10]="Attribute in use",10),Tn.INVALID_STATE_ERR=(Dn[11]="Invalid state",11),Tn.SYNTAX_ERR=(Dn[12]="Syntax error",12),Tn.INVALID_MODIFICATION_ERR=(Dn[13]="Invalid modification",13),Tn.NAMESPACE_ERR=(Dn[14]="Invalid namespace",14),Tn.INVALID_ACCESS_ERR=(Dn[15]="Invalid access",15),mn.prototype=Error.prototype,_s(Tn,mn),fr.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,a){for(var i=[],e=0;e<this.length;e++)Ia(this[e],i,t,a);return i.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}},Ca.prototype.item=function(t){return cu(this),this[t]},ci(Ca,fr),go.prototype={length:0,item:fr.prototype.item,getNamedItem:function(t){for(var a=this.length;a--;){var i=this[a];if(i.nodeName==t)return i}},setNamedItem:function(t){var a=t.ownerElement;if(a&&a!=this._ownerElement)throw new mn(10);return a=this.getNamedItem(t.nodeName),Bl(this._ownerElement,this,t,a),a},setNamedItemNS:function(t){var a=t.ownerElement;if(a&&a!=this._ownerElement)throw new mn(10);return a=this.getNamedItemNS(t.namespaceURI,t.localName),Bl(this._ownerElement,this,t,a),a},removeNamedItem:function(t){return t=this.getNamedItem(t),Ul(this._ownerElement,this,t),t},removeNamedItemNS:function(t,a){return a=this.getNamedItemNS(t,a),Ul(this._ownerElement,this,a),a},getNamedItemNS:function(t,a){for(var i=this.length;i--;){var e=this[i];if(e.localName==a&&e.namespaceURI==t)return e}return null}},Fl.prototype={hasFeature:function(t,a){return!0},createDocument:function(t,a,i){var e=new ws;return e.implementation=this,e.childNodes=new fr,e.doctype=i||null,i&&e.appendChild(i),a&&(a=e.createElementNS(t,a),e.appendChild(a)),e},createDocumentType:function(t,a,i){var e=new bo;return e.name=t,e.nodeName=t,e.publicId=a||"",e.systemId=i||"",e}},kt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,a){return yo(this,t,a)},replaceChild:function(t,a){yo(this,t,a,Wl),a&&this.removeChild(a)},removeChild:function(t){return Hl(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function a(i,e,n){var r=new e.constructor;for(var s in e){var o;!Object.prototype.hasOwnProperty.call(e,s)||"object"!=typeof(o=e[s])&&o!=r[s]&&(r[s]=o)}switch(e.childNodes&&(r.childNodes=new fr),r.ownerDocument=i,r.nodeType){case Fi:var u=e.attributes,m=r.attributes=new go,g=u.length;m._ownerElement=r;for(var w=0;w<g;w++)r.setAttributeNode(a(i,u.item(w),!0));break;case Ea:n=!0}if(n)for(var k=e.firstChild;k;)r.appendChild(a(i,k,n)),k=k.nextSibling;return r}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var a=t.nextSibling;a&&a.nodeType==mo&&t.nodeType==mo?(this.removeChild(a),t.appendData(a.data)):(t.normalize(),t=a)}},isSupported:function(t,a){return this.ownerDocument.implementation.hasFeature(t,a)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(t){for(var a=this;a;){var i=a._nsMap;if(i)for(var e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&i[e]===t)return e;a=a.nodeType==Ea?a.ownerDocument:a.parentNode}return null},lookupNamespaceURI:function(t){for(var a=this;a;){var i=a._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,t))return i[t];a=a.nodeType==Ea?a.ownerDocument:a.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},_s(an,kt),_s(an,kt.prototype),ws.prototype={nodeName:"#document",nodeType:Ol,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,a){if(t.nodeType!=pr)return yo(this,t,a),null===(t.ownerDocument=this).documentElement&&t.nodeType===Fi&&(this.documentElement=t),t;for(var i=t.firstChild;i;){var e=i.nextSibling;this.insertBefore(i,a),i=e}return t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),Hl(this,t)},replaceChild:function(t,a){yo(this,t,a,Wl),t.ownerDocument=this,a&&this.removeChild(a),Zi(t)&&(this.documentElement=t)},importNode:function(t,a){return function i(e,n,r){var s;switch(n.nodeType){case Fi:(s=n.cloneNode(!1)).ownerDocument=e;case pr:break;case Ea:r=!0}if((s=s||n.cloneNode(!1)).ownerDocument=e,s.parentNode=null,r)for(var o=n.firstChild;o;)s.appendChild(i(e,o,r)),o=o.nextSibling;return s}(this,t,a)},getElementById:function(t){var a=null;return Ts(this.documentElement,function(i){if(i.nodeType==Fi&&i.getAttribute("id")==t)return a=i,!0}),a},getElementsByClassName:function(t){var a=Cl(t);return new Ca(this,function(i){var e=[];return 0<a.length&&Ts(i.documentElement,function(n){var r,s,o;n===i||n.nodeType!==Fi||(r=n.getAttribute("class"))&&((s=t===r)||(r=Cl(r),s=a.every((o=r,function(u){return o&&-1!==o.indexOf(u)}))),s&&e.push(n))}),e})},createElement:function(t){var a=new Aa;return a.ownerDocument=this,a.nodeName=t,a.tagName=t,a.localName=t,a.childNodes=new fr,(a.attributes=new go)._ownerElement=a},createDocumentFragment:function(){var t=new _o;return t.ownerDocument=this,t.childNodes=new fr,t},createTextNode:function(t){var a=new pu;return a.ownerDocument=this,a.appendData(t),a},createComment:function(t){var a=new fu;return a.ownerDocument=this,a.appendData(t),a},createCDATASection:function(t){var a=new mu;return a.ownerDocument=this,a.appendData(t),a},createProcessingInstruction:function(t,a){var i=new yu;return i.ownerDocument=this,i.tagName=i.target=t,i.nodeValue=i.data=a,i},createAttribute:function(t){var a=new vo;return a.ownerDocument=this,a.name=t,a.nodeName=t,a.localName=t,a.specified=!0,a},createEntityReference:function(t){var a=new gu;return a.ownerDocument=this,a.nodeName=t,a},createElementNS:function(t,a){var i=new Aa,e=a.split(":"),n=i.attributes=new go;return i.childNodes=new fr,i.ownerDocument=this,i.nodeName=a,i.tagName=a,i.namespaceURI=t,2==e.length?(i.prefix=e[0],i.localName=e[1]):i.localName=a,n._ownerElement=i},createAttributeNS:function(t,a){var i=new vo,e=a.split(":");return i.ownerDocument=this,i.nodeName=a,i.name=a,i.namespaceURI=t,i.specified=!0,2==e.length?(i.prefix=e[0],i.localName=e[1]):i.localName=a,i}},ci(ws,kt),ws.prototype.getElementsByTagName=(Aa.prototype={nodeType:Fi,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){return(t=this.getAttributeNode(t))&&t.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,a){(t=this.ownerDocument.createAttribute(t)).value=t.nodeValue=""+a,this.setAttributeNode(t)},removeAttribute:function(t){(t=this.getAttributeNode(t))&&this.removeAttributeNode(t)},appendChild:function(t){return t.nodeType===pr?this.insertBefore(t,null):(a=this,t.parentNode&&t.parentNode.removeChild(t),t.parentNode=a,t.previousSibling=a.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:a.firstChild=t,a.lastChild=t,du(a.ownerDocument,a,t),t);var a},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,a){(a=this.getAttributeNodeNS(t,a))&&this.removeAttributeNode(a)},hasAttributeNS:function(t,a){return null!=this.getAttributeNodeNS(t,a)},getAttributeNS:function(t,a){return(a=this.getAttributeNodeNS(t,a))&&a.value||""},setAttributeNS:function(t,a,i){(a=this.ownerDocument.createAttributeNS(t,a)).value=a.nodeValue=""+i,this.setAttributeNode(a)},getAttributeNodeNS:function(t,a){return this.attributes.getNamedItemNS(t,a)},getElementsByTagName:function(t){return new Ca(this,function(a){var i=[];return Ts(a,function(e){e===a||e.nodeType!=Fi||"*"!==t&&e.tagName!=t||i.push(e)}),i})},getElementsByTagNameNS:function(t,a){return new Ca(this,function(i){var e=[];return Ts(i,function(n){n===i||n.nodeType!==Fi||"*"!==t&&n.namespaceURI!==t||"*"!==a&&n.localName!=a||e.push(n)}),e})}}).getElementsByTagName,ws.prototype.getElementsByTagNameNS=Aa.prototype.getElementsByTagNameNS,ci(Aa,kt),vo.prototype.nodeType=Ea,ci(vo,kt),xs.prototype={data:"",substringData:function(t,a){return this.data.substring(t,t+a)},appendData:function(t){this.nodeValue=this.data=t=this.data+t,this.length=t.length},insertData:function(t,a){this.replaceData(t,0,a)},appendChild:function(t){throw new Error(Dn[di])},deleteData:function(t,a){this.replaceData(t,a,"")},replaceData:function(t,n,i){var e=this.data.substring(0,t);n=this.data.substring(t+n),this.nodeValue=this.data=i=e+i+n,this.length=i.length}},ci(xs,kt),pu.prototype={nodeName:"#text",nodeType:mo,splitText:function(t){var a=(i=this.data).substring(t),i=i.substring(0,t);return this.data=this.nodeValue=i,this.length=i.length,a=this.ownerDocument.createTextNode(a),this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling),a}},ci(pu,xs),fu.prototype={nodeName:"#comment",nodeType:Pl},ci(fu,xs),mu.prototype={nodeName:"#cdata-section",nodeType:Al},ci(mu,xs),bo.prototype.nodeType=Ll,ci(bo,kt),Gl.prototype.nodeType=12,ci(Gl,kt),Xl.prototype.nodeType=6,ci(Xl,kt),gu.prototype.nodeType=Il,ci(gu,kt),_o.prototype.nodeName="#document-fragment",_o.prototype.nodeType=pr,ci(_o,kt),yu.prototype.nodeType=Ml,ci(yu,kt),Kl.prototype.serializeToString=function(t,a,i){return Yl.call(t,a,i)},kt.prototype.toString=Yl;try{Object.defineProperty&&(Nl=function t(a){switch(a.nodeType){case Fi:case pr:var i=[];for(a=a.firstChild;a;)7!==a.nodeType&&8!==a.nodeType&&i.push(t(a)),a=a.nextSibling;return i.join("");default:return a.nodeValue}},Object.defineProperty(Ca.prototype,"length",{get:function(){return cu(this),this.$$length}}),Object.defineProperty(kt.prototype,"textContent",{get:function(){return Nl(this)},set:function(t){switch(this.nodeType){case Fi:case pr:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),$l=function(t,a,i){t["$$"+a]=i})}catch{}gr={DocumentType:bo,DOMException:mn,DOMImplementation:Fl,Element:Aa,Node:kt,NodeList:fr,XMLSerializer:Kl};var Ss=Zt(function(t,a){var i=vs.freeze;a.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),a.HTML_ENTITIES=i({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),a.entityMap=a.HTML_ENTITIES}),ks=vs.NAMESPACE,Jl=(Ai=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Mi=new RegExp("[\\-\\.0-9"+Ai.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),new RegExp("^"+Ai.source+Mi.source+"*(?::"+Ai.source+Mi.source+"*)?$"));function Is(t,a){this.message=t,this.locator=a,Error.captureStackTrace&&Error.captureStackTrace(this,Is)}function Zl(){}function ec(t,a){return a.lineNumber=t.lineNumber,a.columnNumber=t.columnNumber,a}function tc(t,a,i){for(var e=t.tagName,n=null,r=t.length;r--;){var s=t[r],o=s.value,u=0<(g=(u=s.qName).indexOf(":"))?(m=s.prefix=u.slice(0,g),w=u.slice(g+1),"xmlns"===m&&w):(m=null,"xmlns"===(w=u)&&"");s.localName=w,!1!==u&&(null==n&&(n={},nc(i,i={})),i[u]=n[u]=o,s.uri=ks.XMLNS,a.startPrefixMapping(u,o))}var m;for(r=t.length;r--;)(m=(s=t[r]).prefix)&&("xml"===m&&(s.uri=ks.XML),"xmlns"!==m&&(s.uri=i[m||""]));var g,w=0<(g=e.indexOf(":"))?(m=t.prefix=e.slice(0,g),t.localName=e.slice(g+1)):(m=null,t.localName=e),k=t.uri=i[m||""];if(a.startElement(k,w,e,t),!t.closed)return t.currentNSMap=i,t.localNSMap=n,1;if(a.endElement(k,w,e),n)for(m in n)Object.prototype.hasOwnProperty.call(n,m)&&a.endPrefixMapping(m)}function nc(t,a){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i])}function ic(){this.attributeNames={}}(Is.prototype=new Error).name=Is.name,Zl.prototype={parse:function(t,a,i){var e=this.domBuilder;e.startDocument(),nc(a,a={}),function(n,r,s,o,u){function m(ve){var pe=ve.slice(1,-1);return Object.hasOwnProperty.call(s,pe)?s[pe]:"#"===pe.charAt(0)?65535<(pe=parseInt(pe.substr(1).replace("x","0x")))?(pe-=65536,String.fromCharCode(55296+(pe>>10),56320+(1023&pe))):String.fromCharCode(pe):(u.error("entity not found:"+ve),ve)}function g(ve){var pe;q<ve&&(pe=n.substring(q,ve).replace(/&#?\w+;/g,m),P&&w(q),o.characters(pe,0,ve-q),q=ve)}function w(ve,pe){for(;I<=ve&&(pe=S.exec(n));)I=(k=pe.index)+pe[0].length,P.lineNumber++;P.columnNumber=ve-k+1}for(var k=0,I=0,S=/.*(?:\r\n?|\n)|.*$/g,P=o.locator,U=[{currentNSMap:r}],M={},q=0;;){try{var V,W,Y=n.indexOf("<",q);if(Y<0)return n.substr(q).match(/^\s*$/)||(W=(V=o.doc).createTextNode(n.substr(q)),V.appendChild(W),o.currentElement=W);switch(q<Y&&g(Y),n.charAt(Y+1)){case"/":var He=n.indexOf(">",Y+3),se=n.substring(Y+2,He).replace(/[ \t\n\r]+$/g,""),ce=U.pop();He<0?(se=n.substring(Y+2).replace(/[\s<].*/,""),u.error("end tag name: "+se+" is not complete:"+ce.tagName),He=Y+1+se.length):se.match(/\s</)&&(se=se.replace(/[\s<].*/,""),u.error("end tag name: "+se+" maybe not complete"),He=Y+1+se.length);var Te=ce.localNSMap,ye=ce.tagName==se;if(ye||ce.tagName&&ce.tagName.toLowerCase()==se.toLowerCase()){if(o.endElement(ce.uri,ce.localName,se),Te)for(var Oe in Te)Object.prototype.hasOwnProperty.call(Te,Oe)&&o.endPrefixMapping(Oe);ye||u.fatalError("end tag name: "+se+" is not match the current start tagName:"+ce.tagName)}else U.push(ce);He++;break;case"?":P&&w(Y),lt=o,void 0,He=(je=(ve=n).indexOf("?>",pe=Y))&&(pe=ve.substring(pe,je).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/))?(lt.processingInstruction(pe[1],pe[2]),je+2):-1;break;case"!":P&&w(Y),He=function(ve,pe,lt,je){if("-"===ve.charAt(pe+2)){if("-"!==ve.charAt(pe+3))return-1;var yn=ve.indexOf("--\x3e",pe+4);return pe<yn?(lt.comment(ve,pe+4,yn-pe-4),yn+3):(je.error("Unclosed comment"),-1)}if("CDATA["==ve.substr(pe+3,6))return yn=ve.indexOf("]]>",pe+9),lt.startCDATA(),lt.characters(ve,pe+9,yn-pe-9),lt.endCDATA(),yn+3;var Xt=function(wn,Ae){var wt,vi=[],Qt=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(Qt.lastIndex=Ae,Qt.exec(wn);wt=Qt.exec(wn);)if(vi.push(wt),wt[1])return vi}(ve,pe);return 1<(je=Xt.length)&&/!doctype/i.test(Xt[0][0])?(yn=Xt[1][0],ve=!1,pe=!1,3<je&&(/^public$/i.test(Xt[2][0])?(ve=Xt[3][0],pe=4<je&&Xt[4][0]):/^system$/i.test(Xt[2][0])&&(pe=Xt[3][0])),je=Xt[je-1],lt.startDTD(yn,ve,pe),lt.endDTD(),je.index+je[0].length):-1}(n,Y,o,u);break;default:P&&w(Y);var Ee=new ic,vt=U[U.length-1].currentNSMap,Et=(He=function(ve,pe,lt,je,yn,Xt){function br(ja,$u,Ju){lt.attributeNames.hasOwnProperty(ja)&&Xt.fatalError("Attribute "+ja+" redefined"),lt.addValue(ja,$u.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,yn),Ju)}for(var wn,Ae=++pe,wt=0;;){var vi=ve.charAt(Ae);switch(vi){case"=":if(1===wt)wn=ve.slice(pe,Ae),wt=3;else{if(2!==wt)throw new Error("attribute equal must after attrName");wt=3}break;case"'":case'"':if(3===wt||1===wt){if(1===wt&&(Xt.warning('attribute value must after "="'),wn=ve.slice(pe,Ae)),!(0<(Ae=ve.indexOf(vi,pe=Ae+1))))throw new Error("attribute value no end '"+vi+"' match");br(wn,Qt=ve.slice(pe,Ae),pe-1),wt=5}else{if(4!=wt)throw new Error('attribute value must after "="');br(wn,Qt=ve.slice(pe,Ae),pe),Xt.warning('attribute "'+wn+'" missed start quot('+vi+")!!"),pe=Ae+1,wt=5}break;case"/":switch(wt){case 0:lt.setTagName(ve.slice(pe,Ae));case 5:case 6:case 7:wt=7,lt.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return Xt.error("unexpected end of input"),0==wt&&lt.setTagName(ve.slice(pe,Ae)),Ae;case">":switch(wt){case 0:lt.setTagName(ve.slice(pe,Ae));case 5:case 6:case 7:break;case 4:case 1:"/"===(Qt=ve.slice(pe,Ae)).slice(-1)&&(lt.closed=!0,Qt=Qt.slice(0,-1));case 2:2===wt&&(Qt=wn),4==wt?(Xt.warning('attribute "'+Qt+'" missed quot(")!'),br(wn,Qt,pe)):(ks.isHTML(je[""])&&Qt.match(/^(?:disabled|checked|selected)$/i)||Xt.warning('attribute "'+Qt+'" missed value!! "'+Qt+'" instead!!'),br(Qt,Qt,pe));break;case 3:throw new Error("attribute value missed!!")}return Ae;case"\x80":vi=" ";default:if(vi<=" ")switch(wt){case 0:lt.setTagName(ve.slice(pe,Ae)),wt=6;break;case 1:wn=ve.slice(pe,Ae),wt=2;break;case 4:var Qt=ve.slice(pe,Ae);Xt.warning('attribute "'+Qt+'" missed quot(")!!'),br(wn,Qt,pe);case 5:wt=6}else switch(wt){case 2:ks.isHTML(je[""])&&wn.match(/^(?:disabled|checked|selected)$/i)||Xt.warning('attribute "'+wn+'" missed value!! "'+wn+'" instead2!!'),br(wn,wn,pe),pe=Ae,wt=1;break;case 5:Xt.warning('attribute space is required"'+wn+'"!!');case 6:wt=1,pe=Ae;break;case 3:wt=4,pe=Ae;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}Ae++}}(n,Y,Ee,vt,m,u),Ee.length);if(!Ee.closed&&function(ve,pe,lt,je){var yn=je[lt];return null==yn&&((yn=ve.lastIndexOf("</"+lt+">"))<pe&&(yn=ve.lastIndexOf("</"+lt)),je[lt]=yn),yn<pe}(n,He,Ee.tagName,M)&&(Ee.closed=!0,s.nbsp||u.warning("unclosed xml attribute")),P&&Et){for(var bt=ec(P,{}),at=0;at<Et;at++){var ti=Ee[at];w(ti.offset),ti.locator=ec(P,{})}o.locator=bt,tc(Ee,o,vt)&&U.push(Ee),o.locator=P}else tc(Ee,o,vt)&&U.push(Ee);ks.isHTML(Ee.uri)&&!Ee.closed?He=function(ve,pe,lt,je,yn){if(/^(?:script|textarea)$/i.test(lt)){var Xt=ve.indexOf("</"+lt+">",pe);if(ve=ve.substring(pe+1,Xt),/[&<]/.test(ve))return/^script$/i.test(lt)||(ve=ve.replace(/&#?\w+;/g,je)),yn.characters(ve,0,ve.length),Xt}return pe+1}(n,He,Ee.tagName,m,o):He++}}catch(ve){if(ve instanceof Is)throw ve;u.error("element parse error: "+ve),He=-1}q<He?q=He:g(Math.max(Y,q)+1)}var ve,pe,lt,je}(t,a,i,e,this.errorHandler),e.endDocument()}},ic.prototype={setTagName:function(t){if(!Jl.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,a,i){if(!Jl.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:a,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};var mh=gr.DOMImplementation,rc=vs.NAMESPACE,gh=(Ii={XMLReader:Zl,ParseError:Is}).ParseError,yh=Ii.XMLReader;function ac(t){return t.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function sc(t){this.options=t||{locator:{}}}function Ms(){this.cdata=!1}function La(t,a){a.lineNumber=t.lineNumber,a.columnNumber=t.columnNumber}function oc(t,a,i){return"string"==typeof t?t.substr(a,i):t.length>=a+i||a?new java.lang.String(t,a,i)+"":t}function wo(t,a){(t.currentElement||t.doc).appendChild(a)}function uc(t){return!!t&&"object"==typeof t}function Gn(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return a.reduce(function(e,n){return"object"!=typeof n||Object.keys(n).forEach(function(r){e[r]=Array.isArray(e[r])&&Array.isArray(n[r])?e[r].concat(n[r]):uc(e[r])&&uc(n[r])?Gn(e[r],n[r]):n[r]}),e},{})}function lc(t){return Object.keys(t).map(function(a){return t[a]})}function xo(t){return t.reduce(function(a,i){return a.concat(i)},[])}function cc(t){if(!t.length)return[];for(var a=[],i=0;i<t.length;i++)a.push(t[i]);return a}function bu(t,a){for(var i=0;i<t.length;i++)if(a(t[i]))return i;return-1}function Ps(e){var a=e.baseUrl,n=void 0===(i=e.source)?"":i,i=void 0===(i=e.range)?"":i;return e=void 0===(e=e.indexRange)?"":e,n={uri:n,resolvedUri:ou((void 0===a?"":a)||"",n)},(i||e)&&(i=(i||e).split("-"),e=window.BigInt?window.BigInt(i[0]):parseInt(i[0],10),i=window.BigInt?window.BigInt(i[1]):parseInt(i[1],10),e<Number.MAX_SAFE_INTEGER&&"bigint"==typeof e&&(e=Number(e)),"bigint"==typeof(i="bigint"==typeof(i=i<Number.MAX_SAFE_INTEGER&&"bigint"==typeof i?Number(i):i)||"bigint"==typeof e?window.BigInt(i)-window.BigInt(e)+window.BigInt(1):i-e+1)&&i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),n.byterange={length:i,offset:e}),n}function dc(t){return t&&"number"!=typeof t&&(t=parseInt(t,10)),isNaN(t)?null:t}function _u(u){var a,i=u.type,e=u.duration,n=u.timescale,r=void 0===n?1:n,s=u.periodDuration,o=u.sourceDuration;return u=function(m,g){for(var w=[],k=m;k<g;k++)w.push(k);return w}((n=zh[i](u)).start,n.end).map((a=u,function(m){var g=a.duration,w=a.timescale,I=a.startNumber;return{number:(void 0===I?1:I)+m,duration:g/(void 0===w?1:w),timeline:a.periodStart,time:m*g}})),"static"===i&&(u[i=u.length-1].duration=("number"==typeof s?s:o)-e/r*i),u}function hc(t){var a=t.baseUrl,i=void 0===(u=t.initialization)?{}:u,e=t.sourceDuration,n=void 0===(o=t.indexRange)?"":o,r=t.periodStart,s=t.presentationTime,o=void 0===(u=t.number)?0:u,u=t.duration;if(!a)throw new Error(Bh);return i=Ps({baseUrl:a,source:i.sourceURL,range:i.range}),(n=Ps({baseUrl:a,source:a,indexRange:n})).map=i,u?(t=_u(t)).length&&(n.duration=t[0].duration,n.timeline=t[0].timeline):e&&(n.duration=e,n.timeline=r),n.presentationTime=s||r,n.number=o,[n]}function Tu(t,a,i){for(var e=t.sidx.map||null,n=t.sidx.duration,r=t.timeline||0,s=(s=t.sidx.byterange).offset+s.length,o=a.timescale,u=a.references.filter(function(V){return 1!==V.referenceType}),m=[],g=t.endList?"static":"dynamic",w=t.sidx.timeline,k=w,I=t.mediaSequence||0,S="bigint"==typeof a.firstOffset?window.BigInt(s)+a.firstOffset:s+a.firstOffset,P=0;P<u.length;P++){var U=(q=a.references[P]).referencedSize,M=q.subsegmentDuration,q=void 0;q=hc({baseUrl:i,timescale:o,timeline:r,periodStart:w,presentationTime:k,number:I,duration:M,sourceDuration:n,indexRange:S+"-"+(q="bigint"==typeof S?S+window.BigInt(U)-window.BigInt(1):S+U-1),type:g})[0],e&&(q.map=e),m.push(q),S+="bigint"==typeof S?window.BigInt(U):U,k+=M/o,I++}return t.segments=m,t}function pc(t){return a=function(i){return i.timeline},lc(t.reduce(function(i,e){return e.forEach(function(n){i[a(n)]=n}),i},{})).sort(function(i,e){return i.timeline>e.timeline?1:-1});var a}function fc(t){var a,i,e=[];return a=t,i=function(n,r,s,o){e=e.concat(n.playlists||[])},qh.forEach(function(n){for(var r in a.mediaGroups[n])for(var s in a.mediaGroups[n][r])i(a.mediaGroups[n][r][s])}),e}function mc(i){var a=i.playlist;a.mediaSequence=i=i.mediaSequence,a.segments.forEach(function(e,n){e.number=a.mediaSequence+n})}function So(t){return t&&t.uri+"-"+(t="bigint"==typeof(a=t.byterange).offset||"bigint"==typeof a.length?window.BigInt(a.offset)+window.BigInt(a.length)-window.BigInt(1):a.offset+a.length-1,a.offset+"-"+t);var a}function wu(t){return lc(t.reduce(function(a,i){var e,n=i.attributes.id+(i.attributes.lang||"");return a[n]?(i.segments&&(i.segments[0]&&(i.segments[0].discontinuity=!0),(e=a[n].segments).push.apply(e,i.segments)),i.attributes.contentProtection&&(a[n].attributes.contentProtection=i.attributes.contentProtection)):(a[n]=i,a[n].attributes.timelineStarts=[]),a[n].attributes.timelineStarts.push({start:i.attributes.periodStart,timeline:i.attributes.periodStart}),a},{})).map(function(a){return a.discontinuityStarts=(a.segments||[]).reduce(function(n,r,s){return r.discontinuity&&n.push(s),n},[]),a})}function xu(t,a){var i=So(t.sidx);return(i=i&&a[i]&&a[i].sidx)&&Tu(t,i,t.sidx.resolvedUri),t}function Th(t){var a=t.attributes,n=t.segments,i=t.sidx,e=t.discontinuityStarts;return n={attributes:((t={NAME:a.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:a.width,height:a.height},CODECS:a.codecs,BANDWIDTH:a.bandwidth})["PROGRAM-ID"]=1,t),uri:"",endList:"static"===a.type,timeline:a.periodStart,resolvedUri:"",targetDuration:a.duration,discontinuityStarts:e,timelineStarts:a.timelineStarts,segments:n},a.frameRate&&(n.attributes["FRAME-RATE"]=a.frameRate),a.contentProtection&&(n.contentProtection=a.contentProtection),i&&(n.sidx=i),n}function wh(t){return"video/mp4"===(t=t.attributes).mimeType||"video/webm"===t.mimeType||"video"===t.contentType}function xh(t){return"audio/mp4"===(t=t.attributes).mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType}function Sh(t){return"text/vtt"===(t=t.attributes).mimeType||"text"===t.contentType}function gc(t){return t?Object.keys(t).reduce(function(a,i){return a.concat((i=t[i]).playlists)},[]):[]}function yc(t,a){for(var n,r,s,o,u=t.type,m=t.minimumUpdatePeriod,g=void 0===m?0:m,w=void 0===(m=t.media)?"":m,k=t.sourceDuration,I=void 0===(m=t.timescale)?1:m,S=void 0===(m=t.startNumber)?1:m,P=t.periodStart,U=[],M=-1,q=0;q<a.length;q++){var ce,Te,V=a[q],W=V.d,Y=V.r||0,se=V.t||0;M<0&&(M=se),se&&M<se&&(M=se),Te=Y<0?(ce=q+1)===a.length?"dynamic"===u&&0<g&&0<w.indexOf("$Number$")?(V=void 0,n=(se=t).NOW,r=se.clientOffset,s=se.availabilityStartTime,o=se.timescale,V=se.periodStart,se=se.minimumUpdatePeriod,Math.ceil((((n+r)/1e3+(void 0===se?0:se)-(s+(void 0===V?0:V)))*(void 0===o?1:o)-M)/W)):(k*I-M)/W:(a[ce].t-M)/W:Y+1;for(var ye=S+U.length+Te,Oe=S+U.length;Oe<ye;)U.push({number:Oe,duration:W/I,time:M,timeline:P}),M+=W,Oe++}return U}function vc(t,a){return t.replace(Hh,(i=a,function(e,n,r,s){return"$$"===e?"$":typeof i[n]>"u"?e:(e=""+i[n],"RepresentationID"===n||(s=r?parseInt(s,10):1)<=e.length?e:new Array(s-e.length+1).join("0")+e)}));var i}function Eh(t,a){var i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},e=void 0===(e=t.initialization)?{sourceURL:"",range:""}:e,n=Ps({baseUrl:t.baseUrl,source:vc(e.sourceURL,i),range:e.range});return(e=a,(a=t).duration||e?a.duration?_u(a):yc(a,e):[{number:a.startNumber||1,duration:a.sourceDuration,time:0,timeline:a.periodStart}]).map(function(r){i.Number=r.number,i.Time=r.time;var s=vc(t.media||"",i),u=t.periodStart+(r.time-(t.presentationTimeOffset||0))/(u=t.timescale||1);return{uri:s,timeline:r.timeline,duration:r.duration,resolvedUri:ou(t.baseUrl||"",s),map:n,number:r.number,presentationTime:u}})}function Ch(t,a){var i=t.duration,e=void 0===(e=t.segmentUrls)?[]:e,n=t.periodStart;if(!i&&!a||i&&a)throw new Error(Uh);var r,s=e.map(function(o){return m=o,o=(u=t).baseUrl,u=Ps({baseUrl:o,source:(u=void 0===(u=u.initialization)?{}:u).sourceURL,range:u.range}),(m=Ps({baseUrl:o,source:m.media,range:m.mediaRange})).map=u,m;var u,m});return i&&(r=_u(t)),(r=a?yc(t,a):r).map(function(o,u){if(s[u]){var m=s[u],g=t.timescale||1;return u=t.presentationTimeOffset||0,m.timeline=o.timeline,m.duration=o.duration,m.number=o.number,m.presentationTime=n+(o.time-u)/g,m}}).filter(function(o){return o})}function Ah(s){var a,i=s.attributes,e=s.segmentInfo;e.template?(r=Eh,a=Gn(i,e.template)):e.base?(r=hc,a=Gn(i,e.base)):e.list&&(r=Ch,a=Gn(i,e.list));var r,n={attributes:i};return r?(s=r(a,e.segmentTimeline),a.duration=a.duration?(i=a.duration)/(void 0===(r=a.timescale)?1:r):s.length?s.reduce(function(o,u){return Math.max(o,Math.ceil(u.duration))},0):0,n.attributes=a,n.segments=s,e.base&&a.indexRange&&(n.sidx=s[0],n.segments=[]),n):n}function gn(t,a){return cc(t.childNodes).filter(function(i){return i.tagName===a})}function Su(t){return t.textContent.trim()}function Da(n){if(!(r=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(n)))return 0;var a=(s=r.slice(1))[0],i=s[1],e=s[2],r=(n=s[3],s[4]),s=s[5];return 31536e3*parseFloat(a||0)+2592e3*parseFloat(i||0)+86400*parseFloat(e||0)+3600*parseFloat(n||0)+60*parseFloat(r||0)+parseFloat(s||0)}function Xn(t){return t&&t.attributes?cc(t.attributes).reduce(function(a,i){return a[i.name]=(Sc[i.name]||Sc.DEFAULT)(i.value),a},{}):{}}function ko(t,a){return a.length?xo(t.map(function(i){return a.map(function(e){return ou(i,Su(e))})})):t}function ku(r){var a=gn(r,"SegmentTemplate")[0],i=gn(r,"SegmentList")[0],e=i&&gn(i,"SegmentURL").map(function(u){return Gn({tag:"SegmentURL"},Xn(u))}),n=gn(r,"SegmentBase")[0],s=(r=(s=i||a)&&gn(s,"SegmentTimeline")[0],(s=i||n||a)&&gn(s,"Initialization")[0]);(a=a&&Xn(a))&&s?a.initialization=s&&Xn(s):a&&a.initialization&&(a.initialization={sourceURL:a.initialization});var o={template:a,segmentTimeline:r&&gn(r,"S").map(Xn),list:i&&Gn(Xn(i),{segmentUrls:e,initialization:Xn(s)}),base:n&&Gn(Xn(n),{initialization:Xn(s)})};return Object.keys(o).forEach(function(u){o[u]||delete o[u]}),o}function bc(t){if(""===t)throw new Error(Nh);var a,i,e=new Lh;try{i=(a=e.parseFromString(t,"application/xml"))&&"MPD"===a.documentElement.tagName?a.documentElement:null}catch{}if(!i||i&&0<i.getElementsByTagName("parsererror").length)throw new Error(Rh);return i}function Ph(e,a){void 0===a&&(a={});var i=function Mh(u,n){var i=n=void 0===n?{}:n,e=void 0===(s=i.manifestUri)?"":s,r=(n=void 0===(r=i.NOW)?Date.now():r,void 0===(s=i.clientOffset)?0:s);if(!(i=gn(u,"Period")).length)throw new Error(Dh);var s=gn(u,"Location"),o=Xn(u);u=ko([e],gn(u,"BaseURL")),o.type=o.type||"static",o.sourceDuration=o.mediaPresentationDuration||0,o.NOW=n,o.clientOffset=r,s.length&&(o.locations=s.map(Su));var m,g,w=[];return i.forEach(function(k,I){var S,P=Xn(k),U=w[I-1];P.start=(I=(S={attributes:P,priorPeriodAttributes:U?U.attributes:null,mpdType:o.type}).attributes,U=S.priorPeriodAttributes,S=S.mpdType,"number"==typeof I.start?I.start:U&&"number"==typeof U.start&&"number"==typeof U.duration?U.start+U.duration:U||"static"!==S?null:0),w.push({node:k,attributes:P})}),{locations:o.locations,representationInfo:xo(w.map((m=o,g=u,function(M,I){var S=ko(g,gn(M.node,"BaseURL")),P=Gn(m,{periodStart:M.attributes.start});"number"==typeof M.attributes.duration&&(P.periodDuration=M.attributes.duration);var U=gn(M.node,"AdaptationSet");return M=ku(M.node),xo(U.map(function Ih(t,a,i){return function(g){var r=Xn(g),n=ko(a,gn(g,"BaseURL")),s={role:Xn(s=gn(g,"Role")[0])};r=Gn(t,r,s),(s="urn:scte:dash:cc:cea-608:2015"===(s=Xn(s=gn(g,"Accessibility")[0])).schemeIdUri?("string"!=typeof s.value?[]:s.value.split(";")).map(function(k){var I,S,P;return/^CC\d=/.test(P=k)?(S=(I=k.split("="))[0],P=I[1]):/^CC\d$/.test(k)&&(S=k),{channel:S,language:P}}):"urn:scte:dash:cc:cea-708:2015"===s.schemeIdUri?("string"!=typeof s.value?[]:s.value.split(";")).map(function(k){var I,S,P={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};return/=/.test(k)?(I=(S=k.split("="))[0],S=void 0===(S=S[1])?"":S,P.channel=I,P.language=k,S.split(",").forEach(function(M){M=(q=M.split(":"))[0];var q=q[1];"lang"===M?P.language=q:"er"===M?P.easyReader=Number(q):"war"===M?P.aspectRatio=Number(q):"3D"===M&&(P["3D"]=Number(q))})):P.language=k,P.channel&&(P.channel="SERVICE"+P.channel),P}):void 0)&&(r=Gn(r,{captionServices:s})),(s=gn(g,"Label")[0])&&s.childNodes.length&&(r=Gn(r,{label:w=s.childNodes[0].nodeValue.trim()}));var o,u,m,w=gn(g,"ContentProtection").reduce(function(k,I){var S=Xn(I);S.schemeIdUri&&(S.schemeIdUri=S.schemeIdUri.toLowerCase());var P=jh[S.schemeIdUri];return P&&(k[P]={attributes:S},(I=gn(I,"cenc:pssh")[0])&&(I=Su(I),k[P].pssh=I&&function ch(t){for(var a=window.atob?window.atob(t):Buffer.from(t,"base64").toString("binary"),i=new Uint8Array(a.length),e=0;e<a.length;e++)i[e]=a.charCodeAt(e);return i}(I))),k},{});return Object.keys(w).length&&(r=Gn(r,{contentProtection:w})),w=ku(g),g=gn(g,"Representation"),w=Gn(i,w),xo(g.map((o=r,u=n,m=w,function(k){var I=gn(k,"BaseURL"),S=(I=ko(u,I),Gn(o,Xn(k))),P=ku(k);return I.map(function(U){return{segmentInfo:Gn(m,P),attributes:Gn(S,{baseUrl:U})}})})))}}(P,S,M)))})))}}(bc(e),a);return function kh(o){var a=o.dashPlaylists,i=o.locations,I=void 0===(s=o.sidxMapping)?{}:s,e=o.previousManifest;if(!a.length)return{};var g,w,m=(u=a[0].attributes).sourceDuration,n=u.type,k=u.suggestedPresentationDelay,r=u.minimumUpdatePeriod,S=wu(a.filter(wh)).map(Th),s=wu(a.filter(xh)),u=(o=wu(a.filter(Sh)),a.map(function(P){return P.attributes.captionServices}).filter(Boolean));return m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((a={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},a.SUBTITLES={},a),uri:"",duration:m,playlists:function(P,U){if(void 0===U&&(U={}),!Object.keys(U).length)return P;for(var M in P)P[M]=xu(P[M],U);return P}(S,I)},0<=r&&(m.minimumUpdatePeriod=1e3*r),i&&(m.locations=i),"dynamic"===n&&(m.suggestedPresentationDelay=k),k=0===m.playlists.length,k=s.length?function _h(t,a,i){var e;return void 0===a&&(a={}),void 0===i&&(i=!1),t=t.reduce(function(n,r){var s=r.attributes.role&&r.attributes.role.value||"",o=r.attributes.lang||"",u=r.attributes.label||"main";n[u=o&&!r.attributes.label?r.attributes.lang+(s?" ("+s+")":""):u]||(n[u]={language:o,autoselect:!0,default:"main"===s,playlists:[],uri:""});var m,g,w,k,I,S,P=xu((g=i,w=(m=r).attributes,P=m.segments,k=m.sidx,I=m.mediaSequence,S=m.discontinuitySequence,o=m.discontinuityStarts,P={attributes:((m={NAME:w.id,BANDWIDTH:w.bandwidth,CODECS:w.codecs})["PROGRAM-ID"]=1,m),uri:"",endList:"static"===w.type,timeline:w.periodStart,resolvedUri:"",targetDuration:w.duration,discontinuitySequence:S,discontinuityStarts:o,timelineStarts:w.timelineStarts,mediaSequence:I,segments:P},w.contentProtection&&(P.contentProtection=w.contentProtection),k&&(P.sidx=k),g&&(P.attributes.AUDIO="audio",P.attributes.SUBTITLES="subs"),P),a);return n[u].playlists.push(P),typeof e>"u"&&"main"===s&&((e=r).default=!0),n},{}),e||(t[Object.keys(t)[0]].default=!0),t}(s,I,k):null,I=o.length?(void 0===(g=I)&&(g={}),o.reduce(function(P,U){var q,V,W,Y,se,ce,M=U.attributes.lang||"text";return P[M]||(P[M]={language:M,default:!1,autoselect:!1,playlists:[],uri:""}),P[M].playlists.push(xu((V=(q=U).attributes,Y=q.mediaSequence,se=q.discontinuityStarts,ce=q.discontinuitySequence,typeof(W=q.segments)>"u"&&(W=[{uri:V.baseUrl,timeline:V.periodStart,resolvedUri:V.baseUrl||"",duration:V.sourceDuration,number:0}],V.duration=V.sourceDuration),(q={NAME:V.id,BANDWIDTH:V.bandwidth})["PROGRAM-ID"]=1,V.codecs&&(q.CODECS=V.codecs),{attributes:q,uri:"",endList:"static"===V.type,timeline:V.periodStart,resolvedUri:V.baseUrl||"",targetDuration:V.duration,timelineStarts:V.timelineStarts,discontinuityStarts:se,discontinuitySequence:ce,mediaSequence:Y,segments:W}),g)),P},{})):null,S=(o=S.concat(gc(k),gc(I))).map(function(P){return P.timelineStarts}),m.timelineStarts=pc(S),w=m.timelineStarts,o.forEach(function(P){P.mediaSequence=0,P.discontinuitySequence=bu(w,function(U){return U.timeline===P.timeline}),P.segments&&P.segments.forEach(function(U,M){U.number=M})}),k&&(m.mediaGroups.AUDIO.audio=k),I&&(m.mediaGroups.SUBTITLES.subs=I),u.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=u.reduce(function(P,U){return U&&U.forEach(function(M){var V=M.language;P[V]={autoselect:!1,default:!1,instreamId:M.channel,language:V},M.hasOwnProperty("aspectRatio")&&(P[V].aspectRatio=M.aspectRatio),M.hasOwnProperty("easyReader")&&(P[V].easyReader=M.easyReader),M.hasOwnProperty("3D")&&(P[V]["3D"]=M["3D"])}),P},{})),e?function bh(s){var a,i,e=s.oldManifest,n=s.newManifest,r=e.playlists.concat(fc(e));return s=n.playlists.concat(fc(n)),n.timelineStarts=pc([e.timelineStarts,n.timelineStarts]),a=(r={oldPlaylists:r,newPlaylists:s,timelineStarts:n.timelineStarts}).oldPlaylists,i=r.timelineStarts,(s=r.newPlaylists).forEach(function(o){o.discontinuitySequence=bu(i,function(w){return w.timeline===o.timeline});var u=function(w,k){for(var I=0;I<w.length;I++)if(w[I].attributes.NAME===k)return w[I];return null}(a,o.attributes.NAME);if(u&&!o.sidx){var m=o.segments[0],g=bu(u.segments,function(w){return Math.abs(w.presentationTime-m.presentationTime)<1/60});if(-1===g)return mc({playlist:o,mediaSequence:u.mediaSequence+u.segments.length}),o.segments[0].discontinuity=!0,o.discontinuityStarts.unshift(0),void((!u.segments.length&&o.timeline>u.timeline||u.segments.length&&o.timeline>u.segments[u.segments.length-1].timeline)&&o.discontinuitySequence--);u.segments[g].discontinuity&&!m.discontinuity&&(m.discontinuity=!0,o.discontinuityStarts.unshift(0),o.discontinuitySequence--),mc({playlist:o,mediaSequence:u.segments[g].number})}}),n}({oldManifest:e,newManifest:m}):m}({dashPlaylists:e=i.representationInfo.map(Ah),locations:i.locations,sidxMapping:a.sidxMapping,previousManifest:a.previousManifest})}function Na(t,a){return void 0===a&&(a=0),(t=ke(t)).length-a<10||!Yt(t,Gh,{offset:a})?a:Na(t,a+=function(i,r){void 0===r&&(r=0);var n=(i=ke(i))[r+5];return r=i[r+6]<<21|i[r+7]<<14|i[r+8]<<7|i[r+9],(16&n)>>4?20+r:10+r}(t,a))}function _c(t){return"string"==typeof t?Tl(t):t}function Tc(t,a,i){var e;void 0===i&&(i=!1),e=a,a=Array.isArray(e)?e.map(_c):[_c(e)],t=ke(t);var n=[];if(!a.length)return n;for(var r=0;r<t.length;){var s=(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3])>>>0,o=t.subarray(r+4,r+8);if(0==s)break;var u=r+s;if(u>t.length){if(i)break;u=t.length}s=t.subarray(r+8,u),Yt(o,a[0])&&(1===a.length?n.push(s):n.push.apply(n,Tc(s,a.slice(1),i))),r=u}return n}function Eo(t,a,i,e){void 0===i&&(i=!0),void 0===e&&(e=!1);var n=function(s){for(var o=1,u=0;u<Au.length&&!(s&Au[u]);u++)o++;return o}(t[a]),r=t.subarray(a,a+n);return i&&((r=Array.prototype.slice.call(t,a,a+n))[0]^=Au[n-1]),{length:n,value:function(s,u){u=void 0!==(u=(m=void 0===u?{}:u).signed)&&u;var m,g=void 0!==(m=m.le)&&m;return m=((s=ke(s))[m=g?"reduce":"reduceRight"]||Array.prototype[m]).call(s,function(w,k,I){return I=g?I:Math.abs(I+1-s.length),w+zn(k)*uu[I]},zn(0)),!u||(u=uu[s.length]/zn(2)-zn(1))<(m=zn(m))&&(m-=u,m-=u,m-=zn(2)),Number(m)}(r,{signed:e}),bytes:r}}function Eu(t){return"string"==typeof t?t.match(/.{1,2}/g).map(Eu):"number"==typeof t?function th(t,a){for(var i=void 0!==(a=(void 0===a?{}:a).le)&&a,e=(a=t=zn(t="bigint"!=typeof t&&"number"!=typeof t||"number"==typeof t&&t!=t?0:t),Math.ceil(a.toString(2).length/8)),n=new Uint8Array(new ArrayBuffer(e)),r=0;r<e;r++){var s=i?r:Math.abs(r+1-n.length);n[s]=Number(t/uu[r]&zn(255)),t<0&&(n[s]=Math.abs(~n[s]),n[s]-=0===r?1:2)}return n}(t):t}function wc(t,a,i){if(i>=a.length)return a.length;var e=Eo(a,i,!1);if(Yt(t.bytes,e.bytes))return i;var n=Eo(a,i+e.length);return wc(t,a,i+n.length+n.value+e.length)}function Cu(t,a){var i;i=a,a=Array.isArray(i)?i.map(Eu):[Eu(i)],t=ke(t);var e=[];if(!a.length)return e;for(var n=0;n<t.length;){var r=Eo(t,n,!1),s=Eo(t,n+r.length),o=n+r.length+s.length;127===s.value&&(s.value=wc(r,t,o),s.value!==t.length&&(s.value-=o));var u=t.subarray(o,u=o+s.value>t.length?t.length:o+s.value);Yt(a[0],r.bytes)&&(1===a.length?e.push(u):e=e.concat(Cu(u,a.slice(1)))),n+=r.length+s.length+u.length}return e}function xc(t,a,i,e){void 0===e&&(e=1/0),t=ke(t),i=[].concat(i);for(var n,r=0,s=0;r<t.length&&(s<e||n);){var o=void 0;if(Yt(t.subarray(r),Xh)?o=4:Yt(t.subarray(r),Kh)&&(o=3),o){if(s++,n)return function(m){for(var g=[],w=1;w<m.length-2;)Yt(m.subarray(w,w+3),Yh)&&(g.push(w+2),w++),w++;if(0===g.length)return m;var k=m.length-g.length,I=new Uint8Array(k),S=0;for(w=0;w<k;S++,w++)S===g[0]&&(S++,g.shift()),I[w]=m[S];return I}(t.subarray(n,r));var u=void 0;"h264"===a?u=31&t[r+o]:"h265"===a&&(u=t[r+o]>>1&63),-1!==i.indexOf(u)&&(n=r+o),r+=o+("h264"===a?1:2)}else r++}return t.subarray(0,0)}sc.prototype.parseFromString=function(t,m){var i=this.options,e=new yh,n=i.domBuilder||new Ms,r=i.errorHandler,s=i.locator,o=i.xmlns||{},u=/\/x?html?$/.test(m);return m=u?Ss.HTML_ENTITIES:Ss.XML_ENTITIES,s&&n.setDocumentLocator(s),e.errorHandler=function(g,w,k){if(!g){if(w instanceof Ms)return w;g=w}var I={},S=g instanceof Function;function P(U){var M=g[U];!M&&S&&(M=2==g.length?function(q){g(U,q)}:g),I[U]=M?function(q){M("[xmldom "+U+"]\t"+q+function vh(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}(k))}:function(){}}return k=k||{},P("warning"),P("error"),P("fatalError"),I}(r,n,s),e.domBuilder=i.domBuilder||n,u&&(o[""]=rc.HTML),o.xml=o.xml||rc.XML,i=i.normalizeLineEndings||ac,t&&"string"==typeof t?e.parse(i(t),o,m):e.errorHandler.error("invalid doc source"),n.doc},Ms.prototype={startDocument:function(){this.doc=(new mh).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,a,i,e){var n=this.doc,r=n.createElementNS(t,i||a),s=e.length;wo(this,r),this.currentElement=r,this.locator&&La(this.locator,r);for(var o=0;o<s;o++){t=e.getURI(o);var u=e.getValue(o),m=(i=e.getQName(o),n.createAttributeNS(t,i));this.locator&&La(e.getLocator(o),m),m.value=m.nodeValue=u,r.setAttributeNode(m)}},endElement:function(t,a,i){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(t,a){},endPrefixMapping:function(t){},processingInstruction:function(t,a){a=this.doc.createProcessingInstruction(t,a),this.locator&&La(this.locator,a),wo(this,a)},ignorableWhitespace:function(t,a,i){},characters:function(t,a,i){var e;(t=oc.apply(this,arguments))&&(e=this.cdata?this.doc.createCDATASection(t):this.doc.createTextNode(t),this.currentElement?this.currentElement.appendChild(e):/^\s*$/.test(t)&&this.doc.appendChild(e),this.locator&&La(this.locator,e))},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,a,i){t=oc.apply(this,arguments),t=this.doc.createComment(t),this.locator&&La(this.locator,t),wo(this,t)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,a,i){var e=this.doc.implementation;e&&e.createDocumentType&&(i=e.createDocumentType(t,a,i),this.locator&&La(this.locator,i),wo(this,i),this.doc.doctype=i)},warning:function(t){},error:function(t){},fatalError:function(t){throw new gh(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Ms.prototype[t]=function(){return null}});var Lh=sc,Dh="INVALID_NUMBER_OF_PERIOD",Nh="DASH_EMPTY_MANIFEST",Rh="DASH_INVALID_XML",Bh="NO_BASE_URL",Uh="SEGMENT_TIME_UNSPECIFIED",zh={static:function(n){var r=void 0===(e=n.timescale)?1:e,i=n.sourceDuration,e=n.periodDuration;return r=n.duration/r,"number"==typeof(n=dc(n.endNumber))?{start:0,end:n}:"number"==typeof e?{start:0,end:e/r}:{start:0,end:i/r}},dynamic:function(n){var a=n.NOW,r=n.clientOffset,i=n.availabilityStartTime,e=void 0===(u=n.timescale)?1:u,m=n.duration,s=void 0===(o=n.periodStart)?0:o,o=void 0===(u=n.minimumUpdatePeriod)?0:u,u=void 0===(u=n.timeShiftBufferDepth)?1/0:u;return n=dc(n.endNumber),r=(a+r)/1e3,s=i+s,o=Math.ceil((r+o-s)*e/m),u=Math.floor((r-s-u)*e/m),m=Math.floor((r-s)*e/m),{start:Math.max(0,u),end:"number"==typeof n?n:Math.min(o,m)}}},qh=["AUDIO","SUBTITLES"],Hh=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Sc={mediaPresentationDuration:Da,availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)/1e3},minimumUpdatePeriod:Da,suggestedPresentationDelay:Da,type:function(t){return t},timeShiftBufferDepth:Da,start:Da,width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},frameRate:function(t){return parseFloat(t.split("/").reduce(function(a,i){return a/i}))},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},presentationTimeOffset:function(t){return parseInt(t,10)},duration:function(t){var a=parseInt(t,10);return isNaN(a)?Da(t):a},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},jh={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Vh=Math.pow(2,32),kc=function(t){var a=new DataView(t.buffer,t.byteOffset,t.byteLength);return a.getBigUint64?(t=a.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:a.getUint32(0)*Vh+a.getUint32(4)},Gh=ke([73,68,51]),Co={EBML:ke([26,69,223,163]),DocType:ke([66,130]),Segment:ke([24,83,128,103]),SegmentInfo:ke([21,73,169,102]),Tracks:ke([22,84,174,107]),Track:ke([174]),TrackNumber:ke([215]),DefaultDuration:ke([35,227,131]),TrackEntry:ke([174]),TrackType:ke([131]),FlagDefault:ke([136]),CodecID:ke([134]),CodecPrivate:ke([99,162]),VideoTrack:ke([224]),AudioTrack:ke([225]),Cluster:ke([31,67,182,117]),Timestamp:ke([231]),TimestampScale:ke([42,215,177]),BlockGroup:ke([160]),BlockDuration:ke([155]),Block:ke([161]),SimpleBlock:ke([163])},Au=[128,64,32,16,8,4,2,1],Xh=ke([0,0,0,1]),Kh=ke([0,0,1]),Yh=ke([0,0,3]),ei={webm:ke([119,101,98,109]),matroska:ke([109,97,116,114,111,115,107,97]),flac:ke([102,76,97,67]),ogg:ke([79,103,103,83]),ac3:ke([11,119]),riff:ke([82,73,70,70]),avi:ke([65,86,73]),wav:ke([87,65,86,69]),"3gp":ke([102,116,121,112,51,103]),mp4:ke([102,116,121,112]),fmp4:ke([115,116,121,112]),mov:ke([102,116,121,112,113,116]),moov:ke([109,111,111,118]),moof:ke([109,111,111,102])},Ra={aac:function(t){return Yt(t,[255,16],{offset:Na(t),mask:[255,22]})},mp3:function(t){return Yt(t,[255,2],{offset:Na(t),mask:[255,6]})},webm:function(t){return Yt(t=Cu(t,[Co.EBML,Co.DocType])[0],ei.webm)},mkv:function(t){return Yt(t=Cu(t,[Co.EBML,Co.DocType])[0],ei.matroska)},mp4:function(t){return!Ra["3gp"](t)&&!Ra.mov(t)&&(!(!Yt(t,ei.mp4,{offset:4})&&!Yt(t,ei.fmp4,{offset:4}))||!(!Yt(t,ei.moof,{offset:4})&&!Yt(t,ei.moov,{offset:4}))||void 0)},mov:function(t){return Yt(t,ei.mov,{offset:4})},"3gp":function(t){return Yt(t,ei["3gp"],{offset:4})},ac3:function(t){var a=Na(t);return Yt(t,ei.ac3,{offset:a})},ts:function(t){if(t.length<189&&1<=t.length)return 71===t[0];for(var a=0;a+188<t.length&&a<188;){if(71===t[a]&&71===t[a+188])return!0;a+=1}return!1},flac:function(t){var a=Na(t);return Yt(t,ei.flac,{offset:a})},ogg:function(t){return Yt(t,ei.ogg)},avi:function(t){return Yt(t,ei.riff)&&Yt(t,ei.avi,{offset:8})},wav:function(t){return Yt(t,ei.riff)&&Yt(t,ei.wav,{offset:8})},h264:function(t){return xc(t,"h264",7,3).length},h265:function(t){return xc(t,"h265",[32,33],3).length}},Iu=Object.keys(Ra).filter(function(t){return"ts"!==t&&"h264"!==t&&"h265"!==t}).concat(["ts","h264","h265"]);function Mu(t){t=ke(t);for(var a=0;a<Iu.length;a++){var i=Iu[a];if(Qh[i](t))return i}return""}Iu.forEach(function(t){var a=Ra[t];Ra[t]=function(i){return a(ke(i))}});var Qh=Ra,Ao=9e4,$h=Zt(function(t){function a(i){return t.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(i)}t.exports=a});function Io(t,a,i){return t&&i&&i.responseURL&&a!==i.responseURL?i.responseURL:a}function zi(t){return H.log.debug?H.log.debug.bind(H,"VHS:",t+" >"):function(){}}function Ec(t,a){var i,e=[];if(t&&t.length)for(i=0;i<t.length;i++)a(t.start(i),t.end(i))&&e.push([t.start(i),t.end(i)]);return H.createTimeRanges(e)}function Ba(t,a){return Ec(t,function(i,e){return i-.1<=a&&a<=e+.1})}function Mo(t,a){return Ec(t,function(i){return a<=i-ta})}function Cc(t){var a=[];if(!t||!t.length)return"";for(var i=0;i<t.length;i++)a.push(t.start(i)+" => "+t.end(i));return a.join(", ")}function ea(t){for(var a=[],i=0;i<t.length;i++)a.push({start:t.start(i),end:t.end(i)});return a}function Ac(t){if(t&&t.length&&t.end)return t.end(t.length-1)}function Pu(t,a){var i=0;if(!t||!t.length)return i;for(var e=0;e<t.length;e++){var n=t.start(e),r=t.end(e);r<a||(i+=n<a&&a<=r?r-a:r-n)}return i}function Ou(t,a){if(!a.preload)return a.duration;var i=0;return(a.parts||[]).forEach(function(e){i+=e.duration}),(a.preloadHints||[]).forEach(function(e){"PART"===e.type&&(i+=t.partTargetDuration)}),i}function Lu(t){return(t.segments||[]).reduce(function(a,i,e){return i.parts?i.parts.forEach(function(n,r){a.push({duration:n.duration,segmentIndex:e,partIndex:r,part:n,segment:i})}):a.push({duration:i.duration,segmentIndex:e,partIndex:null,segment:i,part:null}),a},[])}function Ic(t){return(t=t.segments&&t.segments.length&&t.segments[t.segments.length-1])&&t.parts||[]}function Mc(t){var a=t.preloadSegment;if(a)return t=a.parts,(a=(a.preloadHints||[]).reduce(function(i,e){return i+("PART"===e.type?1:0)},0))+(t&&t.length?t.length:0)}function Pc(t,a){return a.endList?0:t&&t.suggestedPresentationDelay?t.suggestedPresentationDelay:(t=0<Ic(a).length)&&a.serverControl&&a.serverControl.partHoldBack?a.serverControl.partHoldBack:t&&a.partTargetDuration?3*a.partTargetDuration:a.serverControl&&a.serverControl.holdBack?a.serverControl.holdBack:a.targetDuration?3*a.targetDuration:0}function Oc(t,a,i){if((a=typeof a>"u"?t.mediaSequence+t.segments.length:a)<t.mediaSequence)return 0;var e=function(n,r){var s=0,o=r-n.mediaSequence,u=n.segments[o];if(u){if(typeof u.start<"u")return{result:u.start,precise:!0};if(typeof u.end<"u")return{result:u.end-u.duration,precise:!0}}for(;o--;){if(typeof(u=n.segments[o]).end<"u")return{result:s+u.end,precise:!0};if(s+=Ou(n,u),typeof u.start<"u")return{result:s+u.start,precise:!0}}return{result:s,precise:!1}}(t,a);return e.precise?e.result:(a=function(n,r){for(var s,o=0,u=r-n.mediaSequence;u<n.segments.length;u++){if(typeof(s=n.segments[u]).start<"u")return{result:s.start-o,precise:!0};if(o+=Ou(n,s),typeof s.end<"u")return{result:s.end-o,precise:!0}}return{result:-1,precise:!1}}(t,a)).precise?a.result:e.result+i}function Lc(t,a,i){if(!t)return 0;if("number"!=typeof i&&(i=0),typeof a>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return window.Infinity}return Oc(t,a,i)}function Os(t){var a=t.defaultDuration,i=t.durationList,e=t.startIndex,n=t.endIndex,r=0;if(n<e&&(e=(t=[n,e])[0],n=t[1]),e<0){for(var s=e;s<Math.min(0,n);s++)r+=a;e=0}for(var o=e;o<n;o++)r+=i[o].duration;return r}function Dc(t,a,i,e){return t&&t.segments?t.endList?Lc(t):null===a?null:(a=Oc(t,t.mediaSequence+t.segments.length,a=a||0),i&&(a-=e="number"==typeof e?e:Pc(null,t)),Math.max(0,a)):null}function Nc(t){return t.excludeUntil&&t.excludeUntil>Date.now()}function Du(t){return t.excludeUntil&&t.excludeUntil===1/0}function Po(t){var a=Nc(t);return!t.disabled&&!a}function Rc(t,a){return a.attributes&&a.attributes[t]}function Nu(t,a){if(1===t.playlists.length)return!0;var i=a.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(e){return!!Po(e)&&(e.attributes.BANDWIDTH||0)<i}).length}function Ru(t,a){return!(!t&&!a||!t&&a||t&&!a||t!==a&&(!t.id||!a.id||t.id!==a.id)&&(!t.resolvedUri||!a.resolvedUri||t.resolvedUri!==a.resolvedUri)&&(!t.uri||!a.uri||t.uri!==a.uri))}function Bc(t,a){var i,e=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{},n=!1;for(i in e){for(var r in e[i])if(n=a(e[i][r]))break;if(n)break}return!!n}function Ls(t){if(!t||!t.playlists||!t.playlists.length)return Bc(t,function(e){return e.playlists&&e.playlists.length||e.uri});for(var a=0;a<t.playlists.length;a++){var i=function(r){var n=t.playlists[r];return(r=n.attributes&&n.attributes.CODECS)&&r.split(",").every(fo)||Bc(t,function(s){return Ru(n,s)})?"continue":{v:!1}}(a);if("continue"!==i&&"object"==typeof i)return i.v}return!0}function Bu(t,a){return t+"-"+a}function Jh(t,a,i){return"placeholder-uri-"+t+"-"+a+"-"+i}function Ua(t,a){t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(function(i){if(t.mediaGroups[i])for(var e in t.mediaGroups[i])for(var n in t.mediaGroups[i][e])a(t.mediaGroups[i][e][n],i,e,n)})}function Uc(e){var a=e.playlist,i=e.uri;a.id=e=e.id,a.playlistErrors_=0,i&&(a.uri=i),a.attributes=a.attributes||{}}function Fc(t,a,i){void 0===i&&(i=Jh),t.uri=a;for(var e=0;e<t.playlists.length;e++)t.playlists[e].uri||(t.playlists[e].uri="placeholder-uri-"+e);var n,r=Ls(t);Ua(t,function(s,o,u,m){if(!s.playlists||!s.playlists.length){if(r&&"AUDIO"===o&&!s.uri)for(var g=0;g<t.playlists.length;g++){var w=t.playlists[g];if(w.attributes&&w.attributes.AUDIO&&w.attributes.AUDIO===u)return}s.playlists=[Dt({},s)]}s.playlists.forEach(function(k,I){var S=i(o,u,m,k),P=Bu(I,S);k.uri?k.resolvedUri=k.resolvedUri||qi(t.uri,k.uri):(k.uri=0===I?S:P,k.resolvedUri=k.uri),k.id=k.id||P,k.attributes=k.attributes||{},t.playlists[k.id]=k,t.playlists[k.uri]=k})}),function(s){for(var o=s.playlists.length;o--;){var u=s.playlists[o];Uc({playlist:u,id:Bu(o,u.uri)}),u.resolvedUri=qi(s.uri,u.uri),s.playlists[u.id]=u,(s.playlists[u.uri]=u).attributes.BANDWIDTH||pd.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(t),Ua(n=t,function(s){s.uri&&(s.resolvedUri=qi(n.uri,s.uri))})}function zc(t,a){!t.resolvedUri&&t.uri&&(t.resolvedUri=qi(a,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=qi(a,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=qi(a,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=qi(a,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=qi(a,i.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=qi(a,i.uri))})}function qc(t){var a=t.segments||[],i=t.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints)for(var e=0;e<i.preloadHints.length;e++)if("MAP"===i.preloadHints[e].type)return a;i.duration=t.targetDuration,i.preload=!0,a.push(i)}return a}function Hc(t,a){return t===a||t.segments&&a.segments&&t.segments.length===a.segments.length&&t.endList===a.endList&&t.mediaSequence===a.mediaSequence&&t.preloadSegment===a.preloadSegment}function Uu(t,a,i){void 0===i&&(i=Hc);var e=Ro(t,{}),n=e.playlists[a.id];if(!n||i(n,a))return null;a.segments=qc(a);var r=Ro(n,a);if(r.preloadSegment&&!a.preloadSegment&&delete r.preloadSegment,n.segments){if(a.skip){a.segments=a.segments||[];for(var s=0;s<a.skip.skippedSegments;s++)a.segments.unshift({skipped:!0})}r.segments=function Zh(t,a,i){var e=t.slice(),n=a.slice();i=i||0;for(var r,s=[],o=0;o<n.length;o++){var u=e[o+i],m=n[o];u?(r=u.map||r,s.push(function(g,w){if(!g)return w;var k=Ro(g,w);if(g.preloadHints&&!w.preloadHints&&delete k.preloadHints,g.parts&&!w.parts)delete k.parts;else if(g.parts&&w.parts)for(var I=0;I<w.parts.length;I++)g.parts&&g.parts[I]&&(k.parts[I]=Ro(g.parts[I],w.parts[I]));return!g.skipped&&w.skipped&&(k.skipped=!1),g.preload&&!w.preload&&(k.preload=!1),k}(u,m))):(r&&!m.map&&(m.map=r),s.push(m))}return s}(n.segments,a.segments,a.mediaSequence-n.mediaSequence)}r.segments.forEach(function(u){zc(u,r.resolvedUri)});for(var o=0;o<e.playlists.length;o++)e.playlists[o].id===a.id&&(e.playlists[o]=r);return e.playlists[a.id]=r,e.playlists[a.uri]=r,Ua(t,function(u,m,g,w){if(u.playlists)for(var k=0;k<u.playlists.length;k++)a.id===u.playlists[k].id&&(u.playlists[k]=r)}),e}function Fu(t,a){var i=t.segments||[],e=(i=(e=i[i.length-1])&&e.parts&&e.parts[e.parts.length-1])&&i.duration||e&&e.duration;return a&&e?1e3*e:500*(t.partTargetDuration||t.targetDuration||10)}function zu(t,a,i,e){var n="arraybuffer"===t.responseType?t.response:t.responseText;!a&&n&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=n.byteLength||n.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),i.headers&&(t.responseHeaders=i.headers),a&&"ETIMEDOUT"===a.code&&(t.timedout=!0),e(a=a||t.aborted||200===i.statusCode||206===i.statusCode||0===i.statusCode?a:new Error("XHR Failed with a response of: "+(t&&(n||t.responseText))),t)}function jc(){function t(a,i){a=y0({timeout:45e3},a);var e=t.beforeRequest||H.Vhs.xhr.beforeRequest;!e||"function"!=typeof e||(e=e(a))&&(a=e);var n=(!0===H.Vhs.xhr.original?g0:H.Vhs.xhr)(a,function(s,o){return zu(n,s,o,i)}),r=n.abort;return n.abort=function(){return n.aborted=!0,r.apply(n,arguments)},n.uri=a.uri,n.requestTime=Date.now(),n}return t.original=!0,t}function qu(t){var a,i={};return t.byterange&&(i.Range="bytes="+(t=(a=t.byterange).offset)+"-"+(a="bigint"==typeof a.offset||"bigint"==typeof a.length?window.BigInt(a.offset)+window.BigInt(a.length)-window.BigInt(1):a.offset+a.length-1)),i}function e0(t,a){return t=t.toString(16),"00".substring(0,2-t.length)+t+(a%2?" ":"")}function t0(t){return 32<=t&&t<126?String.fromCharCode(t):"."}function Vc(t){var a={};return Object.keys(t).forEach(function(i){var e=t[i];a[i]=ys(e)?{bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:e}),a}function Oo(t){var a=t.byterange||{length:1/0,offset:0};return[a.length,a.offset,t.resolvedUri].join(",")}function Wc(t){return t.resolvedUri}function Gc(t){for(var a=Array.prototype.slice.call(t),i="",e=0;e<a.length/16;e++)i+=a.slice(16*e,16*e+16).map(e0).join("")+" "+a.slice(16*e,16*e+16).map(t0).join("")+"\n";return i}function Xc(t){var a=t.programTime,i=t.playlist,e=t.retryCount,n=void 0===e?2:e,r=t.seekTo,s=t.pauseAfterSeek,o=void 0===s||s,u=t.tech,m=t.callback;if(!m)throw new Error("seekToProgramTime: callback must be provided");return typeof a<"u"&&i&&r?i.endList||u.hasStarted_?function(g){if(!g.segments||0===g.segments.length)return!1;for(var w=0;w<g.segments.length;w++)if(!g.segments[w].dateTimeObject)return!1;return!0}(i)?(e=function(U,w){var k;try{k=new Date(U)}catch{return null}if(!w||!w.segments||0===w.segments.length||k<(S=w.segments[0]).dateTimeObject)return null;for(var I=0;I<w.segments.length-1;I++){var S=w.segments[I];if(k<w.segments[I+1].dateTimeObject)break}var P=w.segments[w.segments.length-1],M=(U=P.dateTimeObject,P.videoTimingInfo?(M=P.videoTimingInfo).transmuxedPresentationEnd-M.transmuxedPresentationStart-M.transmuxerPrependedSeconds:P.duration+.25*P.duration);return new Date(U.getTime()+1e3*M)<k?null:{segment:S=U<k?P:S,estimatedStart:S.videoTimingInfo?S.videoTimingInfo.transmuxedPresentationStart:hi.duration(w,w.mediaSequence+w.segments.indexOf(S)),type:S.videoTimingInfo?"accurate":"estimate"}}(a,i))?(t=function(g,w){var k;try{I=new Date(g),k=new Date(w)}catch{}var I=I.getTime();return(k.getTime()-I)/1e3}((s=e.segment).dateTimeObject,a),"estimate"===e.type?0===n?m({message:a+" is not buffered yet. Try again"}):(r(e.estimatedStart+t),void u.one("seeked",function(){Xc({programTime:a,playlist:i,retryCount:n-1,seekTo:r,pauseAfterSeek:o,tech:u,callback:m})})):(t=s.start+t,u.one("seeked",function(){return m(null,u.currentTime())}),o&&u.pause(),void r(t))):m({message:a+" was not found in the stream"}):m({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri}):m({message:"player must be playing a live stream to start buffering"}):m({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"})}function Yc(t,a){if(!Hc(t,a)||t.sidx&&a.sidx&&(t.sidx.offset!==a.sidx.offset||t.sidx.length!==a.sidx.length)||!t.sidx&&a.sidx||t.sidx&&!a.sidx||t.segments&&!a.segments||!t.segments&&a.segments)return!1;if(!t.segments&&!a.segments)return!0;for(var i=0;i<t.segments.length;i++){var e=t.segments[i],n=a.segments[i];if(e.uri!==n.uri||(e.byterange||n.byterange)&&(n=n.byterange,(e=e.byterange)&&!n||!e&&n||e.offset!==n.offset||e.length!==n.length))return!1}return!0}function r0(t,a,i,e){return"placeholder-uri-"+t+"-"+a+"-"+(e.attributes.NAME||i)}function Qc(t,a){var i,e={};for(i in t){var n=t[i].sidx;if(n){var r=So(n);if(!a[r])break;var s=a[r].sidxInfo;(Boolean(!s.map&&!n.map)||Boolean(s.map&&n.map&&s.map.byterange.offset===n.map.byterange.offset&&s.map.byterange.length===n.map.byterange.length))&&s.uri===n.uri&&s.byterange.offset===n.byterange.offset&&s.byterange.length===n.byterange.length&&(e[r]=a[r])}}return e}function $c(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t}function Jc(t){var a=t.transmuxer,i=t.bytes,e=t.audioAppendStart,n=t.gopsToAlignWith,r=t.remux,s=t.onData,o=t.onTrackInfo,u=t.onAudioTimingInfo,m=t.onVideoTimingInfo,g=t.onVideoSegmentTimingInfo,w=t.onAudioSegmentTimingInfo,k=t.onId3,I=t.onCaptions,S=t.onDone,P=t.onEndedTimeline,U=t.onTransmuxerLog,M=t.isEndOfTimeline,q={buffer:[]},V=M;a.onmessage=function(W){var Y,se,Te,ye,Oe,Ee,vt,He,Et,bt;a.currentTransmux===t&&("data"===W.data.action&&(Te=s,ye=(bt=(se=W).data.segment).type,Oe=bt.initSegment,Ee=bt.captions,vt=bt.captionStreams,He=bt.metadata,Et=bt.videoFrameDtsTime,bt=bt.videoFramePtsTime,q.buffer.push({captions:Ee,captionStreams:vt,metadata:He}),se=se.data.segment.boxes||{data:se.data.segment.data},Oe={type:ye,data:new Uint8Array(se.data,se.data.byteOffset,se.data.byteLength),initSegment:new Uint8Array(Oe.data,Oe.byteOffset,Oe.byteLength)},typeof Et<"u"&&(Oe.videoFrameDtsTime=Et),typeof bt<"u"&&(Oe.videoFramePtsTime=bt),Te(Oe)),"trackinfo"===W.data.action&&o(W.data.trackInfo),"gopInfo"===W.data.action&&(q.gopInfo=W.data.gopInfo),"audioTimingInfo"===W.data.action&&u(W.data.audioTimingInfo),"videoTimingInfo"===W.data.action&&m(W.data.videoTimingInfo),"videoSegmentTimingInfo"===W.data.action&&g(W.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===W.data.action&&w(W.data.audioSegmentTimingInfo),"id3Frame"===W.data.action&&k([W.data.id3Frame],W.data.id3Frame.dispatchType),"caption"===W.data.action&&I(W.data.caption),"endedtimeline"===W.data.action&&(V=!1,P()),"log"===W.data.action&&U(W.data.log),"transmuxed"===W.data.type&&(V||(a.onmessage=null,W=(Y={transmuxedData:q,callback:S}).transmuxedData,Y=Y.callback,W.buffer=[],Y(W),md(a))))},e&&a.postMessage({action:"setAudioAppendStart",appendStart:e}),Array.isArray(n)&&a.postMessage({action:"alignGopsWith",gopsToAlignWith:n}),typeof r<"u"&&a.postMessage({action:"setRemux",remux:r}),i.byteLength&&(n=i instanceof ArrayBuffer?i:i.buffer,r=i instanceof ArrayBuffer?0:i.byteOffset,a.postMessage({action:"push",data:n,byteOffset:r,byteLength:i.byteLength},[n])),M&&a.postMessage({action:"endTimeline"}),a.postMessage({action:"flush"})}function Zc(t,a){t.postMessage({action:a}),md(t)}function Lo(t){var a=t.transmuxer,i=t.endAction||t.action,e=t.callback,n=Dt({},t,{endAction:null,transmuxer:null,callback:null}),r=function s(o){o.data.action===i&&(a.removeEventListener("message",s),o.data.data&&(o.data.data=new Uint8Array(o.data.data,t.byteOffset||0,t.byteLength||o.data.data.byteLength),t.data&&(t.data=o.data.data)),e(o.data))};a.addEventListener("message",r),t.data?(r=t.data instanceof ArrayBuffer,n.byteOffset=r?0:t.data.byteOffset,n.byteLength=t.data.byteLength,a.postMessage(n,r=[r?t.data:t.data.buffer])):a.postMessage(n)}function Hu(t){t.forEach(function(a){a.abort()})}function ju(t,a){return a.timedout?{status:a.status,message:"HLS request timed-out at URL: "+a.uri,code:Gu,xhr:a}:a.aborted?{status:a.status,message:"HLS request aborted at URL: "+a.uri,code:Xu,xhr:a}:t?{status:a.status,message:"HLS request errored at URL: "+a.uri,code:Bo,xhr:a}:"arraybuffer"===a.responseType&&0===a.response.byteLength?{status:a.status,message:"Empty HLS response at URL: "+a.uri,code:Bo,xhr:a}:null}function ed(t,a,i){return function(s,n){var r=n.response;if(s=ju(s,n))return i(s,t);if(16!==r.byteLength)return i({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:Bo,xhr:n},t);r=new DataView(r);for(var o=new Uint32Array([r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12)]),u=0;u<a.length;u++)a[u].bytes=o;return i(null,t)}}function td(t,a){var i=Mu(t.map.bytes);if("mp4"!==i)return a({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+(t.map.resolvedUri||t.map.uri),code:Bo});Lo({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:function(s){var r=s.tracks;return t.map.bytes=s=s.data,r.forEach(function(o){t.map.tracks=t.map.tracks||{},t.map.tracks[o.type]||"number"==typeof(t.map.tracks[o.type]=o).id&&o.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[o.id]=o.timescale)}),a(null)}})}function nd(t){var a=t.segment,i=t.bytes,e=t.trackInfoFn,n=t.timingInfoFn,r=t.videoSegmentTimingInfoFn,s=t.audioSegmentTimingInfoFn,o=t.id3Fn,u=t.captionsFn,m=t.isEndOfTimeline,g=t.endedTimelineFn,w=t.dataFn,k=t.doneFn,I=t.onTransmuxerLog,S=new Uint8Array(i);if(0<Tc(S,["moof"]).length){a.isFmp4=!0;var P=a.map.tracks,U={isFmp4:!0,hasVideo:!!P.video,hasAudio:!!P.audio};P.audio&&P.audio.codec&&"enca"!==P.audio.codec&&(U.audioCodec=P.audio.codec),P.video&&P.video.codec&&"encv"!==P.video.codec&&(U.videoCodec=P.video.codec),P.video&&P.audio&&(U.isMuxed=!0),e(a,U);var M=function(q){w(a,{data:S,type:U.hasAudio&&!U.isMuxed?"audio":"video"}),q&&q.length&&u(a,q),k(null,a,{})};Lo({action:"probeMp4StartTime",timescales:a.map.timescales,data:S,transmuxer:a.transmuxer,callback:function(W){var V=W.data;W=W.startTime,i=V.buffer,a.bytes=S=V,U.hasAudio&&!U.isMuxed&&n(a,"audio","start",W),U.hasVideo&&n(a,"video","start",W),P.video&&V.byteLength&&a.transmuxer?Lo({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:a.transmuxer,data:S,timescales:a.map.timescales,trackIds:[P.video.id],callback:function(Y){i=Y.data.buffer,a.bytes=S=Y.data,Y.logs.forEach(function(se){I(H.mergeOptions(se,{stream:"mp4CaptionParser"}))}),M(Y.captions)}}):M()}})}else if(a.transmuxer){if(typeof a.container>"u"&&(a.container=Mu(S)),"ts"!==a.container&&"aac"!==a.container)return e(a,{hasAudio:!1,hasVideo:!1}),k(null,a,{}),0;!function l0(S){var a=S.segment,i=S.bytes,e=S.trackInfoFn,n=S.timingInfoFn,r=S.videoSegmentTimingInfoFn,s=S.audioSegmentTimingInfoFn,o=S.id3Fn,u=S.captionsFn,m=S.isEndOfTimeline,g=S.endedTimelineFn,w=S.dataFn,k=S.doneFn,I=S.onTransmuxerLog,P=(S=a.map&&a.map.tracks||{},Boolean(S.audio&&S.video)),U=n.bind(null,a,"audio","start"),M=n.bind(null,a,"audio","end"),q=n.bind(null,a,"video","start"),V=n.bind(null,a,"video","end");Lo({action:"probeTs",transmuxer:a.transmuxer,data:i,baseStartTime:a.baseStartTime,callback:function(W){a.bytes=i=W.data,(W=W.result)&&(e(a,{hasAudio:W.hasAudio,hasVideo:W.hasVideo,isMuxed:P}),e=null,W.hasAudio&&!P&&U(W.audioStart),W.hasVideo&&q(W.videoStart),q=U=null),function o0(t){if(!t.transmuxer.currentTransmux)return t.transmuxer.currentTransmux=t,void Jc(t);t.transmuxer.transmuxQueue.push(t)}({bytes:i,transmuxer:a.transmuxer,audioAppendStart:a.audioAppendStart,gopsToAlignWith:a.gopsToAlignWith,remux:P,onData:function(Y){Y.type="combined"===Y.type?"video":Y.type,w(a,Y)},onTrackInfo:function(Y){e&&(P&&(Y.isMuxed=!0),e(a,Y))},onAudioTimingInfo:function(Y){U&&typeof Y.start<"u"&&(U(Y.start),U=null),M&&typeof Y.end<"u"&&M(Y.end)},onVideoTimingInfo:function(Y){q&&typeof Y.start<"u"&&(q(Y.start),q=null),V&&typeof Y.end<"u"&&V(Y.end)},onVideoSegmentTimingInfo:function(Y){r(Y)},onAudioSegmentTimingInfo:function(Y){s(Y)},onId3:function(Y,se){o(a,Y,se)},onCaptions:function(Y){u(a,[Y])},isEndOfTimeline:m,onEndedTimeline:function(){g()},onTransmuxerLog:I,onDone:function(Y){k&&(Y.type="combined"===Y.type?"video":Y.type,k(null,a,Y))}})}})}({segment:a,bytes:i,trackInfoFn:e,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:u,isEndOfTimeline:m,endedTimelineFn:g,dataFn:w,doneFn:k,onTransmuxerLog:I})}else k(null,a,{})}function id(s,a){var i=s.id,e=s.key,n=s.encryptedBytes,r=s.decryptionWorker;s=function o(u){u.data.source===i&&(r.removeEventListener("message",o),u=u.data.decrypted,a(new Uint8Array(u.bytes,u.byteOffset,u.byteLength)))},r.addEventListener("message",s),s=e.bytes.slice?e.bytes.slice():new Uint32Array(Array.prototype.slice.call(e.bytes)),r.postMessage(Vc({source:i,encrypted:n,key:s,iv:e.iv}),[n.buffer,s.buffer])}function rd(t,a){return a=a.attributes||{},t&&t.mediaGroups&&t.mediaGroups.AUDIO&&a.AUDIO&&t.mediaGroups.AUDIO[a.AUDIO]}function Do(t){var a={};return t.forEach(function(r){var e=r.mediaType,n=r.type;r=r.details,a[e]=a[e]||[],a[e].push(Ci(""+n+r))}),Object.keys(a).forEach(function(i){return 1<a[i].length?(_0("multiple "+i+" codecs found as attributes: "+a[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(a[i]=null)):void(a[i]=a[i][0])}),a}function ad(t){var a=0;return t.audio&&a++,t.video&&a++,a}function Ds(t,a){var i,e=a.attributes||{},n=Do(function(r){if((r=r.attributes||{}).CODECS)return Wn(r.CODECS)}(a)||[]);return rd(t,a)&&!n.audio&&!function(r,u){if(!rd(r,u))return!0;var o,m=r.mediaGroups.AUDIO[(u=u.attributes||{}).AUDIO];for(o in m)if(!m[o].uri&&!m[o].playlists)return!0;return!1}(t,a)&&(i=Do(function(r,s){if(!r.mediaGroups.AUDIO||!s)return null;var o,u=r.mediaGroups.AUDIO[s];if(!u)return null;for(o in u){var m=u[o];if(m.default&&m.playlists)return Wn(m.playlists[0].attributes.CODECS)}return null}(t,e.AUDIO)||[])).audio&&(n.audio=i.audio),n}function sd(t){if(t&&t.playlist){var a=t.playlist;return JSON.stringify({id:a.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:a.attributes&&a.attributes.CODECS||""})}}function No(t,a){return(t=t&&window.getComputedStyle(t))?t[a]:""}function Fa(t,a){var i=t.slice();t.sort(function(e,n){var r=a(e,n);return 0===r?i.indexOf(e)-i.indexOf(n):r})}function Vu(t,a){var i,e;return(i=(i=t.attributes.BANDWIDTH?t.attributes.BANDWIDTH:i)||window.Number.MAX_VALUE)-((e=a.attributes.BANDWIDTH?a.attributes.BANDWIDTH:e)||window.Number.MAX_VALUE)}function od(t,a,i,e,n,r){if(t){var s={bandwidth:a,width:i,height:e,limitRenditionByPlayerDimensions:n},m=t.playlists;hi.isAudioOnly(t)&&(m=r.getAudioTrackPlaylists_(),s.audioOnly=!0);var o=m.map(function(M){return{bandwidth:M.attributes&&M.attributes.BANDWIDTH||window.Number.MAX_VALUE,width:M.attributes&&M.attributes.RESOLUTION&&M.attributes.RESOLUTION.width,height:M.attributes&&M.attributes.RESOLUTION&&M.attributes.RESOLUTION.height,playlist:M}});Fa(o,function(M,q){return M.bandwidth-q.bandwidth});var w,k,I,u=(o=o.filter(function(M){return!hi.isIncompatible(M.playlist)})).filter(function(M){return hi.isEnabled(M.playlist)}),S=(t=(u=u.length?u:o.filter(function(M){return!hi.isDisabled(M.playlist)})).filter(function(M){return M.bandwidth*Nn.BANDWIDTH_VARIANCE<a}))[t.length-1];if(m=t.filter(function(M){return M.bandwidth===S.bandwidth})[0],!1===n){var g=m||u[0]||o[0];return g&&g.playlist?(n=m?"bandwidthBestRep":"sortedPlaylistReps",u[0]&&(n="enabledPlaylistReps"),Uo("choosing "+sd(g)+" using "+n+" with options",s),g.playlist):(Uo("could not choose a playlist with options",s),null)}Fa(g=t.filter(function(M){return M.width&&M.height}),function(M,q){return M.width-q.width}),S=(t=g.filter(function(M){return M.width===i&&M.height===e}))[t.length-1],(t=t.filter(function(M){return M.bandwidth===S.bandwidth})[0])||(k=(w=g.filter(function(M){return M.width>i||M.height>e})).filter(function(M){return M.width===w[0].width&&M.height===w[0].height}),S=k[k.length-1],k=k.filter(function(M){return M.bandwidth===S.bandwidth})[0]),r.experimentalLeastPixelDiffSelector&&(Fa(P=g.map(function(M){return M.pixelDiff=Math.abs(M.width-i)+Math.abs(M.height-e),M}),function(M,q){return M.pixelDiff===q.pixelDiff?q.bandwidth-M.bandwidth:M.pixelDiff-q.pixelDiff}),I=P[0]);var P=I||k||t||m||u[0]||o[0];return P&&P.playlist?(o="sortedPlaylistReps",I?o="leastPixelDiffRep":k?o="resolutionPlusOneRep":t?o="resolutionBestRep":m?o="bandwidthBestRep":u[0]&&(o="enabledPlaylistReps"),Uo("choosing "+sd(P)+" using "+o+" with options",s),P.playlist):(Uo("could not choose a playlist with options",s),null)}}function Ns(t,a,i){var e,n;if(i&&i.cues)for(e=i.cues.length;e--;)(n=i.cues[e]).startTime>=t&&n.endTime<=a&&i.removeCue(n)}function ud(t){return"number"==typeof t&&isFinite(t)}function za(t){var a=t.startOfSegment,i=t.duration,e=t.segment,n=t.part,r=t.playlist,s=r.mediaSequence,o=r.id,u=r.segments,m=t.mediaIndex,g=t.partIndex,w=t.timeline,k=(void 0===u?[]:u).length-1,I="mediaIndex/partIndex increment";return t.getMediaInfoForTime?I="getMediaInfoForTime ("+t.getMediaInfoForTime+")":t.isSyncRequest&&(I="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(I+=" with independent "+t.independent),u=t.segment.uri?"segment":"pre-segment",t=(r="number"==typeof g)?Mc({preloadSegment:e})-1:0,u+" ["+(s+m)+"/"+(s+k)+"]"+(r?" part ["+g+"/"+t+"]":"")+" segment start/end ["+e.start+" => "+e.end+"]"+(r?" part start/end ["+n.start+" => "+n.end+"]":"")+" startOfSegment ["+a+"] duration ["+i+"] timeline ["+w+"] selected by ["+I+"] playlist ["+o+"]"}function ld(t){return t+"TimingInfo"}function cd(r){var a=r.timelineChangeController,i=r.currentTimeline,e=r.segmentTimeline,n=r.loaderType;if(r=r.audioDisabled,i!==e){if("audio"===n)return!(i=a.lastTimelineChange({type:"main"}))||i.to!==e;if("main"===n&&r)return!((a=a.pendingTimelineChange({type:"audio"}))&&a.to===e)}}function dd(i){var a=i.segmentDuration;return i=i.maxDuration,!!a&&Math.round(a)>i+ta}Tn=Zt(function(t){function a(i){var e="function"==typeof Map?new Map:void 0;return t.exports=a=function(n){if(null===n||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return Ge(n,arguments,$h(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ue(r,n)},a(i)}t.exports=a});var an,qi=function(t,a){if(/^[a-z]+:/i.test(a))return a;/^data:/.test(t)&&(t=window.location&&window.location.href||"");var i="function"==typeof window.URL,e=/^\/\//.test(t),n=!window.location&&!/\/\//i.test(t);return i?t=new window.URL(t,window.location||gi):/\/\//i.test(t)||(t=Ln.buildAbsoluteURL(window.location&&window.location.href||"",t)),i?(i=new URL(a,t),n?i.href.slice(gi.length):e?i.href.slice(i.protocol.length):i.href):Ln.buildAbsoluteURL(t,a)},ta=1/30,hd=H.createTimeRange,hi={liveEdgeDelay:Pc,duration:Lc,seekable:function(t,a,n){var e=a||0;return null===(n=Dc(t,a,!0,n))?hd():hd(e,n)},getMediaInfoForTime:function(t){for(var a=t.playlist,i=t.currentTime,e=t.startingSegmentIndex,n=t.startingPartIndex,r=t.startTime,s=t.experimentalExactManifestTimings,o=i-r,u=Lu(a),m=0,g=0;g<u.length;g++){var w=u[g];if(e===w.segmentIndex&&("number"!=typeof n||"number"!=typeof w.partIndex||n===w.partIndex)){m=g;break}}if(o<0){if(0<m)for(var k=m-1;0<=k;k--){var I=u[k];if(o+=I.duration,s){if(o<0)continue}else if(o+ta<=0)continue;return{partIndex:I.partIndex,segmentIndex:I.segmentIndex,startTime:r-Os({defaultDuration:a.targetDuration,durationList:u,startIndex:m,endIndex:k})}}return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:i}}if(m<0){for(var S=m;S<0;S++)if((o-=a.targetDuration)<0)return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:i};m=0}for(var P=m;P<u.length;P++){var U=u[P];if(o-=U.duration,s){if(0<o)continue}else if(0<=o-ta)continue;return{partIndex:U.partIndex,segmentIndex:U.segmentIndex,startTime:r+Os({defaultDuration:a.targetDuration,durationList:u,startIndex:m,endIndex:P})}}return{segmentIndex:u[u.length-1].segmentIndex,partIndex:u[u.length-1].partIndex,startTime:i}},isEnabled:Po,isDisabled:function(t){return t.disabled},isBlacklisted:Nc,isIncompatible:Du,playlistEnd:Dc,isAes:function(t){for(var a=0;a<t.segments.length;a++)if(t.segments[a].key)return!0;return!1},hasAttribute:Rc,estimateSegmentRequestTime:function(t,a,i,e){return Rc("BANDWIDTH",i)?(t*i.attributes.BANDWIDTH-8*(e=void 0===e?0:e))/a:NaN},isLowestEnabledRendition:Nu,isAudioOnly:Ls,playlistMatch:Ru,segmentDurationWithParts:Ou},pd=H.log,Ro=H.mergeOptions,qa=function(t){function a(e,n,u){var s;if(void 0===u&&(u={}),s=t.call(this)||this,!e)throw new Error("A non-empty playlist URL or object is required");s.logger_=zi("PlaylistLoader");var o=void 0!==(o=u.withCredentials)&&o;return u=void 0!==(u=u.handleManifestRedirects)&&u,s.src=e,s.vhs_=n,s.withCredentials=o,s.handleManifestRedirects=u,s.customTagParsers=(n=n.options_)&&n.customTagParsers||[],s.customTagMappers=n&&n.customTagMappers||[],s.experimentalLLHLS=n&&n.experimentalLLHLS||!1,H.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(De(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}oe(a,t);var i=a.prototype;return i.handleMediaupdatetimeout_=function(){var e,n,r=this;"HAVE_METADATA"===this.state&&(e=this.media(),n=qi(this.master.uri,e.uri),this.experimentalLLHLS&&(n=function(s,o){if(o.endList||!o.serverControl)return s;var u,m,g,w,k={};return o.serverControl.canBlockReload&&(u=o.mediaSequence+o.segments.length,(g=o.preloadSegment)&&(m=g.parts||[],-1<(g=Mc(o)-1)&&g!=m.length-1&&(k._HLS_part=g),(-1<g||m.length)&&u--),k._HLS_msn=u),o.serverControl&&o.serverControl.canSkipUntil&&(k._HLS_skip=o.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(k).length&&(w=new window.URL(s),["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(I){k.hasOwnProperty(I)&&w.searchParams.set(I,k[I])}),s=w.toString()),s}(n,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials},function(s,o){if(r.request)return s?r.playlistRequestError(r.request,r.media(),"HAVE_METADATA"):void r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})}))},i.playlistRequestError=function(e,o,r){var s=o.uri;o=o.id,this.request=null,r&&(this.state=r),this.error={playlist:this.master.playlists[o],status:e.status,message:"HLS playlist request error at URL: "+s+".",responseText:e.responseText,code:500<=e.status?4:2},this.trigger("error")},i.parseManifest_=function(e){var n=this,r=e.url;return function(k){var o=k.onwarn,u=k.oninfo,m=k.manifestString,g=void 0===(w=k.customTagParsers)?[]:w,w=void 0===(w=k.customTagMappers)?[]:w,I=(k=k.experimentalLLHLS,new ah);o&&I.on("warn",o),u&&I.on("info",u),g.forEach(function(U){return I.addParser(U)}),w.forEach(function(U){return I.addTagMapper(U)}),I.push(m),I.end();var S=I.manifest;k||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(U){S.hasOwnProperty(U)&&delete S[U]}),S.segments&&S.segments.forEach(function(U){["parts","preloadHints"].forEach(function(M){U.hasOwnProperty(M)&&delete U[M]})})),S.targetDuration||(P=10,S.segments&&S.segments.length&&(P=S.segments.reduce(function(U,M){return Math.max(U,M.duration)},0)),o&&o("manifest has no targetDuration defaulting to "+P),S.targetDuration=P);var P=Ic(S);return P.length&&!S.partTargetDuration&&(P=P.reduce(function(U,M){return Math.max(U,M.duration)},0),o&&(o("manifest has no partTargetDuration defaulting to "+P),pd.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),S.partTargetDuration=P),S}({onwarn:function(s){return n.logger_("m3u8-parser warn for "+r+": "+(s=s.message))},oninfo:function(s){return n.logger_("m3u8-parser info for "+r+": "+(s=s.message))},manifestString:e.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},i.haveMetadata=function(o){var n=o.playlistString,r=o.playlistObject,s=o.url;o=o.id,this.request=null,this.state="HAVE_METADATA",(n=r||this.parseManifest_({url:s,manifestString:n})).lastRequest=Date.now(),Uc({playlist:n,uri:s,id:o}),s=Uu(this.master,n),this.targetDuration=n.partTargetDuration||n.targetDuration,this.pendingMedia_=null,s?(this.master=s,this.media_=this.master.playlists[o]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Fu(this.media(),!!s)),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),window.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){var e;this.request&&(e=this.request,this.request=null,e.onreadystatechange=null,e.abort())},i.media=function(e,n){var r=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(window.clearTimeout(this.finalRenditionTimeout),n){var s=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=window.setTimeout(this.media.bind(this,e,!1),s)}else{var o=this.state;if(n=!this.media_||e.id!==this.media_.id,(s=this.master.playlists[e.id])&&s.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(n&&(this.trigger("mediachanging"),this.trigger("HAVE_MASTER"===o?"loadedmetadata":"mediachange")));if(this.updateMediaUpdateTimeout_(Fu(e,!0)),n){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},function(g,w){if(r.request){if(e.lastRequest=Date.now(),e.resolvedUri=Io(r.handleManifestRedirects,e.resolvedUri,w),g)return r.playlistRequestError(r.request,e,o);r.haveMetadata({playlistString:w.responseText,url:e.uri,id:e.id}),r.trigger("HAVE_MASTER"===o?"loadedmetadata":"mediachange")}})}}},i.pause=function(){this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.state=this.media_?"HAVE_METADATA":"HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},i.load=function(e){var n=this;this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var r=this.media();e?(e=r?(r.partTargetDuration||r.targetDuration)/2*1e3:5e3,this.mediaUpdateTimeout=window.setTimeout(function(){n.mediaUpdateTimeout=null,n.load()},e)):this.started?this.trigger(r&&!r.endList?"mediaupdatetimeout":"loadedplaylist"):this.start()},i.updateMediaUpdateTimeout_=function(e){var n=this;this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=window.setTimeout(function(){n.mediaUpdateTimeout=null,n.trigger("mediaupdatetimeout"),n.updateMediaUpdateTimeout_(e)},e))},i.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=window.location.href),this.src.resolvedUri=this.src.uri,void setTimeout(function(){e.setupInitialPlaylist(e.src)},0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(n,r){if(e.request){if(e.request=null,n)return e.error={status:r.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:r.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=Io(e.handleManifestRedirects,e.src,r),r=e.parseManifest_({manifestString:r.responseText,url:e.src}),e.setupInitialPlaylist(r)}})},i.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},i.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,Fc(this.master,this.srcUri()),e.playlists.forEach(function(u){u.segments=qc(u),u.segments.forEach(function(m){zc(m,u.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var n,r,s,o=this.srcUri()||window.location.href;this.master=(r=Bu(0,n=o),(s={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:window.location.href,resolvedUri:window.location.href,playlists:[{uri:n,id:r,resolvedUri:n,attributes:{}}]}).playlists[r]=s.playlists[0],s.playlists[n]=s.playlists[0],s),this.haveMetadata({playlistObject:e,url:o,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},a}(an=H.EventTarget),g0=H.xhr,y0=H.mergeOptions,fd=(Ai=Object.freeze({__proto__:null,createTransferableMessage:Vc,initSegmentId:Oo,segmentKeyId:Wc,hexDump:Gc,tagDump:function(t){return Gc(t=t.bytes)},textRanges:function(t){for(var a,i,e="",n=0;n<t.length;n++)e+=(a=t).start(i=n)+"-"+a.end(i)+" ";return e}}),H.mergeOptions),Wu=function(t){function a(e,n,r,s){var o;if(void 0===r&&(r={}),(o=t.call(this)||this).masterPlaylistLoader_=s||De(o),s||(o.isMaster_=!0),s=void 0!==(s=r.withCredentials)&&s,r=void 0!==(r=r.handleManifestRedirects)&&r,o.vhs_=n,o.withCredentials=s,o.handleManifestRedirects=r,!e)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=zi("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=e,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=e,o}oe(a,t);var i=a.prototype;return i.requestErrored_=function(e,n,r){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2}:e,r&&(this.state=r),this.trigger("error"),!0):void 0)},i.addSidxSegments_=function(e,n,r){var s,o,u=this,m=e.sidx&&So(e.sidx);e.sidx&&m&&!this.masterPlaylistLoader_.sidxMapping_[m]?(s=Io(this.handleManifestRedirects,e.sidx.resolvedUri),o=function(g,w){if(!u.requestErrored_(g,w,n)){var k;g=u.masterPlaylistLoader_.sidxMapping_;try{k=function(t){var a=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:a.getUint32(4),timescale:a.getUint32(8)},e=12;0===i.version?(i.earliestPresentationTime=a.getUint32(e),i.firstOffset=a.getUint32(e+4),e+=8):(i.earliestPresentationTime=kc(t.subarray(e)),i.firstOffset=kc(t.subarray(e+8)),e+=16);var n=a.getUint16(e+=2);for(e+=2;0<n;e+=12,n--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&a.getUint32(e),subsegmentDuration:a.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&a.getUint32(e+8)});return i}(ke(w.response).subarray(8))}catch(S){return void u.requestErrored_(S,w,n)}return g[m]={sidxInfo:e.sidx,sidx:k},Tu(e,k,e.sidx.resolvedUri),r(!0)}},this.request=function i0(t,a,i){function e(m,g,w,k){return g.abort(),o=!0,i(m,g,w,k)}function n(m,g){if(!o){if(m)return e(m,g,"",s);var w=g.responseText.substring(s&&s.byteLength||0,g.responseText.length);return s=function(){for(var k=arguments.length,I=new Array(k),S=0;S<k;S++)I[S]=arguments[S];if((I=I.filter(function(q){return q&&(q.byteLength||q.length)&&"string"!=typeof q})).length<=1)return ke(I[0]);var P=I.reduce(function(q,V,W){return q+(V.byteLength||V.length)},0),U=new Uint8Array(P),M=0;return I.forEach(function(q){q=ke(q),U.set(q,M),M+=q.byteLength}),U}(s,Tl(w,!0)),r=r||Na(s),s.length<10||r&&s.length<r+2||"ts"===(w=Mu(s))&&s.length<188||!w&&s.length<376?function Kc(t,a){if(4===t.readyState)return a()}(g,function(){return e(m,g,"",s)}):e(null,g,w,s)}}var r,s=[],o=!1,u=a({uri:t,beforeSend:function(m){m.overrideMimeType("text/plain; charset=x-user-defined"),m.addEventListener("progress",function(g){return zu(m,null,{statusCode:m.status},n)})}},function(m,g){return zu(u,m,g,n)});return u}(s,this.vhs_.xhr,function(g,w,S,I){return g?o(g,w):S&&"mp4"===S?(S=(P=e.sidx.byterange).offset,I.length>=(P=P.length)+S?o(g,{response:I.subarray(S,S+P),status:w.status,uri:w.uri}):void(u.request=u.vhs_.xhr({uri:s,responseType:"arraybuffer",headers:qu({byterange:e.sidx.byterange})},o))):o({status:w.status,message:"Unsupported "+(S||"unknown")+" container type for sidx segment at URL: "+s,response:"",playlist:e,internal:!0,blacklistDuration:1/0,code:2},w);var P})):this.mediaRequest_=window.setTimeout(function(){return r(!1)},0)},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},window.clearTimeout(this.minimumUpdatePeriodTimeout_),window.clearTimeout(this.mediaRequest_),window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){var e;this.request&&(e=this.request,this.request=null,e.onreadystatechange=null,e.abort())},i.media=function(e){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if("string"==typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var s=!this.media_||e.id!==this.media_.id;if(s&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(s&&(this.trigger("mediachanging"),this.trigger("mediachange")));s&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,r,function(o){n.haveMetadata({startingState:r,playlist:e})}))},i.haveMetadata=function(r){var n=r.startingState;r=r.playlist,this.state="HAVE_METADATA",this.loadedPlaylists_[r.id]=r,this.mediaRequest_=null,this.refreshMedia_(r.id),this.trigger("HAVE_MASTER"===n?"loadedmetadata":"mediachange")},i.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(window.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},i.load=function(e){var n=this;window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var r=this.media();e?(e=r?r.targetDuration/2*1e3:5e3,this.mediaUpdateTimeout=window.setTimeout(function(){return n.load()},e)):this.started?r&&!r.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},i.start=function(){var e=this;this.started=!0,this.isMaster_?this.requestMaster_(function(n,r){e.haveMaster_(),e.hasPendingRequest()||e.media_||e.media(e.masterPlaylistLoader_.master.playlists[0])}):this.mediaRequest_=window.setTimeout(function(){return e.haveMaster_()},0)},i.requestMaster_=function(e){var n=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(r,s){if(!n.requestErrored_(r,s)){var o=s.responseText!==n.masterPlaylistLoader_.masterXml_;return n.masterPlaylistLoader_.masterXml_=s.responseText,n.masterLoaded_=s.responseHeaders&&s.responseHeaders.date?Date.parse(s.responseHeaders.date):Date.now(),n.masterPlaylistLoader_.srcUrl=Io(n.handleManifestRedirects,n.masterPlaylistLoader_.srcUrl,s),o?(n.handleMaster_(),void n.syncClientServerClock_(function(){return e(s,o)})):e(s,o)}"HAVE_NOTHING"===n.state&&(n.started=!1)})},i.syncClientServerClock_=function(e){var n=this,r=function Oh(t){return function(a){if(!(a=gn(a,"UTCTiming")[0]))return null;var i=Xn(a);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return i}(bc(t))}(this.masterPlaylistLoader_.masterXml_);return null===r?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===r.method?(this.masterPlaylistLoader_.clientOffset_=r.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:qi(this.masterPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials},function(s,o){if(n.request){if(s)return n.masterPlaylistLoader_.clientOffset_=n.masterLoaded_-Date.now(),e();o="HEAD"===r.method?o.responseHeaders&&o.responseHeaders.date?Date.parse(o.responseHeaders.date):n.masterLoaded_:Date.parse(o.responseText),n.masterPlaylistLoader_.clientOffset_=o-Date.now(),e()}}))},i.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},i.handleMaster_=function(){this.mediaRequest_=null;var s=this.masterPlaylistLoader_.master,o=(Fc(u=Ph((u={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:s}).masterXml,{manifestUri:o=u.srcUrl,clientOffset:u.clientOffset,sidxMapping:u.sidxMapping,previousManifest:u=u.previousManifest}),o,r0),u);s&&(o=function a0(t,a,i){for(var e,n,r=!0,s=fd(t,{duration:a.duration,minimumUpdatePeriod:a.minimumUpdatePeriod,timelineStarts:a.timelineStarts}),o=0;o<a.playlists.length;o++){var u,m=a.playlists[o];m.sidx&&(u=So(m.sidx),i&&i[u]&&i[u].sidx&&Tu(m,i[u].sidx,m.sidx.resolvedUri)),(m=Uu(s,m,Yc))&&(s=m,r=!1)}return Ua(a,function(g,w,k,I){var S,P;g.playlists&&g.playlists.length&&(S=g.playlists[0].id,(P=Uu(s,g.playlists[0],Yc))&&(I in(s=P).mediaGroups[w][k]||(s.mediaGroups[w][k][I]=g),s.mediaGroups[w][k][I].playlists[0]=s.playlists[S],r=!1))}),n=a,Ua(e=s,function(g,w,k,I){I in n.mediaGroups[w][k]||delete e.mediaGroups[w][k][I]}),(r=a.minimumUpdatePeriod===t.minimumUpdatePeriod&&r)?null:s}(s,o,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=o||s;var u=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return u&&u!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=u),(!s||o&&o.minimumUpdatePeriod!==s.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(o)},i.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(window.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var n=e.master&&e.master.minimumUpdatePeriod;0===n&&(e.media()?n=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof n||n<=0?n<0&&this.logger_("found invalid minimumUpdatePeriod of "+n+", not setting a timeout"):this.createMUPTimeout_(n)},i.createMUPTimeout_=function(e){var n=this.masterPlaylistLoader_;n.minimumUpdatePeriodTimeout_=window.setTimeout(function(){n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)},i.refreshXml_=function(){var e=this;this.requestMaster_(function(n,r){var s,o;r&&(e.media_&&(e.media_=e.masterPlaylistLoader_.master.playlists[e.media_.id]),e.masterPlaylistLoader_.sidxMapping_=(o=Qc((r=e.masterPlaylistLoader_.master).playlists,s=e.masterPlaylistLoader_.sidxMapping_),Ua(r,function(u,m,g,w){u.playlists&&u.playlists.length&&(o=fd(o,Qc(u=u.playlists,s)))}),o),e.addSidxSegments_(e.media(),e.state,function(u){e.refreshMedia_(e.media().id)}))})},i.refreshMedia_=function(e){var n=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var r=this.masterPlaylistLoader_.master.playlists,s=!this.media_||this.media_!==r[e];s?this.media_=r[e]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function o(){n.media().endList||(n.mediaUpdateTimeout=window.setTimeout(function(){n.trigger("mediaupdatetimeout"),o()},Fu(n.media(),Boolean(s))))}(),this.trigger("loadedplaylist")},a}(Mi=H.EventTarget),Nn={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},v0=(gr=function(t){return function(){var a=function(n){try{return URL.createObjectURL(new Blob([n],{type:"application/javascript"}))}catch{var r=new BlobBuilder;return r.append(n),URL.createObjectURL(r.getBlob())}}(t),i=$c(new Worker(a));i.objURL=a;var e=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(a),e.call(this)},i}})((Ii=function(t){return"var browserWorkerPolyFill = "+$c.toString()+";\nbrowserWorkerPolyFill(self);\n"+t})((an=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)})(function(){var An=function(){this.init=function(){var h={};this.on=function(y,T){h[y]||(h[y]=[]),h[y]=h[y].concat(T)},this.off=function(y,T){return!!h[y]&&(T=h[y].indexOf(T),h[y]=h[y].slice(),h[y].splice(T,1),-1<T)},this.trigger=function(y){var T,v,b,A=h[y];if(A)if(2===arguments.length)for(v=A.length,T=0;T<v;++T)A[T].call(this,arguments[1]);else{for(b=[],T=arguments.length,T=1;T<arguments.length;++T)b.push(arguments[T]);for(v=A.length,T=0;T<v;++T)A[T].apply(this,b)}},this.dispose=function(){h={}}}};An.prototype.pipe=function(h){return this.on("data",function(y){h.push(y)}),this.on("done",function(y){h.flush(y)}),this.on("partialdone",function(y){h.partialFlush(y)}),this.on("endedtimeline",function(y){h.endTimeline(y)}),this.on("reset",function(y){h.reset(y)}),h},An.prototype.push=function(h){this.trigger("data",h)},An.prototype.flush=function(h){this.trigger("done",h)},An.prototype.partialFlush=function(h){this.trigger("partialdone",h)},An.prototype.endTimeline=function(h){this.trigger("endedtimeline",h)},An.prototype.reset=function(h){this.trigger("reset",h)};var t,a,i,e,n,r,s,o,u,m,g,w,k,I,S,P,U,M,q,V,W,Y,se,ce,Te,ye,Oe,Ee,vt,He,Et,bt,at,ti,ve,pe,lt,je,yn,hn=An,Xt=Math.pow(2,32),br=(zs={getUint64:function(h){var y=new DataView(h.buffer,h.byteOffset,h.byteLength);return y.getBigUint64?(h=y.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(h):h:y.getUint32(0)*Xt+y.getUint32(4)},MAX_UINT32:Xt}).MAX_UINT32;function wn(h,y){var T={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return T.dataOffset=y,T.compositionTimeOffset=h.pts-h.dts,T.duration=h.duration,T.size=4*h.length,T.size+=h.byteLength,h.keyFrame&&(T.flags.dependsOn=2,T.flags.isNonSyncSample=0),T}function Ae(h){for(var y=[];h--;)y.push(0);return y}(function(){if(W={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array<"u"){for(var h in W)W.hasOwnProperty(h)&&(W[h]=[h.charCodeAt(0),h.charCodeAt(1),h.charCodeAt(2),h.charCodeAt(3)]);Y=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),ce=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),se=new Uint8Array([0,0,0,1]),Te=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ye=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Oe={video:Te,audio:ye},He=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),vt=new Uint8Array([0,0,0,0,0,0,0,0]),Et=new Uint8Array([0,0,0,0,0,0,0,0]),bt=Et,at=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ti=Et,Ee=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),t=function(h){for(var y,T=[],v=0,b=1;b<arguments.length;b++)T.push(arguments[b]);for(b=T.length;b--;)v+=T[b].byteLength;for(y=new Uint8Array(v+8),new DataView(y.buffer,y.byteOffset,y.byteLength).setUint32(0,y.byteLength),y.set(h,4),b=0,v=8;b<T.length;b++)y.set(T[b],v),v+=T[b].byteLength;return y},a=function(){return t(W.dinf,t(W.dref,He))},i=function(h){return t(W.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,h.audioobjecttype<<3|h.samplingfrequencyindex>>>1,h.samplingfrequencyindex<<7|h.channelcount<<3,6,1,2]))},I=function(h){return t(W.hdlr,Oe[h])},k=function(h){var y=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,h.duration>>>24&255,h.duration>>>16&255,h.duration>>>8&255,255&h.duration,85,196,0,0]);return h.samplerate&&(y[12]=h.samplerate>>>24&255,y[13]=h.samplerate>>>16&255,y[14]=h.samplerate>>>8&255,y[15]=255&h.samplerate),t(W.mdhd,y)},w=function(h){return t(W.mdia,k(h),I(h.type),r(h))},n=function(h){return t(W.mfhd,new Uint8Array([0,0,0,0,(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h]))},r=function(h){return t(W.minf,"video"===h.type?t(W.vmhd,Ee):t(W.smhd,vt),a(),P(h))},Bs=function(h,y){for(var T=[],v=y.length;v--;)T[v]=M(y[v]);return t.apply(null,[W.moof,n(h)].concat(T))},s=function(h){for(var y=h.length,T=[];y--;)T[y]=m(h[y]);return t.apply(null,[W.moov,u(4294967295)].concat(T).concat(o(h)))},o=function(h){for(var y=h.length,T=[];y--;)T[y]=q(h[y]);return t.apply(null,[W.mvex].concat(T))},u=function(h){return h=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]),t(W.mvhd,h)},S=function(h){for(var y,T=h.samples||[],v=new Uint8Array(4+T.length),b=0;b<T.length;b++)v[b+4]=(y=T[b].flags).dependsOn<<4|y.isDependedOn<<2|y.hasRedundancy;return t(W.sdtp,v)},P=function(h){return t(W.stbl,U(h),t(W.stts,ti),t(W.stsc,bt),t(W.stsz,at),t(W.stco,Et))},U=function(h){return t(W.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===h.type?ve:pe)(h))},ve=function(h){for(var y,T,v=h.sps||[],b=h.pps||[],A=[],B=[],N=0;N<v.length;N++)A.push((65280&v[N].byteLength)>>>8),A.push(255&v[N].byteLength),A=A.concat(Array.prototype.slice.call(v[N]));for(N=0;N<b.length;N++)B.push((65280&b[N].byteLength)>>>8),B.push(255&b[N].byteLength),B=B.concat(Array.prototype.slice.call(b[N]));return y=[W.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&h.width)>>8,255&h.width,(65280&h.height)>>8,255&h.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(W.avcC,new Uint8Array([1,h.profileIdc,h.profileCompatibility,h.levelIdc,255].concat([v.length],A,[b.length],B))),t(W.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],h.sarRatio&&(T=h.sarRatio[0],h=h.sarRatio[1],y.push(t(W.pasp,new Uint8Array([(4278190080&T)>>24,(16711680&T)>>16,(65280&T)>>8,255&T,(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h])))),t.apply(null,y)},pe=function(h){return t(W.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&h.channelcount)>>8,255&h.channelcount,(65280&h.samplesize)>>8,255&h.samplesize,0,0,0,0,(65280&h.samplerate)>>8,255&h.samplerate,0,0]),i(h))},g=function(h){return h=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&h.id)>>24,(16711680&h.id)>>16,(65280&h.id)>>8,255&h.id,0,0,0,0,(4278190080&h.duration)>>24,(16711680&h.duration)>>16,(65280&h.duration)>>8,255&h.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&h.width)>>8,255&h.width,0,0,(65280&h.height)>>8,255&h.height,0,0]),t(W.tkhd,h)},M=function(h){var y,T=t(W.tfhd,new Uint8Array([0,0,0,58,(4278190080&h.id)>>24,(16711680&h.id)>>16,(65280&h.id)>>8,255&h.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),b=Math.floor(h.baseMediaDecodeTime/br),v=Math.floor(h.baseMediaDecodeTime%br);return b=t(W.tfdt,new Uint8Array([1,0,0,0,b>>>24&255,b>>>16&255,b>>>8&255,255&b,v>>>24&255,v>>>16&255,v>>>8&255,255&v])),"audio"===h.type?(y=V(h,92),t(W.traf,T,b,y)):(v=S(h),y=V(h,v.length+92),t(W.traf,T,b,y,v))},m=function(h){return h.duration=h.duration||4294967295,t(W.trak,g(h),w(h))},q=function(h){var y=new Uint8Array([0,0,0,0,(4278190080&h.id)>>24,(16711680&h.id)>>16,(65280&h.id)>>8,255&h.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==h.type&&(y[y.length-1]=0),t(W.trex,y)},lt=function(h,y){var T=0,v=0,b=0,A=0;return h.length&&(void 0!==h[0].duration&&(T=1),void 0!==h[0].size&&(v=2),void 0!==h[0].flags&&(b=4),void 0!==h[0].compositionTimeOffset&&(A=8)),[0,0,T|v|b|A,1,(4278190080&h.length)>>>24,(16711680&h.length)>>>16,(65280&h.length)>>>8,255&h.length,(4278190080&y)>>>24,(16711680&y)>>>16,(65280&y)>>>8,255&y]},je=function(h,y){var T,v,b,A,B=h.samples||[];for(y=lt(B,y+=20+16*B.length),(v=new Uint8Array(y.length+16*B.length)).set(y),T=y.length,A=0;A<B.length;A++)v[T++]=(4278190080&(b=B[A]).duration)>>>24,v[T++]=(16711680&b.duration)>>>16,v[T++]=(65280&b.duration)>>>8,v[T++]=255&b.duration,v[T++]=(4278190080&b.size)>>>24,v[T++]=(16711680&b.size)>>>16,v[T++]=(65280&b.size)>>>8,v[T++]=255&b.size,v[T++]=b.flags.isLeading<<2|b.flags.dependsOn,v[T++]=b.flags.isDependedOn<<6|b.flags.hasRedundancy<<4|b.flags.paddingValue<<1|b.flags.isNonSyncSample,v[T++]=61440&b.flags.degradationPriority,v[T++]=15&b.flags.degradationPriority,v[T++]=(4278190080&b.compositionTimeOffset)>>>24,v[T++]=(16711680&b.compositionTimeOffset)>>>16,v[T++]=(65280&b.compositionTimeOffset)>>>8,v[T++]=255&b.compositionTimeOffset;return t(W.trun,v)},yn=function(h,y){var T,v,b,A,B=h.samples||[];for(y=lt(B,y+=20+8*B.length),(T=new Uint8Array(y.length+8*B.length)).set(y),v=y.length,A=0;A<B.length;A++)T[v++]=(4278190080&(b=B[A]).duration)>>>24,T[v++]=(16711680&b.duration)>>>16,T[v++]=(65280&b.duration)>>>8,T[v++]=255&b.duration,T[v++]=(4278190080&b.size)>>>24,T[v++]=(16711680&b.size)>>>16,T[v++]=(65280&b.size)>>>8,T[v++]=255&b.size;return t(W.trun,T)},V=function(h,y){return("audio"===h.type?yn:je)(h,y)},e=function(){return t(W.ftyp,Y,se,Y,ce)};var vi,Qt=function(h){return t(W.mdat,h)},ja=Bs,Ur=[33,16,5,32,164,27],Zu=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Nd=function(h){return 9e4*h},el=function(h){return h/9e4},na=9e4,Rd=Nd,Kn=el,Bd=function(h,y){return Nd(function(h,y){return h/y}(h,y))},tl=function(h,y,T){return el(T?h:h-y)},Va=function(h){delete h.minSegmentDts,delete h.maxSegmentDts,delete h.minSegmentPts,delete h.maxSegmentPts},Ud=function(h,y){var T=h.minSegmentDts;return y||(T-=h.timelineStartInfo.dts),y=h.timelineStartInfo.baseMediaDecodeTime,y+=T,y=Math.max(0,y),"audio"===h.type&&(y*=h.samplerate/9e4,y=Math.floor(y)),y},nl=function(h,y){"number"==typeof y.pts&&(void 0===h.timelineStartInfo.pts&&(h.timelineStartInfo.pts=y.pts),h.minSegmentPts=void 0===h.minSegmentPts?y.pts:Math.min(h.minSegmentPts,y.pts),h.maxSegmentPts=void 0===h.maxSegmentPts?y.pts:Math.max(h.maxSegmentPts,y.pts)),"number"==typeof y.dts&&(void 0===h.timelineStartInfo.dts&&(h.timelineStartInfo.dts=y.dts),h.minSegmentDts=void 0===h.minSegmentDts?y.dts:Math.min(h.minSegmentDts,y.dts),h.maxSegmentDts=void 0===h.maxSegmentDts?y.dts:Math.max(h.maxSegmentDts,y.dts))},gl=function(h){for(var y=h.byteLength,T=[],v=1;v<y-2;)0===h[v]&&0===h[v+1]&&3===h[v+2]?(T.push(v+2),v+=2):v++;if(0===T.length)return h;var b=y-T.length,A=new Uint8Array(b),B=0;for(v=0;v<b;B++,v++)B===T[0]&&(B++,T.shift()),A[v]=h[B];return A};function qo(h){return 32<=h&&h<=127||160<=h&&h<=255}function _r(h){this.windowNum=h,this.reset()}((pi=function h(y){y=y||{},h.prototype.init.call(this),this.parse708captions_="boolean"!=typeof y.parse708captions||y.parse708captions,this.captionPackets_=[],this.ccStreams_=[new sn(0,0),new sn(0,1),new sn(1,0),new sn(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ht({captionServices:y.captionServices})),this.reset(),this.ccStreams_.forEach(function(T){T.on("data",this.trigger.bind(this,"data")),T.on("partialdone",this.trigger.bind(this,"partialdone")),T.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))}).prototype=new hn).push=function(h){var y,T;if("sei_rbsp"===h.nalUnitType&&(y=function(h){for(var y=0,T={payloadType:-1,payloadSize:0},v=0,b=0;y<h.byteLength&&128!==h[y];){for(;255===h[y];)v+=255,y++;for(v+=h[y++];255===h[y];)b+=255,y++;if(b+=h[y++],!T.payload&&4===v){if("GA94"===String.fromCharCode(h[y+3],h[y+4],h[y+5],h[y+6])){T.payloadType=v,T.payloadSize=b,T.payload=h.subarray(y,y+b);break}T.payload=void 0}y+=b,b=v=0}return T}(h.escapedRBSP)).payload&&4===y.payloadType&&(T=function(h){return 181!==h.payload[0]||49!=(h.payload[1]<<8|h.payload[2])||"GA94"!==String.fromCharCode(h.payload[3],h.payload[4],h.payload[5],h.payload[6])||3!==h.payload[7]?null:h.payload.subarray(8,h.payload.length-1)}(y)))if(h.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(h.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));T=function(h,y){var T,v,b,A,B=[];if(!(64&y[0]))return B;for(v=31&y[0],T=0;T<v;T++)A={type:3&y[2+(b=3*T)],pts:h},4&y[2+b]&&(A.ccData=y[3+b]<<8|y[4+b],B.push(A));return B}(h.pts,T),this.captionPackets_=this.captionPackets_.concat(T),this.latestDts_!==h.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=h.dts}},pi.prototype.flushCCStreams=function(h){this.ccStreams_.forEach(function(y){return"flush"===h?y.flush():y.partialFlush()},this)},pi.prototype.flushStream=function(h){this.captionPackets_.length&&(this.captionPackets_.forEach(function(y,T){y.presortIndex=T}),this.captionPackets_.sort(function(y,T){return y.pts===T.pts?y.presortIndex-T.presortIndex:y.pts-T.pts}),this.captionPackets_.forEach(function(y){y.type<2?this.dispatchCea608Packet(y):this.dispatchCea708Packet(y)},this),this.captionPackets_.length=0),this.flushCCStreams(h)},pi.prototype.flush=function(){return this.flushStream("flush")},pi.prototype.partialFlush=function(){return this.flushStream("partialFlush")},pi.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(h){h.reset()})},pi.prototype.dispatchCea608Packet=function(h){this.setsTextOrXDSActive(h)?this.activeCea608Channel_[h.type]=null:this.setsChannel1Active(h)?this.activeCea608Channel_[h.type]=0:this.setsChannel2Active(h)&&(this.activeCea608Channel_[h.type]=1),null!==this.activeCea608Channel_[h.type]&&this.ccStreams_[(h.type<<1)+this.activeCea608Channel_[h.type]].push(h)},pi.prototype.setsChannel1Active=function(h){return 4096==(30720&h.ccData)},pi.prototype.setsChannel2Active=function(h){return 6144==(30720&h.ccData)},pi.prototype.setsTextOrXDSActive=function(h){return 256==(28928&h.ccData)||4138==(30974&h.ccData)||6186==(30974&h.ccData)},pi.prototype.dispatchCea708Packet=function(h){this.parse708captions_&&this.cc708Stream_.push(h)};var sp={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600};function Ho(h,y,T){this.serviceNum=h,this.text="",this.currentWindow=new _r(-1),this.windows=[],this.stream=T,"string"==typeof y&&this.createTextDecoder(y)}_r.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},_r.prototype.getText=function(){return this.rows.join("\n")},_r.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},_r.prototype.newLine=function(h){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(h),0<this.rows.length&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},_r.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},_r.prototype.addText=function(h){this.rows[this.rowIdx]+=h},_r.prototype.backspace=function(){var h;this.isEmpty()||(this.rows[this.rowIdx]=(h=this.rows[this.rowIdx]).substr(0,h.length-1))},Ho.prototype.init=function(h,y){this.startPts=h;for(var T=0;T<8;T++)this.windows[T]=new _r(T),"function"==typeof y&&(this.windows[T].beforeRowOverflow=y)},Ho.prototype.setCurrentWindow=function(h){this.currentWindow=this.windows[h]},Ho.prototype.createTextDecoder=function(h){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(h)}catch(y){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+h+" encoding. "+y})}};var Ht=function h(y){y=y||{},h.prototype.init.call(this);var T,v=this,b=y.captionServices||{},A={};Object.keys(b).forEach(function(B){T=b[B],/^SERVICE/.test(B)&&(A[B]=T.encoding)}),this.serviceEncodings=A,this.current708Packet=null,this.services={},this.push=function(B){(3===B.type||null===v.current708Packet)&&v.new708Packet(),v.add708Bytes(B)}};function jo(h){return null===h?"":(h=op[h]||h,String.fromCharCode(h))}function ia(){for(var h=[],y=15;y--;)h.push("");return h}Ht.prototype=new hn,Ht.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ht.prototype.add708Bytes=function(h){var y=(T=h.ccData)>>>8,T=255&T;this.current708Packet.ptsVals.push(h.pts),this.current708Packet.data.push(y),this.current708Packet.data.push(T)},Ht.prototype.push708Packet=function(){var h,y=this.current708Packet,T=y.data,v=null,b=0,A=T[b++];for(y.seq=A>>6,y.sizeCode=63&A;b<T.length;b++)h=31&(A=T[b++]),7==(v=A>>5)&&0<h&&(v=T[b++]),this.pushServiceBlock(v,b,h),0<h&&(b+=h-1)},Ht.prototype.pushServiceBlock=function(h,y,T){for(var v,b=y,A=this.current708Packet.data,B=(B=this.services[h])||this.initService(h,b);b<y+T&&b<A.length;b++)qo(v=A[b])?b=this.handleText(b,B):24===v?b=this.multiByteCharacter(b,B):16===v?b=this.extendedCommands(b,B):128<=v&&v<=135?b=this.setCurrentWindow(b,B):152<=v&&v<=159?b=this.defineWindow(b,B):136===v?b=this.clearWindows(b,B):140===v?b=this.deleteWindows(b,B):137===v?b=this.displayWindows(b,B):138===v?b=this.hideWindows(b,B):139===v?b=this.toggleWindows(b,B):151===v?b=this.setWindowAttributes(b,B):144===v?b=this.setPenAttributes(b,B):145===v?b=this.setPenColor(b,B):146===v?b=this.setPenLocation(b,B):143===v?B=this.reset(b,B):8===v?B.currentWindow.backspace():12===v?B.currentWindow.clearText():13===v?B.currentWindow.pendingNewLine=!0:14===v?B.currentWindow.clearText():141===v&&b++},Ht.prototype.extendedCommands=function(h,y){return qo(this.current708Packet.data[++h])?this.handleText(h,y,{isExtended:!0}):h},Ht.prototype.getPts=function(h){return this.current708Packet.ptsVals[Math.floor(h/2)]},Ht.prototype.initService=function(h,y){var T,v="SERVICE"+h,b=this;return v in this.serviceEncodings&&(T=this.serviceEncodings[v]),this.services[h]=new Ho(h,T,b),this.services[h].init(this.getPts(y),function(A){b.flushDisplayed(A,b.services[h])}),this.services[h]},Ht.prototype.handleText=function(h,y,F){var v,b=F&&F.isExtended,A=F&&F.isMultiByte,B=b?4096:0,N=($=this.current708Packet.data)[h],$=(F=$[h+1],y.currentWindow),K=y.textDecoder_&&!b?(A?(v=[N,F],h++):v=[N],y.textDecoder_.decode(new Uint8Array(v))):(K=sp[N|=B]||N,4096&N&&N===K?"":String.fromCharCode(K));return $.pendingNewLine&&!$.isEmpty()&&$.newLine(this.getPts(h)),$.pendingNewLine=!1,$.addText(K),h},Ht.prototype.multiByteCharacter=function(h,y){var T=(v=this.current708Packet.data)[h+1],v=v[h+2];return qo(T)&&qo(v)?this.handleText(++h,y,{isMultiByte:!0}):h},Ht.prototype.setCurrentWindow=function(h,y){return y.setCurrentWindow(7&this.current708Packet.data[h]),h},Ht.prototype.defineWindow=function(h,y){var T=this.current708Packet.data,v=T[h];return y.setCurrentWindow(7&v),v=T[++h],(y=y.currentWindow).visible=(32&v)>>5,y.rowLock=(16&v)>>4,y.columnLock=(8&v)>>3,y.priority=7&v,v=T[++h],y.relativePositioning=(128&v)>>7,y.anchorVertical=127&v,v=T[++h],y.anchorHorizontal=v,v=T[++h],y.anchorPoint=(240&v)>>4,y.rowCount=15&v,v=T[++h],y.columnCount=63&v,v=T[++h],y.windowStyle=(56&v)>>3,y.penStyle=7&v,y.virtualRowCount=y.rowCount+1,h},Ht.prototype.setWindowAttributes=function(h,v){var T=this.current708Packet.data,b=T[h];return b=T[++h],(v=v.currentWindow.winAttr).fillOpacity=(192&b)>>6,v.fillRed=(48&b)>>4,v.fillGreen=(12&b)>>2,v.fillBlue=3&b,b=T[++h],v.borderType=(192&b)>>6,v.borderRed=(48&b)>>4,v.borderGreen=(12&b)>>2,v.borderBlue=3&b,b=T[++h],v.borderType+=(128&b)>>5,v.wordWrap=(64&b)>>6,v.printDirection=(48&b)>>4,v.scrollDirection=(12&b)>>2,v.justify=3&b,b=T[++h],v.effectSpeed=(240&b)>>4,v.effectDirection=(12&b)>>2,v.displayEffect=3&b,h},Ht.prototype.flushDisplayed=function(h,y){for(var T=[],v=0;v<8;v++)y.windows[v].visible&&!y.windows[v].isEmpty()&&T.push(y.windows[v].getText());y.endPts=h,y.text=T.join("\n\n"),this.pushCaption(y),y.startPts=h},Ht.prototype.pushCaption=function(h){""!==h.text&&(this.trigger("data",{startPts:h.startPts,endPts:h.endPts,text:h.text,stream:"cc708_"+h.serviceNum}),h.text="",h.startPts=h.endPts)},Ht.prototype.displayWindows=function(h,y){var T=this.current708Packet.data[++h],v=this.getPts(h);this.flushDisplayed(v,y);for(var b=0;b<8;b++)T&1<<b&&(y.windows[b].visible=1);return h},Ht.prototype.hideWindows=function(h,y){var T=this.current708Packet.data[++h],v=this.getPts(h);this.flushDisplayed(v,y);for(var b=0;b<8;b++)T&1<<b&&(y.windows[b].visible=0);return h},Ht.prototype.toggleWindows=function(h,y){var T=this.current708Packet.data[++h],v=this.getPts(h);this.flushDisplayed(v,y);for(var b=0;b<8;b++)T&1<<b&&(y.windows[b].visible^=1);return h},Ht.prototype.clearWindows=function(h,y){var T=this.current708Packet.data[++h],v=this.getPts(h);this.flushDisplayed(v,y);for(var b=0;b<8;b++)T&1<<b&&y.windows[b].clearText();return h},Ht.prototype.deleteWindows=function(h,y){var T=this.current708Packet.data[++h],v=this.getPts(h);this.flushDisplayed(v,y);for(var b=0;b<8;b++)T&1<<b&&y.windows[b].reset();return h},Ht.prototype.setPenAttributes=function(h,v){var T=this.current708Packet.data,b=T[h];return b=T[++h],(v=v.currentWindow.penAttr).textTag=(240&b)>>4,v.offset=(12&b)>>2,v.penSize=3&b,b=T[++h],v.italics=(128&b)>>7,v.underline=(64&b)>>6,v.edgeType=(56&b)>>3,v.fontStyle=7&b,h},Ht.prototype.setPenColor=function(h,v){var T=this.current708Packet.data,b=T[h];return b=T[++h],(v=v.currentWindow.penColor).fgOpacity=(192&b)>>6,v.fgRed=(48&b)>>4,v.fgGreen=(12&b)>>2,v.fgBlue=3&b,b=T[++h],v.bgOpacity=(192&b)>>6,v.bgRed=(48&b)>>4,v.bgGreen=(12&b)>>2,v.bgBlue=3&b,b=T[++h],v.edgeRed=(48&b)>>4,v.edgeGreen=(12&b)>>2,v.edgeBlue=3&b,h},Ht.prototype.setPenLocation=function(h,y){var T=this.current708Packet.data,v=T[h],b=y.currentWindow.penLoc;return y.currentWindow.pendingNewLine=!0,v=T[++h],b.row=15&v,v=T[++h],b.column=63&v,h},Ht.prototype.reset=function(h,y){var T=this.getPts(h);return this.flushDisplayed(T,y),this.initService(y.serviceNum,h)};var op={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},up=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],sn=function h(y,T){h.prototype.init.call(this),this.field_=y||0,this.dataChannel_=T||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(v){var b,A,B,N,F=32639&v.ccData;F!==this.lastControlCode_?(4096==(61440&F)?this.lastControlCode_=F:F!==this.PADDING_&&(this.lastControlCode_=null),b=F>>>8,A=255&F,F===this.PADDING_||(F===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":F===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(v.pts),this.flushDisplayed(v.pts),N=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=N,this.startPts_=v.pts):F===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(v.pts)):F===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(v.pts)):F===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(v.pts)):F===this.CARRIAGE_RETURN_?(this.clearFormatting(v.pts),this.flushDisplayed(v.pts),this.shiftRowsUp_(),this.startPts_=v.pts):F===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):F===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(v.pts),this.displayed_=ia()):F===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=ia():F===this.RESUME_DIRECT_CAPTIONING_?("paintOn"!==this.mode_&&(this.flushDisplayed(v.pts),this.displayed_=ia()),this.mode_="paintOn",this.startPts_=v.pts):this.isSpecialCharacter(b,A)?(B=jo((b=(3&b)<<8)|A),this[this.mode_](v.pts,B),this.column_++):this.isExtCharacter(b,A)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),B=jo((b=(3&b)<<8)|A),this[this.mode_](v.pts,B),this.column_++):this.isMidRowCode(b,A)?(this.clearFormatting(v.pts),this[this.mode_](v.pts," "),this.column_++,14==(14&A)&&this.addFormatting(v.pts,["i"]),1==(1&A)&&this.addFormatting(v.pts,["u"])):this.isOffsetControlCode(b,A)?this.column_+=3&A:this.isPAC(b,A)?(N=up.indexOf(7968&F),"rollUp"===this.mode_&&(N-this.rollUpRows_+1<0&&(N=this.rollUpRows_-1),this.setRollUp(v.pts,N)),N!==this.row_&&(this.clearFormatting(v.pts),this.row_=N),1&A&&-1===this.formatting_.indexOf("u")&&this.addFormatting(v.pts,["u"]),16==(16&F)&&(this.column_=4*((14&F)>>1)),this.isColorPAC(A)&&14==(14&A)&&this.addFormatting(v.pts,["i"])):this.isNormalChar(b)&&(0===A&&(A=null),B=jo(b),B+=jo(A),this[this.mode_](v.pts,B),this.column_+=B.length))):this.lastControlCode_=null}};function il(h,y){var T=1;for(y<h&&(T=-1);4294967296<Math.abs(y-h);)h+=8589934592*T;return h}sn.prototype=new hn,sn.prototype.flushDisplayed=function(h){var y=this.displayed_.map(function(T,v){try{return T.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+v+"."}),""}},this).join("\n").replace(/^\n+|\n+$/g,"");y.length&&this.trigger("data",{startPts:this.startPts_,endPts:h,text:y,stream:this.name_})},sn.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ia(),this.nonDisplayed_=ia(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},sn.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},sn.prototype.isSpecialCharacter=function(h,y){return h===this.EXT_&&48<=y&&y<=63},sn.prototype.isExtCharacter=function(h,y){return(h===this.EXT_+1||h===this.EXT_+2)&&32<=y&&y<=63},sn.prototype.isMidRowCode=function(h,y){return h===this.EXT_&&32<=y&&y<=47},sn.prototype.isOffsetControlCode=function(h,y){return h===this.OFFSET_&&33<=y&&y<=35},sn.prototype.isPAC=function(h,y){return h>=this.BASE_&&h<this.BASE_+8&&64<=y&&y<=127},sn.prototype.isColorPAC=function(h){return 64<=h&&h<=79||96<=h&&h<=127},sn.prototype.isNormalChar=function(h){return 32<=h&&h<=127},sn.prototype.setRollUp=function(h,y){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(h),this.nonDisplayed_=ia(),this.displayed_=ia()),void 0!==y&&y!==this.row_)for(var T=0;T<this.rollUpRows_;T++)this.displayed_[y-T]=this.displayed_[this.row_-T],this.displayed_[this.row_-T]="";void 0===y&&(y=this.row_),this.topRow_=y-this.rollUpRows_+1},sn.prototype.addFormatting=function(h,y){this.formatting_=this.formatting_.concat(y),y=y.reduce(function(T,v){return T+"<"+v+">"},""),this[this.mode_](h,y)},sn.prototype.clearFormatting=function(h){var y;this.formatting_.length&&(y=this.formatting_.reverse().reduce(function(T,v){return T+"</"+v+">"},""),this.formatting_=[],this[this.mode_](h,y))},sn.prototype.popOn=function(h,y){var T=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=T+=y},sn.prototype.rollUp=function(h,y){var T=this.displayed_[this.row_];this.displayed_[this.row_]=T+=y},sn.prototype.shiftRowsUp_=function(){for(var h=0;h<this.topRow_;h++)this.displayed_[h]="";for(h=this.row_+1;h<15;h++)this.displayed_[h]="";for(h=this.topRow_;h<this.row_;h++)this.displayed_[h]=this.displayed_[h+1];this.displayed_[this.row_]=""},sn.prototype.paintOn=function(h,y){var T=this.displayed_[this.row_];this.displayed_[this.row_]=T+=y};var Vo={CaptionStream:pi,Cea608Stream:sn,Cea708Stream:Ht},Hn={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};function Fd(h,y,T){for(var v="",b=y;b<T;b++)v+="%"+("00"+h[b].toString(16)).slice(-2);return v}function Wo(h,y,T){return decodeURIComponent(Fd(h,y,T))}function Go(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]}(An=function h(y){var T,v;h.prototype.init.call(this),this.type_=y||"shared",this.push=function(b){"shared"!==this.type_&&b.type!==this.type_||(void 0===v&&(v=b.dts),b.dts=il(b.dts,v),b.pts=il(b.pts,v),T=b.dts,this.trigger("data",b))},this.flush=function(){v=T,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){T=v=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}}).prototype=new hn;var Bs=An,pi=il,zd={TXXX:function(h){var y;if(3===h.data[0]){for(y=1;y<h.data.length;y++)if(0===h.data[y]){h.description=Wo(h.data,1,y),h.value=Wo(h.data,y+1,h.data.length).replace(/\0*$/,"");break}h.data=h.value}},WXXX:function(h){var y;if(3===h.data[0])for(y=1;y<h.data.length;y++)if(0===h.data[y]){h.description=Wo(h.data,1,y),h.url=Wo(h.data,y+1,h.data.length);break}},PRIV:function(h){for(var T=0;T<h.data.length;T++)if(0===h.data[T]){h.owner=unescape(Fd(h.data,0,T));break}h.privateData=h.data.subarray(T+1),h.data=h.privateData}},rl=function(h){var y,T={descriptor:h&&h.descriptor},v=0,b=[],A=0;if(rl.prototype.init.call(this),this.dispatchType=Hn.METADATA_STREAM_TYPE.toString(16),T.descriptor)for(y=0;y<T.descriptor.length;y++)this.dispatchType+=("00"+T.descriptor[y].toString(16)).slice(-2);this.push=function(B){var N,F,$,K,Q,me,Ne;if("timed-metadata"===B.type)if(B.dataAlignmentIndicator&&(A=0,b.length=0),0===b.length&&(B.data.length<10||B.data[0]!=="I".charCodeAt(0)||B.data[1]!=="D".charCodeAt(0)||B.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(b.push(B),A+=B.data.byteLength,1===b.length&&(v=Go(B.data.subarray(6,10)),v+=10),!(A<v)){for(N={data:new Uint8Array(v),frames:[],pts:b[0].pts,dts:b[0].dts},K=0;K<v;)N.data.set(b[0].data.subarray(0,v-K),K),K+=b[0].data.byteLength,A-=b[0].data.byteLength,b.shift();F=10,64&N.data[5]&&(F+=4,F+=Go(N.data.subarray(10,14)),v-=Go(N.data.subarray(16,20)));do{if(($=Go(N.data.subarray(F+4,F+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."})}while((Ne={id:String.fromCharCode(N.data[F],N.data[F+1],N.data[F+2],N.data[F+3]),data:N.data.subarray(F+10,F+$+10)}).key=Ne.id,zd[Ne.id]&&(zd[Ne.id](Ne),"com.apple.streaming.transportStreamTimestamp"===Ne.owner&&(me=(1&(Q=Ne.data)[3])<<30|Q[4]<<22|Q[5]<<14|Q[6]<<6|Q[7]>>>2,me*=4,Ne.timeStamp=me+=3&Q[7],void 0===N.pts&&void 0===N.dts&&(N.pts=Ne.timeStamp,N.dts=Ne.timeStamp),this.trigger("timestamp",Ne))),N.frames.push(Ne),F+=10,(F+=$)<v);this.trigger("data",N)}}};rl.prototype=new hn,An=rl;var Xo,al,sl=function(){var h=new Uint8Array(188),y=0;sl.prototype.init.call(this),this.push=function(T){var v,b=0,A=188;for(y?((v=new Uint8Array(T.byteLength+y)).set(h.subarray(0,y)),v.set(T,y),y=0):v=T;A<v.byteLength;)71!==v[b]||71!==v[A]?(b++,A++):(this.trigger("data",v.subarray(b,A)),b+=188,A+=188);b<v.byteLength&&(h.set(v.subarray(b),0),y=v.byteLength-b)},this.flush=function(){188===y&&71===h[0]&&(this.trigger("data",h),y=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){y=0,this.trigger("reset")}};sl.prototype=new hn,(Xo=function(){var h,y,T,v;Xo.prototype.init.call(this),(v=this).packetsWaitingForPmt=[],this.programMapTable=void 0,h=function(b,A){var B=0;A.payloadUnitStartIndicator&&(B+=b[B]+1),("pat"===A.type?y:T)(b.subarray(B),A)},y=function(b,A){A.section_number=b[7],A.last_section_number=b[8],v.pmtPid=(31&b[10])<<8|b[11],A.pmtPid=v.pmtPid},T=function(b,A){var B,N;if(1&b[5]){for(v.programMapTable={video:null,audio:null,"timed-metadata":{}},B=3+((15&b[1])<<8|b[2])-4,N=12+((15&b[10])<<8|b[11]);N<B;){var F=b[N],$=(31&b[N+1])<<8|b[N+2];F===Hn.H264_STREAM_TYPE&&null===v.programMapTable.video?v.programMapTable.video=$:F===Hn.ADTS_STREAM_TYPE&&null===v.programMapTable.audio?v.programMapTable.audio=$:F===Hn.METADATA_STREAM_TYPE&&(v.programMapTable["timed-metadata"][$]=F),N+=5+((15&b[N+3])<<8|b[N+4])}A.programMapTable=v.programMapTable}},this.push=function(b){var A={},B=4;if(A.payloadUnitStartIndicator=!!(64&b[1]),A.pid=31&b[1],A.pid<<=8,A.pid|=b[2],1<(48&b[3])>>>4&&(B+=b[B]+1),0===A.pid)A.type="pat",h(b.subarray(B),A),this.trigger("data",A);else if(A.pid===this.pmtPid)for(A.type="pmt",h(b.subarray(B),A),this.trigger("data",A);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([b,B,A]):this.processPes_(b,B,A)},this.processPes_=function(b,A,B){B.streamType=B.pid===this.programMapTable.video?Hn.H264_STREAM_TYPE:B.pid===this.programMapTable.audio?Hn.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][B.pid],B.type="pes",B.data=b.subarray(A),this.trigger("data",B)}}).prototype=new hn,Xo.STREAM_TYPES={h264:27,adts:15},(al=function(){function h(N,F,$){var K,Q,me,Ne,Ze=new Uint8Array(N.size),st={type:F},ft=0,Lt=0;if(N.data.length&&!(N.size<9)){for(st.trackId=N.data[0].pid,ft=0;ft<N.data.length;ft++)Ze.set((K=N.data[ft]).data,Lt),Lt+=K.data.byteLength;Ne=(Q=Ze)[0]<<16|Q[1]<<8|Q[2],(me=st).data=new Uint8Array,1==Ne&&(me.packetLength=6+(Q[4]<<8|Q[5]),me.dataAlignmentIndicator=0!=(4&Q[6]),192&(Ne=Q[7])&&(me.pts=(14&Q[9])<<27|(255&Q[10])<<20|(254&Q[11])<<12|(255&Q[12])<<5|(254&Q[13])>>>3,me.pts*=4,me.pts+=(6&Q[13])>>>1,me.dts=me.pts,64&Ne&&(me.dts=(14&Q[14])<<27|(255&Q[15])<<20|(254&Q[16])<<12|(255&Q[17])<<5|(254&Q[18])>>>3,me.dts*=4,me.dts+=(6&Q[18])>>>1)),me.data=Q.subarray(9+Q[8])),F="video"===F||st.packetLength<=N.size,($||F)&&(N.size=0,N.data.length=0),F&&T.trigger("data",st)}}var y,T=this,v=!1,b={data:[],size:0},A={data:[],size:0},B={data:[],size:0};al.prototype.init.call(this),this.push=function(N){({pat:function(){},pes:function(){var F,$;switch(N.streamType){case Hn.H264_STREAM_TYPE:F=b,$="video";break;case Hn.ADTS_STREAM_TYPE:F=A,$="audio";break;case Hn.METADATA_STREAM_TYPE:F=B,$="timed-metadata";break;default:return}N.payloadUnitStartIndicator&&h(F,$,!0),F.data.push(N),F.size+=N.data.byteLength},pmt:function(){var F={type:"metadata",tracks:[]};null!==(y=N.programMapTable).video&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+y.video,codec:"avc",type:"video"}),null!==y.audio&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+y.audio,codec:"adts",type:"audio"}),v=!0,T.trigger("data",F)}})[N.type]()},this.reset=function(){b.size=0,b.data.length=0,A.size=0,A.data.length=0,this.trigger("reset")},this.flushStreams_=function(){h(b,"video"),h(A,"audio"),h(B,"timed-metadata")},this.flush=function(){var N;!v&&y&&(N={type:"metadata",tracks:[]},null!==y.video&&N.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+y.video,codec:"avc",type:"video"}),null!==y.audio&&N.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+y.audio,codec:"adts",type:"audio"}),T.trigger("data",N)),v=!1,this.flushStreams_(),this.trigger("done")}}).prototype=new hn;var Ko,qd={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:sl,TransportParseStream:Xo,ElementaryStream:al,TimestampRolloverStream:Bs,CaptionStream:Vo.CaptionStream,Cea608Stream:Vo.Cea608Stream,Cea708Stream:Vo.Cea708Stream,MetadataStream:An};for(Ko in Hn)Hn.hasOwnProperty(Ko)&&(qd[Ko]=Hn[Ko]);var Tr=qd,Hd=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],ol=function(h){var y,T=0;ol.prototype.init.call(this),this.skipWarn_=function(v,b){this.trigger("log",{level:"warn",message:"adts skiping bytes "+v+" to "+b+" in frame "+T+" outside syncword"})},this.push=function(v){var b,A,B,N,F,$,K=0;if(h||(T=0),"audio"===v.type){for(y&&y.length?(B=y,(y=new Uint8Array(B.byteLength+v.data.byteLength)).set(B),y.set(v.data,B.byteLength)):y=v.data;K+7<y.length;)if(255===y[K]&&240==(246&y[K+1])){if("number"==typeof $&&(this.skipWarn_($,K),$=null),A=2*(1&~y[K+1]),F=9e4*(N=1024*(1+(3&y[K+6])))/Hd[(60&y[K+2])>>>2],y.byteLength-K<(b=(3&y[K+3])<<11|y[K+4]<<3|(224&y[K+5])>>5))break;this.trigger("data",{pts:v.pts+T*F,dts:v.dts+T*F,sampleCount:N,audioobjecttype:1+(y[K+2]>>>6&3),channelcount:(1&y[K+2])<<2|(192&y[K+3])>>>6,samplerate:Hd[(60&y[K+2])>>>2],samplingfrequencyindex:(60&y[K+2])>>>2,samplesize:16,data:y.subarray(K+7+A,K+b)}),T++,K+=b}else"number"!=typeof $&&($=K),K++;"number"==typeof $&&(this.skipWarn_($,K),$=null),y=y.subarray(K)}},this.flush=function(){T=0,this.trigger("done")},this.reset=function(){y=void 0,this.trigger("reset")},this.endTimeline=function(){y=void 0,this.trigger("endedtimeline")}};ol.prototype=new hn;var ul,jd,Vd=ol,cp=function(h){var y=h.byteLength,T=0,v=0;this.length=function(){return 8*y},this.bitsAvailable=function(){return 8*y+v},this.loadWord=function(){var b=h.byteLength-y,A=new Uint8Array(4),B=Math.min(4,y);if(0===B)throw new Error("no bytes available");A.set(h.subarray(b,b+B)),T=new DataView(A.buffer).getUint32(0),v=8*B,y-=B},this.skipBits=function(b){var A;b<v||(b-=v,b-=8*(A=Math.floor(b/8)),y-=A,this.loadWord()),T<<=b,v-=b},this.readBits=function(b){var A=Math.min(v,b),B=T>>>32-A;return 0<(v-=A)?T<<=A:0<y&&this.loadWord(),0<(A=b-A)?B<<A|this.readBits(A):B},this.skipLeadingZeros=function(){for(var b=0;b<v;++b)if(0!=(T&2147483648>>>b))return T<<=b,v-=b,b;return this.loadWord(),b+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var b=this.skipLeadingZeros();return this.readBits(b+1)-1},this.readExpGolomb=function(){var b=this.readUnsignedExpGolomb();return 1&b?1+b>>>1:-1*(b>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},Yo=function(){var h,y,T=0;Yo.prototype.init.call(this),this.push=function(v){for(var b,A=(y=y?((b=new Uint8Array(y.byteLength+v.data.byteLength)).set(y),b.set(v.data,y.byteLength),b):v.data).byteLength;T<A-3;T++)if(1===y[T+2]){h=T+5;break}for(;h<A;)switch(y[h]){case 0:if(0!==y[h-1]){h+=2;break}if(0!==y[h-2]){h++;break}for(T+3!==h-2&&this.trigger("data",y.subarray(T+3,h-2));1!==y[++h]&&h<A;);T=h-2,h+=3;break;case 1:if(0!==y[h-1]||0!==y[h-2]){h+=3;break}this.trigger("data",y.subarray(T+3,h-2)),T=h-2,h+=3;break;default:h+=3}y=y.subarray(T),h-=T,T=0},this.reset=function(){y=null,T=0,this.trigger("reset")},this.flush=function(){y&&3<y.byteLength&&this.trigger("data",y.subarray(T+3)),y=null,T=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}};function Wd(h,y){var T=0<=(T=h[y+6]<<21|h[y+7]<<14|h[y+8]<<7|h[y+9])?T:0;return(16&h[y+5])>>4?T+20:T+10}function Gd(h,y){return h.length-y<10||h[y]!=="I".charCodeAt(0)||h[y+1]!=="D".charCodeAt(0)||h[y+2]!=="3".charCodeAt(0)?y:Gd(h,y+=Wd(h,y))}function Xd(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]}Yo.prototype=new hn,jd={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(ul=function(){var h,y,T,v,b,A,B,N=new Yo;ul.prototype.init.call(this),(h=this).push=function(F){"video"===F.type&&(y=F.trackId,T=F.pts,v=F.dts,N.push(F))},N.on("data",function(F){var $={trackId:y,pts:T,dts:v,data:F,nalUnitTypeCode:31&F[0]};switch($.nalUnitTypeCode){case 5:$.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:$.nalUnitType="sei_rbsp",$.escapedRBSP=b(F.subarray(1));break;case 7:$.nalUnitType="seq_parameter_set_rbsp",$.escapedRBSP=b(F.subarray(1)),$.config=A($.escapedRBSP);break;case 8:$.nalUnitType="pic_parameter_set_rbsp";break;case 9:$.nalUnitType="access_unit_delimiter_rbsp"}h.trigger("data",$)}),N.on("done",function(){h.trigger("done")}),N.on("partialdone",function(){h.trigger("partialdone")}),N.on("reset",function(){h.trigger("reset")}),N.on("endedtimeline",function(){h.trigger("endedtimeline")}),this.flush=function(){N.flush()},this.partialFlush=function(){N.partialFlush()},this.reset=function(){N.reset()},this.endTimeline=function(){N.endTimeline()},B=function(F,$){for(var K=8,Q=8,me=0;me<F;me++)K=0===(Q=0!==Q?(K+$.readExpGolomb()+256)%256:Q)?K:Q},b=function(F){for(var $=F.byteLength,K=[],Q=1;Q<$-2;)0===F[Q]&&0===F[Q+1]&&3===F[Q+2]?(K.push(Q+2),Q+=2):Q++;if(0===K.length)return F;var me=$-K.length,Ne=new Uint8Array(me),Ze=0;for(Q=0;Q<me;Ze++,Q++)Ze===K[0]&&(Ze++,K.shift()),Ne[Q]=F[Ze];return Ne},A=function(F){var $,K,Q,me,Ne,Ze=0,st=0,ft=0,Lt=0,Fe=[1,1],Ke=new cp(F),Fr=Ke.readUnsignedByte(),Ka=Ke.readUnsignedByte(),yl=Ke.readUnsignedByte();if(Ke.skipUnsignedExpGolomb(),jd[Fr]&&(3===(K=Ke.readUnsignedExpGolomb())&&Ke.skipBits(1),Ke.skipUnsignedExpGolomb(),Ke.skipUnsignedExpGolomb(),Ke.skipBits(1),Ke.readBoolean()))for(me=3!==K?8:12,Ne=0;Ne<me;Ne++)Ke.readBoolean()&&B(Ne<6?16:64,Ke);if(Ke.skipUnsignedExpGolomb(),0===(Q=Ke.readUnsignedExpGolomb()))Ke.readUnsignedExpGolomb();else if(1===Q)for(Ke.skipBits(1),Ke.skipExpGolomb(),Ke.skipExpGolomb(),$=Ke.readUnsignedExpGolomb(),Ne=0;Ne<$;Ne++)Ke.skipExpGolomb();if(Ke.skipUnsignedExpGolomb(),Ke.skipBits(1),F=Ke.readUnsignedExpGolomb(),K=Ke.readUnsignedExpGolomb(),0===(Q=Ke.readBits(1))&&Ke.skipBits(1),Ke.skipBits(1),Ke.readBoolean()&&(Ze=Ke.readUnsignedExpGolomb(),st=Ke.readUnsignedExpGolomb(),ft=Ke.readUnsignedExpGolomb(),Lt=Ke.readUnsignedExpGolomb()),Ke.readBoolean()&&Ke.readBoolean())switch(Ke.readUnsignedByte()){case 1:Fe=[1,1];break;case 2:Fe=[12,11];break;case 3:Fe=[10,11];break;case 4:Fe=[16,11];break;case 5:Fe=[40,33];break;case 6:Fe=[24,11];break;case 7:Fe=[20,11];break;case 8:Fe=[32,11];break;case 9:Fe=[80,33];break;case 10:Fe=[18,11];break;case 11:Fe=[15,11];break;case 12:Fe=[64,33];break;case 13:Fe=[160,99];break;case 14:Fe=[4,3];break;case 15:Fe=[3,2];break;case 16:Fe=[2,1];break;case 255:Fe=[Ke.readUnsignedByte()<<8|Ke.readUnsignedByte(),Ke.readUnsignedByte()<<8|Ke.readUnsignedByte()]}return{profileIdc:Fr,levelIdc:yl,profileCompatibility:Ka,width:16*(F+1)-2*Ze-2*st,height:(2-Q)*(K+1)*16-2*ft-2*Lt,sarRatio:Fe}}}).prototype=new hn,An={H264Stream:ul,NalByteStream:Yo};var dp=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Qo={isLikelyAacData:function(h){var y=Gd(h,0);return h.length>=y+2&&255==(255&h[y])&&240==(240&h[y+1])&&16==(22&h[y+1])},parseId3TagSize:Wd,parseAdtsSize:function(h,y){return 6144&h[y+3]|h[y+4]<<3|(224&h[y+5])>>5},parseType:function(h,y){return h[y]==="I".charCodeAt(0)&&h[y+1]==="D".charCodeAt(0)&&h[y+2]==="3".charCodeAt(0)?"timed-metadata":!0&h[y]&&240==(240&h[y+1])?"audio":null},parseSampleRate:function(h){for(var y=0;y+5<h.length;){if(255===h[y]&&240==(246&h[y+1]))return dp[(60&h[y+2])>>>2];y++}return null},parseAacTimestamp:function(h){var y,T=10;64&h[5]&&(T+=4,T+=Xd(h.subarray(10,14)));do{if((y=Xd(h.subarray(T+4,T+8)))<1)return null;if("PRIV"===String.fromCharCode(h[T],h[T+1],h[T+2],h[T+3]))for(var v=h.subarray(T+10,T+y+10),b=0;b<v.byteLength;b++)if(0===v[b]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(function(N,F,$){for(var K="",Q=0;Q<$;Q++)K+="%"+("00"+N[Q].toString(16)).slice(-2);return K}(v,0,b)))break;var A=v.subarray(b+1),B=(1&A[3])<<30|A[4]<<22|A[5]<<14|A[6]<<6|A[7]>>>2;return(B*=4)+(3&A[7])}}while(T+=10,(T+=y)<h.byteLength);return null}},ll=function(){var h=new Uint8Array,y=0;ll.prototype.init.call(this),this.setTimestamp=function(T){y=T},this.push=function(T){var v,b,A=0,B=0;for(h.length?(b=h.length,(h=new Uint8Array(T.byteLength+b)).set(h.subarray(0,b)),h.set(T,b)):h=T;3<=h.length-B;)if(h[B]!=="I".charCodeAt(0)||h[B+1]!=="D".charCodeAt(0)||h[B+2]!=="3".charCodeAt(0))if(255!=(255&h[B])||240!=(240&h[B+1]))B++;else{if(h.length-B<7||B+(A=Qo.parseAdtsSize(h,B))>h.length)break;v={type:"audio",data:h.subarray(B,B+A),pts:y,dts:y},this.trigger("data",v),B+=A}else{if(h.length-B<10||B+(A=Qo.parseId3TagSize(h,B))>h.length)break;v={type:"timed-metadata",data:h.subarray(B,B+A)},this.trigger("data",v),B+=A}h=0<(T=h.length-B)?h.subarray(B):new Uint8Array},this.reset=function(){h=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){h=new Uint8Array,this.trigger("endedtimeline")}};function hp(h,y){y.stream=h,this.trigger("log",y)}function Kd(h,y){for(var T=Object.keys(y),v=0;v<T.length;v++){var b=T[v];"headOfPipeline"!==b&&y[b].on&&y[b].on("log",hp.bind(h,b))}}function Yd(h,y){var T;if(h.length===y.length){for(T=0;T<h.length;T++)if(h[T]!==y[T])return;return 1}}function cl(h,y,T,v,b,A){return{start:{dts:h,pts:h+(T-y)},end:{dts:h+(v-y),pts:h+(b-T)},prependedContentDuration:A,baseMediaDecodeTime:h}}ll.prototype=new hn;var $o,dl,Wa,pp=ll,hl=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],pl=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],fp=An.H264Stream,mp=Qo.isLikelyAacData,Us=function(h,y){var T=[],v=0,b=0,A=1/0,B=(y=y||{}).firstSequenceNumber||0;Us.prototype.init.call(this),this.push=function(N){nl(h,N),h&&hl.forEach(function(F){h[F]=N[F]}),T.push(N)},this.setEarliestDts=function(N){v=N},this.setVideoBaseMediaDecodeTime=function(N){A=N},this.setAudioAppendStart=function(N){b=N},this.flush=function(){var N,F,$,K,Q;0!==T.length&&(N=function(h,y,T){return y.minSegmentDts>=T?h:(y.minSegmentDts=1/0,h.filter(function(v){return v.dts>=T&&(y.minSegmentDts=Math.min(y.minSegmentDts,v.dts),y.minSegmentPts=y.minSegmentDts,!0)}))}(T,h,v),h.baseMediaDecodeTime=Ud(h,y.keepOriginalTimestamps),Q=function(h,y,T,v){var b,A,B,N,F,$,K=0,Q=0;if(y.length&&(b=Bd(h.baseMediaDecodeTime,h.samplerate),A=Math.ceil(na/(h.samplerate/1024)),T&&v&&(B=b-Math.max(T,v),Q=(K=Math.floor(B/A))*A),!(K<1||na/2<Q))){for(N=(N=function wt(){var h,y;return vi||(h={96e3:[Ur,[227,64],Ae(154),[56]],88200:[Ur,[231],Ae(170),[56]],64e3:[Ur,[248,192],Ae(240),[56]],48e3:[Ur,[255,192],Ae(268),[55,148,128],Ae(54),[112]],44100:[Ur,[255,192],Ae(268),[55,163,128],Ae(84),[112]],32e3:[Ur,[255,192],Ae(268),[55,234],Ae(226),[112]],24e3:[Ur,[255,192],Ae(268),[55,255,128],Ae(268),[111,112],Ae(126),[224]],16e3:[Ur,[255,192],Ae(268),[55,255,128],Ae(268),[111,255],Ae(269),[223,108],Ae(195),[1,192]],12e3:[Zu,Ae(268),[3,127,248],Ae(268),[6,255,240],Ae(268),[13,255,224],Ae(268),[27,253,128],Ae(259),[56]],11025:[Zu,Ae(268),[3,127,248],Ae(268),[6,255,240],Ae(268),[13,255,224],Ae(268),[27,255,192],Ae(268),[55,175,128],Ae(108),[112]],8e3:[Zu,Ae(268),[3,121,16],Ae(47),[7]]},y=h,vi=Object.keys(y).reduce(function(T,v){return T[v]=new Uint8Array(y[v].reduce(function(b,A){return b.concat(A)},[])),T},{})),vi}()[h.samplerate])||y[0].data,F=0;F<K;F++)y.splice(0,0,{data:N,dts:($=y[0]).dts-A,pts:$.pts-A});return h.baseMediaDecodeTime-=Math.floor(function(h,y){return function(h,y){return h*y}(el(h),y)}(Q,h.samplerate)),Q}}(h,N,b,A),h.samples=function(h){for(var T=[],v=0;v<h.length;v++)T.push({size:h[v].data.byteLength,duration:1024});return T}(N),F=Qt(function(h){for(var y,T=0,v=new Uint8Array(function(A){for(var B=0,N=0;N<A.length;N++)B+=A[N].data.byteLength;return B}(h)),b=0;b<h.length;b++)v.set((y=h[b]).data,T),T+=y.data.byteLength;return v}(N)),T=[],K=ja(B,[h]),$=new Uint8Array(K.byteLength+F.byteLength),B++,$.set(K),$.set(F,K.byteLength),Va(h),K=Math.ceil(9216e4/h.samplerate),N.length&&(K*=N.length,this.trigger("segmentTimingInfo",cl(Bd(h.baseMediaDecodeTime,h.samplerate),N[0].dts,N[0].pts,N[0].dts+K,N[0].pts+K,Q||0)),this.trigger("timingInfo",{start:N[0].pts,end:N[0].pts+K})),this.trigger("data",{track:h,boxes:$})),this.trigger("done","AudioSegmentStream")},this.reset=function(){Va(h),T=[],this.trigger("reset")}};function Qd(h){var y=31&h[1];return(y<<=8)|h[2]}function Jo(h){return!!(64&h[1])}function Zo(h){var y=0;return 1<(48&h[3])>>>4&&(y+=h[4]+1),y}function fl(h){switch(h){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}Us.prototype=new hn,($o=function(h,y){var T,v,b=[],A=[],B=(y=y||{}).firstSequenceNumber||0;$o.prototype.init.call(this),delete h.minPTS,this.gopCache_=[],this.push=function(N){nl(h,N),"seq_parameter_set_rbsp"!==N.nalUnitType||T||(T=N.config,h.sps=[N.data],pl.forEach(function(F){h[F]=T[F]},this)),"pic_parameter_set_rbsp"!==N.nalUnitType||v||(v=N.data,h.pps=[N.data]),b.push(N)},this.flush=function(){for(var N,F,$,K=0;b.length&&"access_unit_delimiter_rbsp"!==b[0].nalUnitType;)b.shift();if(0===b.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(N=function(h){var y,T,v=[],b=[];for(b.byteLength=0,b.nalCount=0,b.duration=0,y=v.byteLength=0;y<h.length;y++)"access_unit_delimiter_rbsp"===(T=h[y]).nalUnitType?(v.length&&(v.duration=T.dts-v.dts,b.byteLength+=v.byteLength,b.nalCount+=v.length,b.duration+=v.duration,b.push(v)),(v=[T]).byteLength=T.data.byteLength,v.pts=T.pts,v.dts=T.dts):("slice_layer_without_partitioning_rbsp_idr"===T.nalUnitType&&(v.keyFrame=!0),v.duration=T.dts-v.dts,v.byteLength+=T.data.byteLength,v.push(T));return b.length&&(!v.duration||v.duration<=0)&&(v.duration=b[b.length-1].duration),b.byteLength+=v.byteLength,b.nalCount+=v.length,b.duration+=v.duration,b.push(v),b}(b),(F=function(h){var y,T,v=[],b=[];for(v.byteLength=0,v.nalCount=0,v.duration=0,v.pts=h[0].pts,v.dts=h[0].dts,b.byteLength=0,b.nalCount=0,b.duration=0,b.pts=h[0].pts,b.dts=h[0].dts,y=0;y<h.length;y++)(T=h[y]).keyFrame?(v.length&&(b.push(v),b.byteLength+=v.byteLength,b.nalCount+=v.nalCount,b.duration+=v.duration),(v=[T]).nalCount=T.length,v.byteLength=T.byteLength,v.pts=T.pts,v.dts=T.dts,v.duration=T.duration):(v.duration+=T.duration,v.nalCount+=T.length,v.byteLength+=T.byteLength,v.push(T));return b.length&&v.duration<=0&&(v.duration=b[b.length-1].duration),b.byteLength+=v.byteLength,b.nalCount+=v.nalCount,b.duration+=v.duration,b.push(v),b}(N))[0][0].keyFrame||(($=this.getGopForFusion_(b[0],h))?(K=$.duration,F.unshift($),F.byteLength+=$.byteLength,F.nalCount+=$.nalCount,F.pts=$.pts,F.dts=$.dts,F.duration+=$.duration):F=function(h){var y;return!h[0][0].keyFrame&&1<h.length&&(y=h.shift(),h.byteLength-=y.byteLength,h.nalCount-=y.nalCount,h[0][0].dts=y.dts,h[0][0].pts=y.pts,h[0][0].duration+=y.duration),h}(F)),A.length){var Q=y.alignGopsAtEnd?this.alignGopsAtEnd_(F):this.alignGopsAtStart_(F);if(!Q)return this.gopCache_.unshift({gop:F.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),b=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Va(h),F=Q}nl(h,F),h.samples=function(h,y){for(var T,v,b,A=0,B=[],N=0;N<h.length;N++)for(v=h[N],T=0;T<v.length;T++)A+=(b=wn(b=v[T],A)).size,B.push(b);return B}(F),N=Qt(function(h){for(var y,T,v,b,A,B=0,$=new Uint8Array(h.byteLength+4*h.nalCount),K=new DataView($.buffer),Q=0;Q<h.length;Q++)for(v=h[Q],y=0;y<v.length;y++)for(b=v[y],T=0;T<b.length;T++)K.setUint32(B,(A=b[T]).data.byteLength),$.set(A.data,B+=4),B+=A.data.byteLength;return $}(F)),h.baseMediaDecodeTime=Ud(h,y.keepOriginalTimestamps),this.trigger("processedGopsInfo",F.map(function(me){return{pts:me.pts,dts:me.dts,byteLength:me.byteLength}})),this.trigger("segmentTimingInfo",cl(h.baseMediaDecodeTime,($=F[0]).dts,$.pts,(Q=F[F.length-1]).dts+Q.duration,Q.pts+Q.duration,K)),this.trigger("timingInfo",{start:F[0].pts,end:F[F.length-1].pts+F[F.length-1].duration}),this.gopCache_.unshift({gop:F.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),b=[],this.trigger("baseMediaDecodeTime",h.baseMediaDecodeTime),this.trigger("timelineStartInfo",h.timelineStartInfo),K=ja(B,[h]),F=new Uint8Array(K.byteLength+N.byteLength),B++,F.set(K),F.set(N,K.byteLength),this.trigger("data",{track:h,boxes:F}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),b=[],this.gopCache_.length=0,A.length=0,this.trigger("reset")},this.resetStream_=function(){Va(h),v=T=void 0},this.getGopForFusion_=function(N){for(var F,$,K,Q=1/0,me=0;me<this.gopCache_.length;me++)$=(K=this.gopCache_[me]).gop,h.pps&&Yd(h.pps[0],K.pps[0])&&h.sps&&Yd(h.sps[0],K.sps[0])&&($.dts<h.timelineStartInfo.dts||-1e4<=($=N.dts-$.dts-$.duration)&&$<=45e3&&(!F||$<Q)&&(F=K,Q=$));return F?F.gop:null},this.alignGopsAtStart_=function(N){for(var F,$,K,Q,me=N.byteLength,Ne=N.nalCount,Ze=N.duration,st=F=0;st<A.length&&F<N.length&&($=A[st]).pts!==(K=N[F]).pts;)K.pts>$.pts?st++:(F++,me-=K.byteLength,Ne-=K.nalCount,Ze-=K.duration);return 0===F?N:F===N.length?null:((Q=N.slice(F)).byteLength=me,Q.duration=Ze,Q.nalCount=Ne,Q.pts=Q[0].pts,Q.dts=Q[0].dts,Q)},this.alignGopsAtEnd_=function(N){for(var F,$,K=A.length-1,Q=N.length-1,me=null,Ne=!1;0<=K&&0<=Q;){if((F=A[K]).pts===($=N[Q]).pts){Ne=!0;break}F.pts>$.pts?K--:(K===A.length-1&&(me=Q),Q--)}if(!Ne&&null===me)return null;if(0===(st=Ne?Q:me))return N;var Ze=N.slice(st),st=Ze.reduce(function(ft,Lt){return ft.byteLength+=Lt.byteLength,ft.duration+=Lt.duration,ft.nalCount+=Lt.nalCount,ft},{byteLength:0,duration:0,nalCount:0});return Ze.byteLength=st.byteLength,Ze.duration=st.duration,Ze.nalCount=st.nalCount,Ze.pts=Ze[0].pts,Ze.dts=Ze[0].dts,Ze},this.alignGopsWith=function(N){A=N}}).prototype=new hn,(Wa=function(h,y){this.numberOfTracks=0,this.metadataStream=y,this.remuxTracks=!(typeof(h=h||{}).remux<"u"&&!h.remux),this.keepOriginalTimestamps="boolean"==typeof h.keepOriginalTimestamps&&h.keepOriginalTimestamps,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Wa.prototype.init.call(this),this.push=function(T){return T.text?this.pendingCaptions.push(T):T.frames?this.pendingMetadata.push(T):(this.pendingTracks.push(T.track),this.pendingBytes+=T.boxes.byteLength,"video"===T.track.type&&(this.videoTrack=T.track,this.pendingBoxes.push(T.boxes)),void("audio"===T.track.type&&(this.audioTrack=T.track,this.pendingBoxes.unshift(T.boxes))))}}).prototype=new hn,Wa.prototype.flush=function(h){var y,T,v,b=0,A={captions:[],captionStreams:{},metadata:[],info:{}},B=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==h&&"AudioSegmentStream"!==h||this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(B=this.videoTrack.timelineStartInfo.pts,pl.forEach(function(N){A.info[N]=this.videoTrack[N]},this)):this.audioTrack&&(B=this.audioTrack.timelineStartInfo.pts,hl.forEach(function(N){A.info[N]=this.audioTrack[N]},this)),this.videoTrack||this.audioTrack){for(A.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,h=function(v){var y=e(),T=s(v);return(v=new Uint8Array(y.byteLength+T.byteLength)).set(y),v.set(T,y.byteLength),v}(this.pendingTracks),A.initSegment=new Uint8Array(h.byteLength),A.initSegment.set(h),A.data=new Uint8Array(this.pendingBytes),v=0;v<this.pendingBoxes.length;v++)A.data.set(this.pendingBoxes[v],b),b+=this.pendingBoxes[v].byteLength;for(v=0;v<this.pendingCaptions.length;v++)(y=this.pendingCaptions[v]).startTime=tl(y.startPts,B,this.keepOriginalTimestamps),y.endTime=tl(y.endPts,B,this.keepOriginalTimestamps),A.captionStreams[y.stream]=!0,A.captions.push(y);for(v=0;v<this.pendingMetadata.length;v++)(T=this.pendingMetadata[v]).cueTime=tl(T.pts,B,this.keepOriginalTimestamps),A.metadata.push(T);for(A.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",A),v=0;v<A.captions.length;v++)this.trigger("caption",y=A.captions[v]);for(v=0;v<A.metadata.length;v++)this.trigger("id3Frame",T=A.metadata[v])}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Wa.prototype.setRemux=function(h){this.remuxTracks=h},(dl=function(h){var y,T,v=this,b=!0;dl.prototype.init.call(this),this.baseMediaDecodeTime=(h=h||{}).baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var A={};(this.transmuxPipeline_=A).type="aac",A.metadataStream=new Tr.MetadataStream,A.aacStream=new pp,A.audioTimestampRolloverStream=new Tr.TimestampRolloverStream("audio"),A.timedMetadataTimestampRolloverStream=new Tr.TimestampRolloverStream("timed-metadata"),A.adtsStream=new Vd,A.coalesceStream=new Wa(h,A.metadataStream),A.headOfPipeline=A.aacStream,A.aacStream.pipe(A.audioTimestampRolloverStream).pipe(A.adtsStream),A.aacStream.pipe(A.timedMetadataTimestampRolloverStream).pipe(A.metadataStream).pipe(A.coalesceStream),A.metadataStream.on("timestamp",function(B){A.aacStream.setTimestamp(B.timeStamp)}),A.aacStream.on("data",function(B){"timed-metadata"!==B.type&&"audio"!==B.type||A.audioSegmentStream||(T=T||{timelineStartInfo:{baseMediaDecodeTime:v.baseMediaDecodeTime},codec:"adts",type:"audio"},A.coalesceStream.numberOfTracks++,A.audioSegmentStream=new Us(T,h),A.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),A.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),A.adtsStream.pipe(A.audioSegmentStream).pipe(A.coalesceStream),v.trigger("trackinfo",{hasAudio:!!T,hasVideo:!!y}))}),A.coalesceStream.on("data",this.trigger.bind(this,"data")),A.coalesceStream.on("done",this.trigger.bind(this,"done")),Kd(this,A)},this.setupTsPipeline=function(){var A={};(this.transmuxPipeline_=A).type="ts",A.metadataStream=new Tr.MetadataStream,A.packetStream=new Tr.TransportPacketStream,A.parseStream=new Tr.TransportParseStream,A.elementaryStream=new Tr.ElementaryStream,A.timestampRolloverStream=new Tr.TimestampRolloverStream,A.adtsStream=new Vd,A.h264Stream=new fp,A.captionStream=new Tr.CaptionStream(h),A.coalesceStream=new Wa(h,A.metadataStream),A.headOfPipeline=A.packetStream,A.packetStream.pipe(A.parseStream).pipe(A.elementaryStream).pipe(A.timestampRolloverStream),A.timestampRolloverStream.pipe(A.h264Stream),A.timestampRolloverStream.pipe(A.adtsStream),A.timestampRolloverStream.pipe(A.metadataStream).pipe(A.coalesceStream),A.h264Stream.pipe(A.captionStream).pipe(A.coalesceStream),A.elementaryStream.on("data",function(B){var N;if("metadata"===B.type){for(N=B.tracks.length;N--;)y||"video"!==B.tracks[N].type?T||"audio"!==B.tracks[N].type||((T=B.tracks[N]).timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime):(y=B.tracks[N]).timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime;y&&!A.videoSegmentStream&&(A.coalesceStream.numberOfTracks++,A.videoSegmentStream=new $o(y,h),A.videoSegmentStream.on("log",v.getLogTrigger_("videoSegmentStream")),A.videoSegmentStream.on("timelineStartInfo",function(F){T&&!h.keepOriginalTimestamps&&(T.timelineStartInfo=F,A.audioSegmentStream.setEarliestDts(F.dts-v.baseMediaDecodeTime))}),A.videoSegmentStream.on("processedGopsInfo",v.trigger.bind(v,"gopInfo")),A.videoSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"videoSegmentTimingInfo")),A.videoSegmentStream.on("baseMediaDecodeTime",function(F){T&&A.audioSegmentStream.setVideoBaseMediaDecodeTime(F)}),A.videoSegmentStream.on("timingInfo",v.trigger.bind(v,"videoTimingInfo")),A.h264Stream.pipe(A.videoSegmentStream).pipe(A.coalesceStream)),T&&!A.audioSegmentStream&&(A.coalesceStream.numberOfTracks++,A.audioSegmentStream=new Us(T,h),A.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),A.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),A.audioSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"audioSegmentTimingInfo")),A.adtsStream.pipe(A.audioSegmentStream).pipe(A.coalesceStream)),v.trigger("trackinfo",{hasAudio:!!T,hasVideo:!!y})}}),A.coalesceStream.on("data",this.trigger.bind(this,"data")),A.coalesceStream.on("id3Frame",function(B){B.dispatchType=A.metadataStream.dispatchType,v.trigger("id3Frame",B)}),A.coalesceStream.on("caption",this.trigger.bind(this,"caption")),A.coalesceStream.on("done",this.trigger.bind(this,"done")),Kd(this,A)},this.setBaseMediaDecodeTime=function(A){var B=this.transmuxPipeline_;h.keepOriginalTimestamps||(this.baseMediaDecodeTime=A),T&&(T.timelineStartInfo.dts=void 0,T.timelineStartInfo.pts=void 0,Va(T),B.audioTimestampRolloverStream&&B.audioTimestampRolloverStream.discontinuity()),y&&(B.videoSegmentStream&&(B.videoSegmentStream.gopCache_=[]),y.timelineStartInfo.dts=void 0,y.timelineStartInfo.pts=void 0,Va(y),B.captionStream.reset()),B.timestampRolloverStream&&B.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(A){T&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(A)},this.setRemux=function(A){var B=this.transmuxPipeline_;h.remux=A,B&&B.coalesceStream&&B.coalesceStream.setRemux(A)},this.alignGopsWith=function(A){y&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(A)},this.getLogTrigger_=function(A){var B=this;return function(N){N.stream=A,B.trigger("log",N)}},this.push=function(A){var B;b&&((B=mp(A))&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():B||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),b=!1),this.transmuxPipeline_.headOfPipeline.push(A)},this.flush=function(){b=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new hn;var zs,vp={Transmuxer:dl,VideoSegmentStream:$o,AudioSegmentStream:Us,AUDIO_PROPERTIES:hl,VIDEO_PROPERTIES:pl,generateSegmentTimingInfo:cl},Ga=function(h){var y="";return y+=String.fromCharCode(h[0]),y+=String.fromCharCode(h[1]),(y+=String.fromCharCode(h[2]))+String.fromCharCode(h[3])},bp=An=function(h){return h>>>0},xn=function h(y,T){var v,b,A,B=[];if(!T.length)return null;for(v=0;v<y.byteLength;)b=bp(y[v]<<24|y[v+1]<<16|y[v+2]<<8|y[v+3]),A=Ga(y.subarray(v+4,v+8)),b=1<b?v+b:y.byteLength,A===T[0]&&(1===T.length?B.push(y.subarray(v+8,b)):(A=h(y.subarray(v+8,b),T.slice(1))).length&&(B=B.concat(A))),v=b;return B},_p=An,Tp=zs.getUint64,$d=function(h){return{isLeading:(12&h[0])>>>2,dependsOn:3&h[0],isDependedOn:(192&h[1])>>>6,hasRedundancy:(48&h[1])>>>4,paddingValue:(14&h[1])>>>1,isNonSyncSample:1&h[1],degradationPriority:h[2]<<8|h[3]}},ml=(hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hn=typeof window<"u"?window:typeof hn<"u"?hn:typeof self<"u"?self:{}),kp=gl,Ep=Vo.CaptionStream,Cp=function(){var h,y,T,v,b,A,B=!1;this.isInitialized=function(){return B},this.init=function(N){h=new Ep,B=!0,A=!!N&&N.isPartial,h.on("data",function(F){F.startTime=F.startPts/v,F.endTime=F.endPts/v,b.captions.push(F),b.captionStreams[F.stream]=!0}),h.on("log",function(F){b.logs.push(F)})},this.isNewInit=function(N,F){return!(N&&0===N.length||F&&"object"==typeof F&&0===Object.keys(F).length||T===N[0]&&v===F[T])},this.parse=function(N,F,$){if(!this.isInitialized()||!F||!$)return null;if(this.isNewInit(F,$))v=$[T=F[0]];else if(null===T||!v)return y.push(N),null;for(;0<y.length;){var K=y.shift();this.parse(K,F,$)}return Ne=v,(N=null===(me=T)?null:(me=function yp(v,y){var T=xn(v,["moof","traf"]),b=(v=xn(v,["mdat"]),{}),A=[];return v.forEach(function(B,N){A.push({mdat:B,traf:N=T[N]})}),A.forEach(function(Ze){var N,F,$,K,Q,me=Ze.mdat,st=xn(ft=Ze.traf,["tfhd"]),Ne=function(K){var y=new DataView(K.buffer,K.byteOffset,K.byteLength),T={version:K[0],flags:new Uint8Array(K.subarray(1,4)),trackId:y.getUint32(4)},v=1&T.flags[2],b=2&T.flags[2],A=8&T.flags[2],B=16&T.flags[2],N=32&T.flags[2],F=65536&T.flags[0],$=131072&T.flags[0];return K=8,v&&(K+=4,T.baseDataOffset=y.getUint32(12),K+=4),b&&(T.sampleDescriptionIndex=y.getUint32(K),K+=4),A&&(T.defaultSampleDuration=y.getUint32(K),K+=4),B&&(T.defaultSampleSize=y.getUint32(K),K+=4),N&&(T.defaultSampleFlags=y.getUint32(K)),F&&(T.durationIsEmpty=!0),!v&&$&&(T.baseDataOffsetIsMoof=!0),T}(st[0]),ft=(Ze=Ne.trackId,st=0<(st=xn(ft,["tfdt"])).length?function(h){var y={version:h[0],flags:new Uint8Array(h.subarray(1,4))};return y.baseMediaDecodeTime=1===y.version?Tp(h.subarray(4)):_p(h[4]<<24|h[5]<<16|h[6]<<8|h[7]),y}(st[0]).baseMediaDecodeTime:0,xn(ft,["trun"]));y===Ze&&0<ft.length&&(N=st,F=Ne.defaultSampleDuration||0,$=Ne.defaultSampleSize||0,K=Ne.trackId,Q=[],ft.forEach(function(Lt){(Lt=function(h){var y,T={version:h[0],flags:new Uint8Array(h.subarray(1,4)),samples:[]},v=new DataView(h.buffer,h.byteOffset,h.byteLength),b=1&T.flags[2],A=4&T.flags[2],B=1&T.flags[1],N=2&T.flags[1],F=4&T.flags[1],$=8&T.flags[1],K=v.getUint32(4),Q=8;for(b&&(T.dataOffset=v.getInt32(Q),Q+=4),A&&K&&(y={flags:$d(h.subarray(Q,Q+4))},Q+=4,B&&(y.duration=v.getUint32(Q),Q+=4),N&&(y.size=v.getUint32(Q),Q+=4),$&&(y.compositionTimeOffset=1===T.version?v.getInt32(Q):v.getUint32(Q),Q+=4),T.samples.push(y),K--);K--;)y={},B&&(y.duration=v.getUint32(Q),Q+=4),N&&(y.size=v.getUint32(Q),Q+=4),F&&(y.flags=$d(h.subarray(Q,Q+4)),Q+=4),$&&(y.compositionTimeOffset=1===T.version?v.getInt32(Q):v.getUint32(Q),Q+=4),T.samples.push(y);return T}(Lt).samples).forEach(function(Fe){void 0===Fe.duration&&(Fe.duration=F),void 0===Fe.size&&(Fe.size=$),Fe.trackId=K,Fe.dts=N,void 0===Fe.compositionTimeOffset&&(Fe.compositionTimeOffset=0),"bigint"==typeof N?(Fe.pts=N+ml.BigInt(Fe.compositionTimeOffset),N+=ml.BigInt(Fe.duration)):(Fe.pts=N+Fe.compositionTimeOffset,N+=Fe.duration)}),Q=Q.concat(Lt)}),me=function(Lt,Fe,Ke){for(var Fr,Ka,yl=new DataView(Lt.buffer,Lt.byteOffset,Lt.byteLength),vl={logs:[],seiNals:[]},wr=0;wr+4<Lt.length;wr+=Fr)if(Fr=yl.getUint32(wr),wr+=4,!(Fr<=0))switch(31&Lt[wr]){case 6:var zr=Lt.subarray(wr+1,wr+1+Fr),tu=function(Np,Zd){for(var eh=Np,bl=0;bl<Zd.length;bl++){var _l=Zd[bl];if(eh<_l.size)return _l;eh-=_l.size}return null}(wr,Fe);if(zr={nalUnitType:"sei_rbsp",size:Fr,data:zr,escapedRBSP:kp(zr),trackId:Ke},tu)zr.pts=tu.pts,zr.dts=tu.dts,Ka=tu;else{if(!Ka){vl.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+wr+" for trackId "+Ke+". See mux.js#223."});break}zr.pts=Ka.pts,zr.dts=Ka.dts}vl.seiNals.push(zr)}return vl}(me,Q,Ze),b[Ze]||(b[Ze]={seiNals:[],logs:[]}),b[Ze].seiNals=b[Ze].seiNals.concat(me.seiNals),b[Ze].logs=b[Ze].logs.concat(me.logs))}),b}(N,me)[me]||{},{seiNals:me.seiNals,logs:me.logs,timescale:Ne}))&&N.logs&&(b.logs=b.logs.concat(N.logs)),null!==N&&N.seiNals?(this.pushNals(N.seiNals),this.flushStream(),b):b.logs.length?{logs:b.logs,captions:[],captionStreams:[]}:null;var me,Ne},this.pushNals=function(N){if(!this.isInitialized()||!N||0===N.length)return null;N.forEach(function(F){h.push(F)})},this.flushStream=function(){if(!this.isInitialized())return null;A?h.partialFlush():h.flush()},this.clearParsedCaptions=function(){b.captions=[],b.captionStreams={},b.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;h.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){y=[],v=T=null,b?this.clearParsedCaptions():b={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},eu=An,Fs=function(h){return("00"+h.toString(16)).slice(-2)},Ap=zs.getUint64,Mp=(hn=function(h){return xn(h,["moov","trak"]).reduce(function(y,T){var b,A=xn(T,["tkhd"])[0];return A?(A=eu(A[b=0===A[0]?12:20]<<24|A[1+b]<<16|A[2+b]<<8|A[3+b]),(T=xn(T,["mdia","mdhd"])[0])?(y[A]=eu(T[b=0===T[0]?12:20]<<24|T[1+b]<<16|T[2+b]<<8|T[3+b]),y):null):null},{})},An=function(y){y=xn(y,["moov","trak"]);var T=[];return y.forEach(function(v){var b=xn(v,["mdia","hdlr"]),A=xn(v,["tkhd"]);b.forEach(function(B,N){B=Ga(B.subarray(8,12)),N=A[N],"vide"===B&&(N=0===(N=new DataView(N.buffer,N.byteOffset,N.byteLength)).getUint8(0)?N.getUint32(12):N.getUint32(20),T.push(N))})}),T},gl=function(h,y){return"bigint"==typeof(y=xn(y,["moof","traf"]).reduce(function(T,N){var b,A=xn(N,["tfhd"])[0],B=eu(A[4]<<24|A[5]<<16|A[6]<<8|A[7]);return A=h[B]||9e4,B=xn(N,["tfdt"])[0],N=new DataView(B.buffer,B.byteOffset,B.byteLength),"bigint"==typeof(N=1===B[0]?Ap(B.subarray(4,12)):N.getUint32(4))?b=N/ml.BigInt(A):"number"!=typeof N||isNaN(N)||(b=N/A),(b=b<Number.MAX_SAFE_INTEGER?Number(b):b)<T?b:T},1/0))||isFinite(y)?y:0}),Pp=zs=function(y){y=xn(y,["moov","trak"]);var T=[];return y.forEach(function(v){var b={},A=xn(v,["tkhd"])[0];A&&(A=(B=new DataView(A.buffer,A.byteOffset,A.byteLength)).getUint8(0),b.id=B.getUint32(0===A?12:20));var B=xn(v,["mdia","hdlr"])[0];B&&(F=Ga(B.subarray(8,12)),b.type="vide"===F?"video":"soun"===F?"audio":F);var N,F=xn(v,["mdia","minf","stbl","stsd"])[0];F&&(F=F.subarray(8),b.codec=Ga(F.subarray(4,8)),(F=xn(F,[b.codec])[0])&&(/^[asm]vc[1-9]$/i.test(b.codec)?(N=F.subarray(78),"avcC"===Ga(N.subarray(4,8))&&11<N.length?(b.codec+=".",b.codec+=Fs(N[9]),b.codec+=Fs(N[10]),b.codec+=Fs(N[11])):b.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(b.codec)?(N=F.subarray(28),"esds"===Ga(N.subarray(4,8))&&20<N.length&&0!==N[19]?(b.codec+="."+Fs(N[19]),b.codec+="."+Fs(N[20]>>>2&63).replace(/^0/,"")):b.codec="mp4a.40.2"):b.codec=b.codec.toLowerCase())),(v=xn(v,["mdia","mdhd"])[0])&&(b.timescale=function(h){var y=0===h[0]?12:20;return eu(h[y]<<24|h[1+y]<<16|h[2+y]<<8|h[3+y])}(v)),T.push(b)}),T},Xa=pi,Ct={};function Op(h,y,T){for(var v,b,A,B,N=0,F=188,$=!1;F<=h.byteLength;)if(71!==h[N]||71!==h[F]&&F!==h.byteLength)N++,F++;else{if(v=h.subarray(N,F),"pes"===Ct.ts.parseType(v,y.pid)&&(b=Ct.ts.parsePesType(v,y.table),A=Ct.ts.parsePayloadUnitStartIndicator(v),"audio"===b&&A&&(B=Ct.ts.parsePesTime(v))&&(B.type="audio",T.audio.push(B),$=!0)),$)break;N+=188,F+=188}for(N=(F=h.byteLength)-188,$=!1;0<=N;)if(71!==h[N]||71!==h[F]&&F!==h.byteLength)N--,F--;else{if(v=h.subarray(N,F),"pes"===Ct.ts.parseType(v,y.pid)&&(b=Ct.ts.parsePesType(v,y.table),A=Ct.ts.parsePayloadUnitStartIndicator(v),"audio"===b&&A&&(B=Ct.ts.parsePesTime(v))&&(B.type="audio",T.audio.push(B),$=!0)),$)break;N-=188,F-=188}}function Lp(h){var y,T={pid:null,table:null},v={};for(y in function(b,A){for(var B,N=0,F=188;F<b.byteLength;)if(71!==b[N]||71!==b[F])N++,F++;else{switch(B=b.subarray(N,F),Ct.ts.parseType(B,A.pid)){case"pat":A.pid=Ct.ts.parsePat(B);break;case"pmt":var $=Ct.ts.parsePmt(B);A.table=A.table||{},Object.keys($).forEach(function(K){A.table[K]=$[K]})}N+=188,F+=188}}(h,T),T.table)if(T.table.hasOwnProperty(y))switch(T.table[y]){case Hn.H264_STREAM_TYPE:v.video=[],function(b,A,B){for(var N,F,$,K,Q,me,Ne,Ze,st=0,ft=188,Lt=!1,Fe={data:[],size:0};ft<b.byteLength;)if(71!==b[st]||71!==b[ft])st++,ft++;else{if(N=b.subarray(st,ft),"pes"===Ct.ts.parseType(N,A.pid)&&(F=Ct.ts.parsePesType(N,A.table),$=Ct.ts.parsePayloadUnitStartIndicator(N),"video"===F&&($&&!Lt&&(K=Ct.ts.parsePesTime(N))&&(K.type="video",B.video.push(K),Lt=!0),!B.firstKeyFrame))){if($&&0!==Fe.size){for(Q=new Uint8Array(Fe.size),me=0;Fe.data.length;)Ne=Fe.data.shift(),Q.set(Ne,me),me+=Ne.byteLength;!Ct.ts.videoPacketContainsKeyFrame(Q)||(Ze=Ct.ts.parsePesTime(Q))&&(B.firstKeyFrame=Ze,B.firstKeyFrame.type="video"),Fe.size=0}Fe.data.push(N),Fe.size+=N.byteLength}if(Lt&&B.firstKeyFrame)break;st+=188,ft+=188}for(st=(ft=b.byteLength)-188,Lt=!1;0<=st;)if(71!==b[st]||71!==b[ft])st--,ft--;else{if(N=b.subarray(st,ft),"pes"===Ct.ts.parseType(N,A.pid)&&(F=Ct.ts.parsePesType(N,A.table),$=Ct.ts.parsePayloadUnitStartIndicator(N),"video"===F&&$&&(K=Ct.ts.parsePesTime(N))&&(K.type="video",B.video.push(K),Lt=!0)),Lt)break;st-=188,ft-=188}}(h,T,v),0===v.video.length&&delete v.video;break;case Hn.ADTS_STREAM_TYPE:v.audio=[],Op(h,T,v),0===v.audio.length&&delete v.audio}return v}Ct.ts={parseType:function(h,y){return 0===(h=Qd(h))?"pat":h===y?"pmt":y?"pes":null},parsePat:function(h){var y=Jo(h),T=4+Zo(h);return y&&(T+=h[T]+1),(31&h[T+10])<<8|h[T+11]},parsePmt:function(h){var y={},T=Jo(h),v=4+Zo(h);if(T&&(v+=h[v]+1),1&h[v+5]){for(var b=3+((15&h[v+1])<<8|h[v+2])-4,A=12+((15&h[v+10])<<8|h[v+11]);A<b;){var B=v+A;y[(31&h[B+1])<<8|h[B+2]]=h[B],A+=5+((15&h[B+3])<<8|h[B+4])}return y}},parsePayloadUnitStartIndicator:Jo,parsePesType:function(h,y){switch(y[Qd(h)]){case Hn.H264_STREAM_TYPE:return"video";case Hn.ADTS_STREAM_TYPE:return"audio";case Hn.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(h){if(!Jo(h))return null;var y=4+Zo(h);if(y>=h.byteLength)return null;var T=null,v=h[y+7];return 192&v&&((T={}).pts=(14&h[y+9])<<27|(255&h[y+10])<<20|(254&h[y+11])<<12|(255&h[y+12])<<5|(254&h[y+13])>>>3,T.pts*=4,T.pts+=(6&h[y+13])>>>1,T.dts=T.pts,64&v&&(T.dts=(14&h[y+14])<<27|(255&h[y+15])<<20|(254&h[y+16])<<12|(255&h[y+17])<<5|(254&h[y+18])>>>3,T.dts*=4,T.dts+=(6&h[y+18])>>>1)),T},videoPacketContainsKeyFrame:function(h){for(var y=4+Zo(h),T=h.subarray(y),v=0,b=0,A=!1;b<T.byteLength-3;b++)if(1===T[b+2]){v=b+5;break}for(;v<T.byteLength;)switch(T[v]){case 0:if(0!==T[v-1]){v+=2;break}if(0!==T[v-2]){v++;break}for(b+3!==v-2&&"slice_layer_without_partitioning_rbsp_idr"===fl(31&T[b+3])&&(A=!0);1!==T[++v]&&v<T.length;);b=v-2,v+=3;break;case 1:if(0!==T[v-1]||0!==T[v-2]){v+=3;break}"slice_layer_without_partitioning_rbsp_idr"===fl(31&T[b+3])&&(A=!0),b=v-2,v+=3;break;default:v+=3}return T=T.subarray(b),v-=b,b=0,!!(T&&3<T.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===fl(31&T[b+3]))||A}},Ct.aac=Qo;var ra=na,Dp=function(h,y){var T,v,b=(Ct.aac.isLikelyAacData(h)?function(A){for(var B,N=!1,F=0,$=null,K=null,Q=0,me=0;3<=A.length-me;){switch(Ct.aac.parseType(A,me)){case"timed-metadata":if(A.length-me<10){N=!0;break}if((Q=Ct.aac.parseId3TagSize(A,me))>A.length){N=!0;break}null===K&&(B=A.subarray(me,me+Q),K=Ct.aac.parseAacTimestamp(B)),me+=Q;break;case"audio":if(A.length-me<7){N=!0;break}if((Q=Ct.aac.parseAdtsSize(A,me))>A.length){N=!0;break}null===$&&(B=A.subarray(me,me+Q),$=Ct.aac.parseSampleRate(B)),F++,me+=Q;break;default:me++}if(N)return null}if(null===$||null===K)return null;var Ne=ra/$;return{audio:[{type:"audio",dts:K,pts:K},{type:"audio",dts:K+1024*F*Ne,pts:K+1024*F*Ne}]}}:Lp)(h);return b&&(b.audio||b.video)?(h=y,(y=b).audio&&y.audio.length&&(typeof(T=h)<"u"&&!isNaN(T)||(T=y.audio[0].dts),y.audio.forEach(function(A){A.dts=Xa(A.dts,T),A.pts=Xa(A.pts,T),A.dtsTime=A.dts/ra,A.ptsTime=A.pts/ra})),y.video&&y.video.length&&(typeof(v=h)<"u"&&!isNaN(v)||(v=y.video[0].dts),y.video.forEach(function(A){A.dts=Xa(A.dts,v),A.pts=Xa(A.pts,v),A.dtsTime=A.dts/ra,A.ptsTime=A.pts/ra}),y.firstKeyFrame&&((y=y.firstKeyFrame).dts=Xa(y.dts,v),y.pts=Xa(y.pts,v),y.dtsTime=y.dts/ra,y.ptsTime=y.pts/ra)),b):null},Jd=function(){function h(T,v){this.options=v||{},this.self=T,this.init()}var y=h.prototype;return y.init=function(){var T,v;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new vp.Transmuxer(this.options),T=this.self,(v=this.transmuxer).on("data",function(b){var A=b.initSegment;b.initSegment={data:A.buffer,byteOffset:A.byteOffset,byteLength:A.byteLength},b.data=(A=b.data).buffer,T.postMessage({action:"data",segment:b,byteOffset:A.byteOffset,byteLength:A.byteLength},[b.data])}),v.on("done",function(b){T.postMessage({action:"done"})}),v.on("gopInfo",function(b){T.postMessage({action:"gopInfo",gopInfo:b})}),v.on("videoSegmentTimingInfo",function(b){var A={start:{decode:Kn(b.start.dts),presentation:Kn(b.start.pts)},end:{decode:Kn(b.end.dts),presentation:Kn(b.end.pts)},baseMediaDecodeTime:Kn(b.baseMediaDecodeTime)};b.prependedContentDuration&&(A.prependedContentDuration=Kn(b.prependedContentDuration)),T.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:A})}),v.on("audioSegmentTimingInfo",function(b){var A={start:{decode:Kn(b.start.dts),presentation:Kn(b.start.pts)},end:{decode:Kn(b.end.dts),presentation:Kn(b.end.pts)},baseMediaDecodeTime:Kn(b.baseMediaDecodeTime)};b.prependedContentDuration&&(A.prependedContentDuration=Kn(b.prependedContentDuration)),T.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:A})}),v.on("id3Frame",function(b){T.postMessage({action:"id3Frame",id3Frame:b})}),v.on("caption",function(b){T.postMessage({action:"caption",caption:b})}),v.on("trackinfo",function(b){T.postMessage({action:"trackinfo",trackInfo:b})}),v.on("audioTimingInfo",function(b){T.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Kn(b.start),end:Kn(b.end)}})}),v.on("videoTimingInfo",function(b){T.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Kn(b.start),end:Kn(b.end)}})}),v.on("log",function(b){T.postMessage({action:"log",log:b})})},y.pushMp4Captions=function(b){this.captionParser||(this.captionParser=new Cp,this.captionParser.init());var v=new Uint8Array(b.data,b.byteOffset,b.byteLength);b=this.captionParser.parse(v,b.trackIds,b.timescales),this.self.postMessage({action:"mp4Captions",captions:b&&b.captions||[],logs:b&&b.logs||[],data:v.buffer},[v.buffer])},y.probeMp4StartTime=function(v){var b=Mp(b=v.timescales,v=v.data);this.self.postMessage({action:"probeMp4StartTime",startTime:b,data:v},[v.buffer])},y.probeMp4Tracks=function(b){var v=b.data;b=Pp(v),this.self.postMessage({action:"probeMp4Tracks",tracks:b,data:v},[v.buffer])},y.probeTs=function(A){var v=A.data,b=(A="number"!=typeof(b=A.baseStartTime)||isNaN(b)?void 0:b*na,Dp(v,A));A=null,b&&((A={hasVideo:b.video&&2===b.video.length||!1,hasAudio:b.audio&&2===b.audio.length||!1}).hasVideo&&(A.videoStart=b.video[0].ptsTime),A.hasAudio&&(A.audioStart=b.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:A,data:v},[v.buffer])},y.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},y.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},y.push=function(T){T=new Uint8Array(T.data,T.byteOffset,T.byteLength),this.transmuxer.push(T)},y.reset=function(){this.transmuxer.reset()},y.setTimestampOffset=function(T){T=T.timestampOffset||0,this.transmuxer.setBaseMediaDecodeTime(Math.round(Rd(T)))},y.setAudioAppendStart=function(T){this.transmuxer.setAudioAppendStart(Math.ceil(Rd(T.appendStart)))},y.setRemux=function(T){this.transmuxer.setRemux(T.remux)},y.flush=function(T){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},y.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},y.alignGopsWith=function(T){this.transmuxer.alignGopsWith(T.gopsToAlignWith.slice())},h}();self.onmessage=function(h){"init"===h.data.action&&h.data.options?this.messageHandlers=new Jd(self,h.data.options):(this.messageHandlers||(this.messageHandlers=new Jd(self)),h.data&&h.data.action&&"init"!==h.data.action&&this.messageHandlers[h.data.action]&&this.messageHandlers[h.data.action](h.data))}}))),md=function(t){t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),"function"==typeof t.currentTransmux?t.currentTransmux():Jc(t.currentTransmux))},gd=function(t){!function s0(t,a){if(!a.currentTransmux)return a.currentTransmux=t,Zc(a,t),0;a.transmuxQueue.push(Zc.bind(null,a,t))}("reset",t)},Bo=2,Gu=-101,Xu=-102,_0=zi("CodecUtils"),Uo=zi("PlaylistSelector"),Ku=(Mi=function(){var t=this.useDevicePixelRatio&&window.devicePixelRatio||1;return od(this.playlists.master,this.systemBandwidth,parseInt(No(this.tech_.el(),"width"),10)*t,parseInt(No(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},function(t){function a(e,n){var r=t.call(this)||this;if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return r.bandwidth=e.bandwidth,r.throughput={rate:0,count:0},r.roundTrip=NaN,r.resetStats_(),r.mediaIndex=null,r.partIndex=null,r.hasPlayed_=e.hasPlayed,r.currentTime_=e.currentTime,r.seekable_=e.seekable,r.seeking_=e.seeking,r.duration_=e.duration,r.mediaSource_=e.mediaSource,r.vhs_=e.vhs,r.loaderType_=e.loaderType,r.currentMediaInfo_=void 0,r.startingMediaInfo_=void 0,r.segmentMetadataTrack_=e.segmentMetadataTrack,r.goalBufferLength_=e.goalBufferLength,r.sourceType_=e.sourceType,r.sourceUpdater_=e.sourceUpdater,r.inbandTextTracks_=e.inbandTextTracks,r.state_="INIT",r.timelineChangeController_=e.timelineChangeController,r.shouldSaveSegmentTimingInfo_=!0,r.parse708captions_=e.parse708captions,r.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,r.captionServices_=e.captionServices,r.experimentalExactManifestTimings=e.experimentalExactManifestTimings,r.checkBufferTimeout_=null,r.error_=void 0,r.currentTimeline_=-1,r.pendingSegment_=null,r.xhrOptions_=null,r.pendingSegments_=[],r.audioDisabled_=!1,r.isPendingTimestampOffset_=!1,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=11<=H.browser.IE_VERSION,r.appendInitSegment_={audio:!0,video:!0},r.playlistOfLastInitSegment_={audio:null,video:null},r.callQueue_=[],r.loadQueue_=[],r.metadataQueue_={id3:[],caption:[]},r.waitingOnRemove_=!1,r.quotaExceededErrorRetryTimeout_=null,r.activeInitSegmentId_=null,r.initSegments_={},r.cacheEncryptionKeys_=e.cacheEncryptionKeys,r.keyCache_={},r.decrypter_=e.decrypter,r.syncController_=e.syncController,r.syncPoint_={segmentIndex:0,time:0},r.transmuxer_=r.createTransmuxer_(),r.triggerSyncInfoUpdate_=function(){return r.trigger("syncinfoupdate")},r.syncController_.on("syncinfoupdate",r.triggerSyncInfoUpdate_),r.mediaSource_.addEventListener("sourceopen",function(){r.isEndOfStream_()||(r.ended_=!1)}),r.fetchAtBuffer_=!1,r.logger_=zi("SegmentLoader["+r.loaderType_+"]"),Object.defineProperty(De(r),"state",{get:function(){return this.state_},set:function(s){s!==this.state_&&(this.logger_(this.state_+" -> "+s),this.state_=s,this.trigger("statechange"))}}),r.sourceUpdater_.on("ready",function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()}),"main"===r.loaderType_&&r.timelineChangeController_.on("pendingtimelinechange",function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()}),"audio"===r.loaderType_&&r.timelineChangeController_.on("timelinechange",function(){r.hasEnoughInfoToLoad_()&&r.processLoadQueue_(),r.hasEnoughInfoToAppend_()&&r.processCallQueue_()}),r}oe(a,t);var i=a.prototype;return i.createTransmuxer_=function(){return function(t){var a=new v0;a.currentTransmux=null,a.transmuxQueue=[];var i=a.terminate;return a.terminate=function(){return a.currentTransmux=null,a.transmuxQueue.length=0,i.call(a)},a.postMessage({action:"init",options:t}),a}({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,window.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},i.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},i.error=function(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&gd(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return H.createTimeRanges();if("main"===this.loaderType_){var n=e.hasAudio,r=e.hasVideo;if(e=e.isMuxed,r&&n&&!this.audioDisabled_&&!e)return this.sourceUpdater_.buffered();if(r)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(e,n){if(void 0===n&&(n=!1),!e)return null;var r=Oo(e),s=this.initSegments_[r];return n&&!s&&e.bytes&&(this.initSegments_[r]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),s||e},i.segmentKey=function(e,n){if(void 0===n&&(n=!1),!e)return null;var r=Wc(e),s=this.keyCache_[r];return this.cacheEncryptionKeys_&&n&&!s&&e.bytes&&(this.keyCache_[r]=s={resolvedUri:e.resolvedUri,bytes:e.bytes}),e={resolvedUri:(s||e).resolvedUri},s&&(e.bytes=s.bytes),e},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(e,n){if(void 0===n&&(n={}),e){var r=this.playlist_,s=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var o=null;if(r&&(r.id?o=r.id:r.uri&&(o=r.uri)),this.logger_("playlist update ["+o+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri)return null!==this.mediaIndex&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");this.logger_("live window shift ["+(n=e.mediaSequence-r.mediaSequence)+"]"),null!==this.mediaIndex&&(this.mediaIndex-=n,this.mediaIndex<0?(this.mediaIndex=null,this.partIndex=null):(o=this.playlist_.segments[this.mediaIndex],!this.partIndex||o.parts&&o.parts.length&&o.parts[this.partIndex]||(o=this.mediaIndex,this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=o))),s&&(s.mediaIndex-=n,s.mediaIndex<0?(s.mediaIndex=null,s.partIndex=null):(0<=s.mediaIndex&&(s.segment=e.segments[s.mediaIndex]),0<=s.partIndex&&s.segment.parts&&(s.part=s.segment.parts[s.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,e)}},i.pause=function(){this.checkBufferTimeout_&&(window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return null===this.checkBufferTimeout_},i.resetEverything=function(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&gd(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(e,n,r,s){if(void 0===r&&(r=function(){}),void 0===s&&(s=!1),(n=n===1/0?this.duration_():n)<=e)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var o,u=1,m=function(){0==--u&&r()};for(o in!s&&this.audioDisabled_||(u++,this.sourceUpdater_.removeAudio(e,n,m)),!s&&"main"!==this.loaderType_||(this.gopBuffer_=function(g,w,k,I){for(var S=Math.ceil((w-I)*Ao),P=Math.ceil((k-I)*Ao),U=(I=g.slice(),g.length);U--&&!(g[U].pts<=P););if(-1===U)return I;for(var M=U+1;M--&&!(g[M].pts<=S););return M=Math.max(M,0),I.splice(M,U-M+1),I}(this.gopBuffer_,e,n,this.timeMapping_),u++,this.sourceUpdater_.removeVideo(e,n,m)),this.inbandTextTracks_)Ns(e,n,this.inbandTextTracks_[o]);Ns(e,n,this.segmentMetadataTrack_),m()}else this.logger_("skipping remove because no source updater or starting media info")},i.monitorBuffer_=function(){this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),500)},i.fillBuffer_=function(){var e;this.sourceUpdater_.updating()||(e=this.chooseNextRequest_())&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))},i.isEndOfStream_=function(s,n,r){if(void 0===s&&(s=this.mediaIndex),void 0===n&&(n=this.playlist_),void 0===r&&(r=this.partIndex),!n||!this.mediaSource_)return!1;var o="number"==typeof s&&n.segments[s];return s=s+1===n.segments.length,o=!o||!o.parts||r+1===o.parts.length,n.endList&&"open"===this.mediaSource_.readyState&&s&&o},i.chooseNextRequest_=function(){var s,o,e=Ac(s=this.buffered_())||0,n=Pu(s,this.currentTime_()),u=!this.hasPlayed_()&&1<=n,r=n>=this.goalBufferLength_();if(!(s=this.playlist_.segments).length||u||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()),(u={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)}).isSyncRequest?u.mediaIndex=function(w,k,I){k=k||[];for(var S=[],P=0,U=0;U<k.length;U++){var M=k[U];if(w===M.timeline&&(S.push(U),I<(P+=M.duration)))return U}return 0===S.length?0:S[S.length-1]}(this.currentTimeline_,s,e):null!==this.mediaIndex?(o="number"==typeof this.partIndex?this.partIndex:-1,u.startOfSegment=(r=s[this.mediaIndex]).end||e,r.parts&&r.parts[o+1]?(u.mediaIndex=this.mediaIndex,u.partIndex=o+1):u.mediaIndex=this.mediaIndex+1):(o=(g=hi.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?e:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time})).segmentIndex,m=g.startTime,g=g.partIndex,u.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+e:"currentTime "+this.currentTime_(),u.mediaIndex=o,u.startOfSegment=m,u.partIndex=g);var m=s[u.mediaIndex],g=m&&"number"==typeof u.partIndex&&m.parts&&m.parts[u.partIndex];return!m||"number"==typeof u.partIndex&&!g?null:("number"!=typeof u.partIndex&&m.parts&&(u.partIndex=0,g=m.parts[0]),n||!g||g.independent||(0===u.partIndex?(g=(n=s[u.mediaIndex-1]).parts&&n.parts.length&&n.parts[n.parts.length-1])&&g.independent&&(--u.mediaIndex,u.partIndex=n.parts.length-1,u.independent="previous segment"):m.parts[u.partIndex-1].independent&&(--u.partIndex,u.independent="previous part")),m=this.mediaSource_&&"ended"===this.mediaSource_.readyState,u.mediaIndex>=s.length-1&&m&&!this.seeking_()?null:this.generateSegmentInfo_(u))},i.generateSegmentInfo_=function(w){var k=w.independent,n=w.playlist,r=w.mediaIndex,s=w.startOfSegment,o=w.isSyncRequest,u=w.partIndex,I=w.forceTimestampOffset,m=w.getMediaInfoForTime,g=n.segments[r];return w="number"==typeof u&&g.parts[u],k={requestId:"segment-loader-"+Math.random(),uri:w&&w.resolvedUri||g.resolvedUri,mediaIndex:r,partIndex:w?u:null,isSyncRequest:o,startOfSegment:s,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:g.timeline,duration:w&&w.duration||g.duration,segment:g,part:w,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:m,independent:k},I=typeof I<"u"?I:this.isPendingTimestampOffset_,k.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:g.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:I}),"number"==typeof(I=Ac(this.sourceUpdater_.audioBuffered()))&&(k.audioAppendStart=I-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(k.gopsToAlignWith=function(S,P,U){if(typeof P>"u"||null===P||!S.length)return[];for(var M=Math.ceil((P-U+3)*Ao),q=0;q<S.length&&!(S[q].pts>M);q++);return S.slice(q)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),k},i.timestampOffsetForSegment_=function(e){return r=(n=e).segmentTimeline,s=n.currentTimeline,e=n.buffered,n.overrideCheck||r!==s?r<s||!e.length?n.startOfSegment:e.end(e.length-1):null;var n,r,s},i.earlyAbortWhenNeeded_=function(e){var n,r,s,o,u,m,g,w,k,I,S,P,U;!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3||(n=this.currentTime_(),U=hi.estimateSegmentRequestTime(u=this.pendingSegment_.duration,o=e.bandwidth,this.playlist_,e.bytesReceived),r=this.buffered_(),s=n,void 0===(e=this.vhs_.tech_.playbackRate())&&(e=1),U<=(e=((r.length?r.end(r.length-1):0)-s)/e-1)||(o={master:this.vhs_.playlists.master,currentTime:n,bandwidth:o,duration:this.duration_(),segmentDuration:u,timeUntilRebuffer:e,currentTimeline:this.currentTimeline_,syncController:this.syncController_},m=o.currentTime,g=o.bandwidth,w=o.duration,k=o.segmentDuration,I=o.timeUntilRebuffer,S=o.currentTimeline,P=o.syncController,Fa(u=(o=(u=(u=(o=(u=o.master).playlists.filter(function(M){return!hi.isIncompatible(M)})).filter(hi.isEnabled)).length?u:o.filter(function(M){return!hi.isDisabled(M)})).filter(hi.hasAttribute.bind(null,"BANDWIDTH")).map(function(M){var q=P.getSyncPoint(M,w,S,m)?1:2;return{playlist:M,rebufferingImpact:hi.estimateSegmentRequestTime(k,g,M)*q-I}})).filter(function(M){return M.rebufferingImpact<=0}),function(M,q){return Vu(q.playlist,M.playlist)}),(o=u.length?u[0]:(Fa(o,function(M,q){return M.rebufferingImpact-q.rebufferingImpact}),o[0]||null))&&(U=U-e-o.rebufferingImpact,!o.playlist||o.playlist.uri===this.playlist_.uri||U<(e<=ta?1:.5)||(this.bandwidth=o.playlist.attributes.BANDWIDTH*Nn.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))))))},i.handleAbort_=function(e){this.logger_("Aborting "+za(e)),this.mediaRequestsAborted+=1},i.handleProgress_=function(e,n){this.earlyAbortWhenNeeded_(n.stats),this.checkForAbort_(n.requestId)||this.trigger("progress")},i.handleTrackInfo_=function(e,n){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(n)||(function(r,s){if(!r&&!s||!r&&s||r&&!s)return!1;if(r===s)return!0;var o=Object.keys(r).sort(),u=Object.keys(s).sort();if(o.length!==u.length)return!1;for(var m=0;m<o.length;m++){var g=o[m];if(g!==u[m]||r[g]!==s[g])return!1}return!0}(this.currentMediaInfo_,n=n||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},i.handleTimingInfo_=function(e,n,r,s){var o;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||((o=this.pendingSegment_)[e=ld(n)]=o[e]||{},o[e][r]=s,this.logger_("timinginfo: "+n+" - "+r+" - "+s),this.hasEnoughInfoToAppend_()&&this.processCallQueue_())},i.handleCaptions_=function(e,n){var r,s,o=this;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(0!==n.length?this.pendingSegment_.hasAppendedData_?(r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={},n.forEach(function(u){s[u.stream]=s[u.stream]||{startTime:1/0,captions:[],endTime:0};var m=s[u.stream];m.startTime=Math.min(m.startTime,u.startTime+r),m.endTime=Math.max(m.endTime,u.endTime+r),m.captions.push(u)}),Object.keys(s).forEach(function(u){var m,g,w,k,I,S,P,U,M,q,V=s[u],W=V.startTime,Y=V.endTime,se=V.captions,ce=o.inbandTextTracks_;o.logger_("adding cues from "+W+" -> "+Y+" for "+u),g=o.vhs_.tech_,(m=ce)[w=u]||(g.trigger({type:"usage",name:"vhs-608"}),g.trigger({type:"usage",name:"hls-608"}),/^cc708_/.test(k=w)&&(k="SERVICE"+w.split("_")[1]),(P=g.textTracks().getTrackById(k))?m[w]=P:(S=I=w,V=!1,(P=(g.options_.vhs&&g.options_.vhs.captionServices||{})[k])&&(I=P.label,S=P.language,V=P.default),m[w]=g.addRemoteTextTrack({kind:"captions",id:k,default:V,label:I,language:S},!1).track)),Ns(W,Y,ce[u]),M=(se={captionArray:se,inbandTextTracks:ce,timestampOffset:r}).inbandTextTracks,q=se.timestampOffset,(ce=se.captionArray)&&(U=window.WebKitDataCue||window.VTTCue,ce.forEach(function(Te){M[Te.stream].addCue(new U(Te.startTime+q,Te.endTime+q,Te.text))}))}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})):this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n)):this.logger_("SegmentLoader received no captions from a caption event"))},i.handleId3_=function(e,n,r){var s,o,u;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(this.pendingSegment_.hasAppendedData_?(s=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),u=r,(o=this.inbandTextTracks_).metadataTrack_||(o.metadataTrack_=this.vhs_.tech_.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,o.metadataTrack_.inBandMetadataTrackDispatchType=u),function p0(t){var i=t.metadataArray,e=t.timestampOffset,n=t.videoDuration;if(i){var r=window.WebKitDataCue||window.VTTCue,s=t.inbandTextTracks.metadataTrack_;if(s&&(i.forEach(function(k){var I=k.cueTime+e;!("number"!=typeof I||window.isNaN(I)||I<0)&&I<1/0&&k.frames.forEach(function(S){var P,U=new r(I,I,S.value||S.url||S.data||"");U.frame=S,U.value=S,P=U,Object.defineProperties(P.frame,{id:{get:function(){return H.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),P.value.key}},value:{get:function(){return H.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),P.value.data}},privateData:{get:function(){return H.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),P.value.data}}}),s.addCue(U)})}),s.cues&&s.cues.length)){for(var o=s.cues,u=[],m=0;m<o.length;m++)o[m]&&u.push(o[m]);var g=u.reduce(function(k,I){var S=k[I.startTime]||[];return S.push(I),k[I.startTime]=S,k},{}),w=Object.keys(g).sort(function(k,I){return Number(k)-Number(I)});w.forEach(function(S,I){S=g[S];var P=Number(w[I+1])||n;S.forEach(function(U){U.endTime=P})})}}}({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:s,videoDuration:this.duration_()})):this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,r)))},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(e){return e()}),this.metadataQueue_.caption.forEach(function(e){return e()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach(function(n){return n()})},i.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach(function(n){return n()})},i.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!(!e||this.getCurrentMediaInfo_()&&cd({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.getCurrentMediaInfo_=function(e){return(e=void 0===e?this.pendingSegment_:e)&&e.trackInfo||this.currentMediaInfo_},i.getMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},i.getPendingSegmentPlaylist=function(){return this.pendingSegment_?this.pendingSegment_.playlist:null},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,s=this.getCurrentMediaInfo_();if(!e||!s)return!1;var n=s.hasAudio,r=s.hasVideo;return s=s.isMuxed,!(r&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||cd({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.handleData_=function(e,n){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var r,s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),s.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),s.isFmp4=e.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4?(this.trigger("fmp4"),s.timingInfo.start=s[ld(n.type)].start):(r=this.getCurrentMediaInfo_(),(r="main"===this.loaderType_&&r&&r.hasVideo)&&(o=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:r,firstVideoFrameTimeForData:o,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})),this.updateAppendInitSegmentStatus(s,n.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:"main"===this.loaderType_});var o=this.chooseNextRequest_();if(o.mediaIndex!==s.mediaIndex||o.partIndex!==s.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,n)}}else this.callQueue_.push(this.handleData_.bind(this,e,n))},i.updateAppendInitSegmentStatus=function(e,n){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)},i.getInitSegmentAndUpdateState_=function(e){var n=e.type,r=e.initSegment,s=e.map,o=e.playlist;if(s){if(e=Oo(s),this.activeInitSegmentId_===e)return null;r=this.initSegmentForMap(s,!0).bytes,this.activeInitSegmentId_=e}return r&&this.appendInitSegment_[n]?(this.playlistOfLastInitSegment_[n]=o,this.appendInitSegment_[n]=!1,this.activeInitSegmentId_=null,r):null},i.handleQuotaExceededError_=function(S,n){var r=this,s=S.segmentInfo,o=S.type,u=S.bytes,m=this.sourceUpdater_.audioBuffered(),g=this.sourceUpdater_.videoBuffered();1<m.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+ea(m).join(", ")),1<g.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+ea(g).join(", "));var w=m.length?m.start(0):0,k=m.length?m.end(m.length-1):0,I=g.length?g.start(0):0;if(S=g.length?g.end(g.length-1):0,k-w<=1&&S-I<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+u.byteLength+", audio buffer: "+ea(m).join(", ")+", video buffer: "+ea(g).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:s,type:o,bytes:u})),u=this.currentTime_()-1,this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+u),this.remove(0,u,function(){r.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),r.waitingOnRemove_=!1,r.quotaExceededErrorRetryTimeout_=window.setTimeout(function(){r.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),r.quotaExceededErrorRetryTimeout_=null,r.processCallQueue_()},1e3)},!0)},i.handleAppendError_=function(o,n){var r=o.segmentInfo,s=o.type;o=o.bytes,n&&(22!==n.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",n),this.error(s+" append of "+o.length+"b failed for segment #"+r.mediaIndex+" in playlist "+r.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:r,type:s,bytes:o}))},i.appendToSourceBuffer_=function(e){var n,r,s=e.segmentInfo,o=e.type,u=e.initSegment,m=e.data,g=e.bytes;g||(e=[m],m=m.byteLength,u&&(e.unshift(u),m+=u.byteLength),r=0,(e={bytes:m,segments:e}).bytes&&(n=new Uint8Array(e.bytes),e.segments.forEach(function(w){n.set(w,r),r+=w.byteLength})),g=n),this.sourceUpdater_.appendBuffer({segmentInfo:s,type:o,bytes:g},this.handleAppendError_.bind(this,{segmentInfo:s,type:o,bytes:g}))},i.handleSegmentTimingInfo_=function(e,n,r){this.pendingSegment_&&n===this.pendingSegment_.requestId&&((n=this.pendingSegment_.segment)[e+="TimingInfo"]||(n[e]={}),n[e].transmuxerPrependedSeconds=r.prependedContentDuration||0,n[e].transmuxedPresentationStart=r.start.presentation,n[e].transmuxedDecodeStart=r.start.decode,n[e].transmuxedPresentationEnd=r.end.presentation,n[e].transmuxedDecodeEnd=r.end.decode,n[e].baseMediaDecodeTime=r.baseMediaDecodeTime)},i.appendData_=function(e,n){var r=n.type,s=n.data;s&&s.byteLength&&("audio"===r&&this.audioDisabled_||(n=this.getInitSegmentAndUpdateState_({type:r,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null}),this.appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:n,data:s})))},i.loadSegment_=function(e){var n=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push(function(){var r=Dt({},e,{forceTimestampOffset:!0});Dt(e,n.generateSegmentInfo_(r)),n.isPendingTimestampOffset_=!1,n.updateTransmuxerAndRequestSegment_(e)})},i.updateTransmuxerAndRequestSegment_=function(e){var n=this;this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var r=this.createSimplifiedSegmentObj_(e),s=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),u=e.timeline!==this.currentTimeline_&&0<e.timeline;u=s||null!==this.mediaIndex&&u,this.logger_("Requesting "+za(e)),r.map&&!r.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=function h0(V){var a,i,e,n=V.xhr,r=V.xhrOptions,o=V.segment,u=V.abortFn,m=V.progressFn,g=V.trackInfoFn,w=V.timingInfoFn,k=V.videoSegmentTimingInfoFn,I=V.audioSegmentTimingInfoFn,S=V.id3Fn,P=V.captionsFn,U=V.isEndOfTimeline,M=V.endedTimelineFn,q=V.dataFn,W=[],Y=function c0(t){var a=t.activeXhrs,i=t.decryptionWorker,e=t.trackInfoFn,n=t.timingInfoFn,r=t.videoSegmentTimingInfoFn,s=t.audioSegmentTimingInfoFn,o=t.id3Fn,u=t.captionsFn,m=t.isEndOfTimeline,g=t.endedTimelineFn,w=t.dataFn,k=t.doneFn,I=t.onTransmuxerLog,S=0,P=!1;return function(U,M){if(!P){if(U)return P=!0,Hu(a),k(U,M);if((S+=1)===a.length){var q=function(){if(M.encryptedBytes)return W=(V={decryptionWorker:i,segment:M,trackInfoFn:e,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:u,isEndOfTimeline:m,endedTimelineFn:g,dataFn:w,doneFn:k,onTransmuxerLog:I}).decryptionWorker,se=V.trackInfoFn,ce=V.timingInfoFn,Te=V.videoSegmentTimingInfoFn,ye=V.audioSegmentTimingInfoFn,Oe=V.id3Fn,Ee=V.captionsFn,vt=V.isEndOfTimeline,He=V.endedTimelineFn,Et=V.dataFn,bt=V.doneFn,at=V.onTransmuxerLog,void id({id:(Y=V.segment).requestId,key:Y.key,encryptedBytes:Y.encryptedBytes,decryptionWorker:W},function(ti){Y.bytes=ti,nd({segment:Y,bytes:Y.bytes,trackInfoFn:se,timingInfoFn:ce,videoSegmentTimingInfoFn:Te,audioSegmentTimingInfoFn:ye,id3Fn:Oe,captionsFn:Ee,isEndOfTimeline:vt,endedTimelineFn:He,dataFn:Et,doneFn:bt,onTransmuxerLog:at})});var V,W,Y,se,ce,Te,ye,Oe,Ee,vt,He,Et,bt,at;nd({segment:M,bytes:M.bytes,trackInfoFn:e,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:u,isEndOfTimeline:m,endedTimelineFn:g,dataFn:w,doneFn:k,onTransmuxerLog:I})};if(M.endOfAllRequests=Date.now(),M.map&&M.map.encryptedBytes&&!M.map.bytes)return id({decryptionWorker:i,id:M.requestId+"-init",encryptedBytes:M.map.encryptedBytes,key:M.map.key},function(V){M.map.bytes=V,td(M,function(W){return W?(Hu(a),k(W,M)):void q()})});q()}}}}({activeXhrs:W,decryptionWorker:V.decryptionWorker,trackInfoFn:g,timingInfoFn:w,videoSegmentTimingInfoFn:k,audioSegmentTimingInfoFn:I,id3Fn:S,captionsFn:P,isEndOfTimeline:U,endedTimelineFn:M,dataFn:q,doneFn:Y=V.doneFn,onTransmuxerLog:V=V.onTransmuxerLog});o.key&&!o.key.bytes&&(V=[o.key],o.map&&!o.map.bytes&&o.map.key&&o.map.key.resolvedUri===o.key.resolvedUri&&V.push(o.map.key),V=n(H.mergeOptions(r,{uri:o.key.resolvedUri,responseType:"arraybuffer"}),ed(o,V,Y)),W.push(V)),o.map&&!o.map.bytes&&(!o.map.key||o.key&&o.key.resolvedUri===o.map.key.resolvedUri||(a=n(H.mergeOptions(r,{uri:o.map.key.resolvedUri,responseType:"arraybuffer"}),ed(o,[o.map.key],Y)),W.push(a)),a=n(H.mergeOptions(r,{uri:o.map.resolvedUri,responseType:"arraybuffer",headers:qu(o.map)}),(i=(a={segment:o,finishProcessingFn:Y}).segment,e=a.finishProcessingFn,function(ce,Te){return(ce=ju(ce,Te))?e(ce,i):(ce=new Uint8Array(Te.response),i.map.key?(i.map.encryptedBytes=ce,e(null,i)):(i.map.bytes=ce,void td(i,function(ye){return ye?(ye.xhr=Te,ye.status=Te.status,e(ye,i)):void e(null,i)})))})),W.push(a)),(r=n(r=H.mergeOptions(r,{uri:o.part&&o.part.resolvedUri||o.resolvedUri,responseType:"arraybuffer",headers:qu(o)}),function u0(t){var a=t.segment,i=t.finishProcessingFn,e=t.responseType;return function(n,r){return(n=ju(n,r))?i(n,a):(n="arraybuffer"!==e&&r.responseText?function(s){for(var o=new Uint8Array(new ArrayBuffer(s.length)),u=0;u<s.length;u++)o[u]=s.charCodeAt(u);return o.buffer}(r.responseText.substring(a.lastReachedChar||0)):r.response,a.stats={bandwidth:r.bandwidth,bytesReceived:r.bytesReceived||0,roundTripTime:r.roundTripTime||0},a.key?a.encryptedBytes=new Uint8Array(n):a.bytes=new Uint8Array(n),i(null,a))}}({segment:o,finishProcessingFn:Y,responseType:r.responseType}))).addEventListener("progress",function d0(t){var a=t.segment,i=t.progressFn;return function(e){var n,r=e.target;if(!r.aborted)return a.stats=H.mergeOptions(a.stats,(r=(n=e).target,(r={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-r.requestTime||0}).bytesReceived=n.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r)),!a.stats.firstBytesReceivedAt&&a.stats.bytesReceived&&(a.stats.firstBytesReceivedAt=Date.now()),i(e,a)}}({segment:o,progressFn:m,trackInfoFn:g,timingInfoFn:w,videoSegmentTimingInfoFn:k,audioSegmentTimingInfoFn:I,id3Fn:S,captionsFn:P,isEndOfTimeline:U,endedTimelineFn:M,dataFn:q})),W.push(r);var se={};return W.forEach(function(ce){var Te,ye;ce.addEventListener("loadend",(Te=(ce={loadendState:se,abortFn:u}).loadendState,ye=ce.abortFn,function(Oe){Oe.target.aborted&&ye&&!Te.calledAbortFn&&(ye(),Te.calledAbortFn=!0)}))}),function(){return Hu(W)}}({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:r,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:u,endedTimelineFn:function(){n.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(k){var g=k.message,w=k.level;k=k.stream,n.logger_(za(e)+" logged from transmuxer stream "+k+" as a "+w+": "+g)}})},i.trimBackBuffer_=function(e){var n,r,s,o;0<(n=this.seekable_(),r=this.currentTime_(),s=this.playlist_.targetDuration||10,o=r-Nn.BACK_BUFFER_LENGTH,n.length&&(o=Math.max(o,n.start(0))),o=Math.min(r-s,o))&&this.remove(0,o)},i.createSimplifiedSegmentObj_=function(e){var s,n=e.segment,r={resolvedUri:((s=e.part)||n).resolvedUri,byterange:(s||n).byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part};return(s=e.playlist.segments[e.mediaIndex-1])&&s.timeline===n.timeline&&(s.videoTimingInfo?r.baseStartTime=s.videoTimingInfo.transmuxedDecodeEnd:s.audioTimingInfo&&(r.baseStartTime=s.audioTimingInfo.transmuxedDecodeEnd)),n.key&&(e=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]),r.key=this.segmentKey(n.key),r.key.iv=e),n.map&&(r.map=this.initSegmentForMap(n.map)),r},i.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},i.saveBandwidthRelatedStats_=function(e,n){this.pendingSegment_.byteLength=n.bytesReceived,e<1/60?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record "+1/60):(this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime)},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},i.segmentRequestFinished_=function(e,n,r){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,r));else if(this.saveTransferStats_(n.stats),this.pendingSegment_&&n.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===Xu?void 0:(this.pause(),e.code===Gu?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.saveBandwidthRelatedStats_((e=this.pendingSegment_).duration,n.stats),e.endOfAllRequests=n.endOfAllRequests,r.gopInfo&&(this.gopBuffer_=function(s,o,u){if(!o.length)return s;if(u)return o.slice();for(var m=o[0].pts,g=0;g<s.length&&!(s[g].pts>=m);g++);return s.slice(0,g).concat(o)}(this.gopBuffer_,r.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(e)}},i.setTimeMapping_=function(e){null!==(e=this.syncController_.mappingForTimeline(e))&&(this.timeMapping_=e)},i.updateMediaSecondsLoaded_=function(e){this.mediaSecondsLoaded+="number"==typeof e.start&&"number"==typeof e.end?e.end-e.start:e.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},i.trueSegmentStart_=function(w){var n=w.currentStart,r=w.playlist,s=w.mediaIndex,o=w.firstVideoFrameTimeForData,u=w.currentVideoTimestampOffset,m=w.useVideoTimingInfo,g=w.videoTimingInfo;return w=w.audioTimingInfo,typeof n<"u"?n:m?(r=r.segments[s-1],0!==s&&r&&typeof r.start<"u"&&r.end===o+u?g.start:o):w.start},i.waitForAppendsToComplete_=function(e){if(!(s=this.getCurrentMediaInfo_(e)))return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var n=s.hasAudio,r=s.hasVideo,s=s.isMuxed;if(r="main"===this.loaderType_&&r,s=!this.audioDisabled_&&n&&!s,e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);r&&e.waitingOnAppends++,s&&e.waitingOnAppends++,r&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),s&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},i.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(s){var n,r;return!(n=this.loaderType_,r=this.getCurrentMediaInfo_(),!(s="main"===n&&r&&s?s.hasAudio||s.hasVideo?r.hasVideo&&!s.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!r.hasVideo&&s.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null)||(this.error({message:s,blacklistDuration:1/0}),this.trigger("error"),0))},i.updateSourceBufferTimestampOffset_=function(e){var n;null===e.timestampOffset||"number"!=typeof e.timingInfo.start||e.changedTimestampOffset||"main"!==this.loaderType_||(n=!1,e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset"))},i.getSegmentStartTimeForTimestampOffsetCalculation_=function(s){var n=s.videoTimingInfo,r=s.audioTimingInfo;return s=s.timingInfo,this.useDtsForTimestampOffset_?n&&"number"==typeof n.transmuxedDecodeStart?n.transmuxedDecodeStart:r&&"number"==typeof r.transmuxedDecodeStart?r.transmuxedDecodeStart:s.start:s.start},i.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var n=this.getMediaInfo_();(n="main"===this.loaderType_&&n&&n.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo)&&(e.timingInfo.end="number"==typeof n.end?n.end:n.start+e.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var n=function f0(t,s){if("hls"!==s)return null;var i,e,n=(i={audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo},e=0,["video","audio"].forEach(function(u){var m,g=i[u+"TimingInfo"];g&&(u=g.start,g=g.end,"bigint"==typeof u||"bigint"==typeof g?m=window.BigInt(g)-window.BigInt(u):"number"==typeof u&&"number"==typeof g&&(m=g-u),typeof m<"u"&&e<m&&(e=m))}),e="bigint"==typeof e&&e<Number.MAX_SAFE_INTEGER?Number(e):e);if(!n)return null;var r=dd({segmentDuration:n,maxDuration:2*(o=t.playlist.targetDuration)}),o=(s=dd({segmentDuration:n,maxDuration:o}),"Segment with index "+t.mediaIndex+" from playlist "+t.playlist.id+" has a duration of "+n+" when the reported duration is "+t.duration+" and the target duration is "+o+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1");return r||s?{severity:r?"warn":"info",message:o}:null}(e,this.sourceType_);if(n&&("warn"===n.severity?H.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)){this.logger_("Appended "+za(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),n=e.part;var r=(r=e.segment).end&&this.currentTime_()-r.end>3*e.playlist.targetDuration;if(n=n&&n.end&&this.currentTime_()-n.end>3*e.playlist.partTargetDuration,r||n)return this.logger_("bad "+(r?"segment":"part")+" "+za(e)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+za(e))},i.recordThroughput_=function(e){var n,r;e.duration<1/60?this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record "+1/60):(n=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/r*8*1e3),this.throughput.rate+=(r-n)/++this.throughput.count)},i.addSegmentMetadataCue_=function(e){var n,r,s,o;this.segmentMetadataTrack_&&(r=(n=e.segment).start,o=n.end,ud(r)&&ud(o)&&(Ns(r,o,this.segmentMetadataTrack_),s=window.WebKitDataCue||window.VTTCue,e={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:r,end:o},(o=new s(r,o,JSON.stringify(e))).value=e,this.segmentMetadataTrack_.addCue(o)))},a}(H.EventTarget));function yr(){}function yd(t){return"string"!=typeof t?t:t.replace(/./,function(a){return a.toUpperCase()})}function Yu(t,a){var i=a[t+"Buffer"];return i&&i.updating||a.queuePending[t]}function Ha(t,a){if(0!==a.queue.length){var i=0,e=a.queue[i];if("mediaSource"!==e.type){if("mediaSource"!==t&&a.ready()&&"closed"!==a.mediaSource.readyState&&!Yu(t,a)){if(e.type!==t){if(null===(i=function(n,r){for(var s=0;s<r.length;s++){var o=r[s];if("mediaSource"===o.type)return null;if(o.type===n)return s}return null}(t,a.queue)))return;e=a.queue[i]}a.queue.splice(i,1),(a.queuePending[t]=e).action(t,a),e.doneFn||(a.queuePending[t]=null,Ha(t,a))}}else a.updating()||"closed"===a.mediaSource.readyState||(a.queue.shift(),e.action(a),e.doneFn&&e.doneFn(),Ha("audio",a),Ha("video",a))}}function vd(t,a){var i=a[t+"Buffer"],e=yd(t);i&&(i.removeEventListener("updateend",a["on"+e+"UpdateEnd_"]),i.removeEventListener("error",a["on"+e+"Error_"]),a.codecs[t]=null,a[t+"Buffer"]=null)}function er(t,a){return t&&a&&-1!==Array.prototype.indexOf.call(t.sourceBuffers,a)}function yi(r){var a=r.type,i=r.sourceUpdater;i.queue.push({type:a,action:r.action,doneFn:r.doneFn,name:r=r.name}),Ha(a,i)}function bd(t,a){return function(i){var e;a.queuePending[t]&&(e=a.queuePending[t].doneFn,a.queuePending[t]=null,e&&e(a[t+"Error_"])),Ha(t,a)}}function _d(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))}function Fo(t,a){t.abort(),t.pause(),a&&a.activePlaylistLoader&&(a.activePlaylistLoader.pause(),a.activePlaylistLoader=null)}function Td(t,a){(a.activePlaylistLoader=t).load()}function wd(t,a){for(var i=0;i<t.length;i++)if(Ru(a,t[i])||t[i].playlists&&wd(t[i].playlists,a))return!0;return!1}function w0(t,a,i){var e,n,r,s,o=t.masterPlaylistController_,u=o[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(o);a.attributes&&(this.width=(e=a.attributes.RESOLUTION)&&e.width,this.height=e&&e.height,this.bandwidth=a.attributes.BANDWIDTH,this.frameRate=a.attributes["FRAME-RATE"]),this.codecs=Ds(o.master(),a),this.playlist=a,this.id=i,this.enabled=(n=t.playlists,r=a.id,s=u,function(m){var g=n.master.playlists[r],w=Du(g),k=Po(g);return typeof m>"u"?k:(m?delete g.disabled:g.disabled=!0,m===k||w||(s(),n.trigger(m?"renditionenabled":"renditiondisabled")),m)})}function xd(t,a){var i=0,e=0,n=H.mergeOptions(q0,a);function r(){e&&t.currentTime(e)}function s(m){null!=m&&(e=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",r),t.src(m),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())}function o(){return Date.now()-i<1e3*n.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):n.getSource&&"function"==typeof n.getSource?(i=Date.now(),n.getSource.call(t,s)):void H.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}function u(){t.off("loadedmetadata",r),t.off("error",o),t.off("dispose",u)}t.ready(function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})}),t.on("error",o),t.on("dispose",u),t.reloadSourceOnError=function(m){u(),xd(t,m)}}var vr,x0=["video","audio"],S0=function(t,a,i){return function(e,n){var r=n[e+"Buffer"];if(er(n.mediaSource,r)){n.logger_("Appending segment "+a.mediaIndex+"'s "+t.length+" bytes to "+e+"Buffer");try{r.appendBuffer(t)}catch(s){n.logger_("Error with code "+s.code+" "+(22===s.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+a.mediaIndex+" to "+e+"Buffer"),n.queuePending[e]=null,i(s)}}}},Sd=function(t,a){return function(i,e){var n=e[i+"Buffer"];if(er(e.mediaSource,n)){e.logger_("Removing "+t+" to "+a+" from "+i+"Buffer");try{n.remove(t,a)}catch{e.logger_("Remove "+t+" to "+a+" from "+i+"Buffer failed")}}}},kd=function(t){return function(a,i){var e=i[a+"Buffer"];er(i.mediaSource,e)&&(i.logger_("Setting "+a+"timestampOffset to "+t),e.timestampOffset=t)}},Ed=function(t){return function(a,i){t()}},k0=function(t){return function(a){if("open"===a.mediaSource.readyState){a.logger_("Calling mediaSource endOfStream("+(t||"")+")");try{a.mediaSource.endOfStream(t)}catch(i){H.log.warn("Failed to call media source endOfStream",i)}}}},E0=function(t){return function(a){a.logger_("Setting mediaSource duration to "+t);try{a.mediaSource.duration=t}catch(i){H.log.warn("Failed to set media source duration",i)}}},A0=function(t,a){return function(i){var e=yd(t),n=Jr(a);i.logger_("Adding "+t+"Buffer with codec "+a+" to mediaSource"),(n=i.mediaSource.addSourceBuffer(n)).addEventListener("updateend",i["on"+e+"UpdateEnd_"]),n.addEventListener("error",i["on"+e+"Error_"]),i.codecs[t]=a,i[t+"Buffer"]=n}},I0=function(t){return function(a){var i=a[t+"Buffer"];if(vd(t,a),er(a.mediaSource,i)){a.logger_("Removing "+t+"Buffer with codec "+a.codecs[t]+" from mediaSource");try{a.mediaSource.removeSourceBuffer(i)}catch(e){H.log.warn("Failed to removeSourceBuffer "+t+"Buffer",e)}}}},M0=function(t){return function(a,i){var e=i[a+"Buffer"],n=Jr(t);if(er(i.mediaSource,e)&&i.codecs[a]!==t){i.logger_("changing "+a+"Buffer codec from "+i.codecs[a]+" to "+t);try{e.changeType(n),i.codecs[a]=t}catch(r){H.log.warn("Failed to changeType on "+a+"Buffer",r)}}}},Cd=function(t){function a(e){var n=t.call(this)||this;return n.mediaSource=e,n.sourceopenListener_=function(){return Ha("mediaSource",De(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=zi("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=bd("video",De(n)),n.onAudioUpdateEnd_=bd("audio",De(n)),n.onVideoError_=function(r){n.videoError_=r},n.onAudioError_=function(r){n.audioError_=r},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}oe(a,t);var i=a.prototype;return i.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},i.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},i.hasInitializedAnyEme=function(){return this.initializedEme_},i.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},i.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},i.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},i.addSourceBuffer=function(e,n){yi({type:"mediaSource",sourceUpdater:this,action:A0(e,n),name:"addSourceBuffer"})},i.abort=function(e){yi({type:e,sourceUpdater:this,action:function(t,a){if("open"===a.mediaSource.readyState){var i=a[t+"Buffer"];if(er(a.mediaSource,i)){a.logger_("calling abort on "+t+"Buffer");try{i.abort()}catch(e){H.log.warn("Failed to abort on "+t+"Buffer",e)}}}},name:"abort"})},i.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?yi({type:"mediaSource",sourceUpdater:this,action:I0(e),name:"removeSourceBuffer"}):H.log.error("removeSourceBuffer is not supported!")},i.canRemoveSourceBuffer=function(){return!H.browser.IE_VERSION&&!H.browser.IS_FIREFOX&&window.MediaSource&&window.MediaSource.prototype&&"function"==typeof window.MediaSource.prototype.removeSourceBuffer},a.canChangeType=function(){return window.SourceBuffer&&window.SourceBuffer.prototype&&"function"==typeof window.SourceBuffer.prototype.changeType},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(e,n){this.canChangeType()?yi({type:e,sourceUpdater:this,action:M0(n),name:"changeType"}):H.log.error("changeType is not supported!")},i.addOrChangeSourceBuffers=function(e){var n=this;if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(function(r){var s=e[r];if(!n.hasCreatedSourceBuffers())return n.addSourceBuffer(r,s);n.canChangeType()&&n.changeType(r,s)})},i.appendBuffer=function(e,n){var r=this,s=e.segmentInfo,o=e.type,u=e.bytes;if(this.processedAppend_=!0,"audio"===o&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,n]),void this.logger_("delayed audio append of "+u.length+" until video append");yi({type:o,sourceUpdater:this,action:S0(u,s||{mediaIndex:-1},n),doneFn:n,name:"appendBuffer"}),"video"===o&&(this.videoAppendQueued_=!0,this.delayedAudioAppendQueue_.length&&(o=this.delayedAudioAppendQueue_.slice(),this.logger_("queuing delayed audio "+o.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,o.forEach(function(m){r.appendBuffer.apply(r,m)})))},i.audioBuffered=function(){return er(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered||H.createTimeRange()},i.videoBuffered=function(){return er(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered||H.createTimeRange()},i.buffered=function(){var e=er(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=er(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():function(r,s){var o=null,u=null,m=0,g=[],w=[];if(!(r&&r.length&&s&&s.length))return H.createTimeRange();for(var k=r.length;k--;)g.push({time:r.start(k),type:"start"}),g.push({time:r.end(k),type:"end"});for(k=s.length;k--;)g.push({time:s.start(k),type:"start"}),g.push({time:s.end(k),type:"end"});for(g.sort(function(I,S){return I.time-S.time}),k=0;k<g.length;k++)"start"===g[k].type?2==++m&&(o=g[k].time):"end"===g[k].type&&1==--m&&(u=g[k].time),null!==o&&null!==u&&(w.push([o,u]),u=o=null);return H.createTimeRanges(w)}(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(e,n){void 0===n&&(n=yr),yi({type:"mediaSource",sourceUpdater:this,action:E0(e),name:"duration",doneFn:n})},i.endOfStream=function(e,n){void 0===n&&(n=yr),yi({type:"mediaSource",sourceUpdater:this,action:k0(e="string"!=typeof(e=void 0===e?null:e)?void 0:e),name:"endOfStream",doneFn:n})},i.removeAudio=function(e,n,r){void 0===r&&(r=yr),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?yi({type:"audio",sourceUpdater:this,action:Sd(e,n),doneFn:r,name:"remove"}):r()},i.removeVideo=function(e,n,r){void 0===r&&(r=yr),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?yi({type:"video",sourceUpdater:this,action:Sd(e,n),doneFn:r,name:"remove"}):r()},i.updating=function(){return!(!Yu("audio",this)&&!Yu("video",this))},i.audioTimestampOffset=function(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(yi({type:"audio",sourceUpdater:this,action:kd(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},i.videoTimestampOffset=function(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset!==e&&(yi({type:"video",sourceUpdater:this,action:kd(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},i.audioQueueCallback=function(e){this.audioBuffer&&yi({type:"audio",sourceUpdater:this,action:Ed(e),name:"callback"})},i.videoQueueCallback=function(e){this.videoBuffer&&yi({type:"video",sourceUpdater:this,action:Ed(e),name:"callback"})},i.dispose=function(){var e=this;this.trigger("dispose"),x0.forEach(function(n){e.abort(n),e.canRemoveSourceBuffer()?e.removeSourceBuffer(n):e[n+"QueueCallback"](function(){return vd(n,e)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},a}(H.EventTarget),Ad=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),P0=function(t){function a(){return t.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return oe(a,t),a}(Tn(Error)),O0=function(t){function a(e,n){return(n=t.call(this,e,n=void 0===n?{}:n)||this).mediaSource_=null,n.subtitlesTrack_=null,n.loaderType_="subtitle",n.featuresNativeTextTracks_=e.featuresNativeTextTracks,n.loadVttJs=e.loadVttJs,n.shouldSaveSegmentTimingInfo_=!1,n}oe(a,t);var i=a.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){return this.subtitlesTrack_&&this.subtitlesTrack_.cues&&this.subtitlesTrack_.cues.length?H.createTimeRanges([[(n=this.subtitlesTrack_.cues)[0].startTime,n=n[n.length-1].startTime]]):H.createTimeRanges();var n},i.initSegmentForMap=function(e,n){if(void 0===n&&(n=!1),!e)return null;var r=Oo(e),s=this.initSegments_[r];return n&&!s&&e.bytes&&(n=Ad.byteLength+e.bytes.byteLength,(n=new Uint8Array(n)).set(e.bytes),n.set(Ad,e.bytes.byteLength),this.initSegments_[r]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:n}),s||e},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(e){return typeof e>"u"||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},i.remove=function(e,n){Ns(e,n,this.subtitlesTrack_)},i.fillBuffer_=function(){var e=this,n=this.chooseNextRequest_();if(n){if(null===this.syncController_.timestampOffsetForTimeline(n.timeline))return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(n)}},i.timestampOffsetForSegment_=function(){return null},i.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},i.skipEmptySegments_=function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},i.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(e,n,r){var s=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(n.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===Gu&&this.handleTimeout_(),e.code===Xu?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");var u=o.segment;if(u.map&&(u.map.bytes=n.map.bytes),o.bytes=n.bytes,"function"!=typeof window.WebVTT&&"function"==typeof this.loadVttJs)return this.state="WAITING_ON_VTTJS",void this.loadVttJs().then(function(){return s.segmentRequestFinished_(e,n,r)},function(){return s.stopForError({message:"Error loading vtt.js"})});u.requested=!0;try{this.parseVTTCues_(o)}catch(m){return void this.stopForError({message:m.message})}if(this.updateTimeMapping_(o,this.syncController_.timelines[o.timeline],this.playlist_),o.timingInfo=o.cues.length?{start:o.cues[0].startTime,end:o.cues[o.cues.length-1].endTime}:{start:o.startOfSegment,end:o.startOfSegment+o.duration},o.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");o.byteLength=o.bytes.byteLength,this.mediaSecondsLoaded+=u.duration,o.cues.forEach(function(m){s.subtitlesTrack_.addCue(s.featuresNativeTextTracks_?new window.VTTCue(m.startTime,m.endTime,m.text):m)}),function(m){var g=m.cues;if(g)for(var w=0;w<g.length;w++){for(var k=[],I=0,S=0;S<g.length;S++)g[w].startTime===g[S].startTime&&g[w].endTime===g[S].endTime&&g[w].text===g[S].text&&1<++I&&k.push(g[S]);k.length&&k.forEach(function(P){return m.removeCue(P)})}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(e){var n=!1;if("function"!=typeof window.WebVTT)throw new P0;"function"==typeof window.TextDecoder?r=new window.TextDecoder("utf8"):(r=window.WebVTT.StringDecoder(),n=!0);var r=new window.WebVTT.Parser(window,window.vttjs,r);e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(o){e.timestampmap=o},r.onparsingerror=function(o){H.log.warn("Error encountered when parsing cues: "+o.message)},e.segment.map&&(s=e.segment.map.bytes,n&&(s=_d(s)),r.parse(s));var s=e.bytes;n&&(s=_d(s)),r.parse(s),r.flush()},i.updateTimeMapping_=function(e,n,r){var s,o,u=e.segment;n&&(e.cues.length?(s=(o=e.timestampmap).MPEGTS/Ao-o.LOCAL+n.mapping,e.cues.forEach(function(m){m.startTime+=s,m.endTime+=s}),r.syncInfo||(o=e.cues[0].startTime,n=e.cues[e.cues.length-1].startTime,r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(o,n-u.duration)})):u.empty=!0)},a}(Ku),Id=[{name:"VOD",run:function(t,a,i,e,n){return i===1/0?null:{time:0,segmentIndex:0,partIndex:null}}},{name:"ProgramDateTime",run:function(t,a,i,e,n){if(!Object.keys(t.timelineToDatetimeMappings).length)return null;var r=null,s=null,o=Lu(a);n=n||0;for(var u=0;u<o.length;u++){var m=o[a.endList||0===n?u:o.length-(u+1)],g=m.segment,w=t.timelineToDatetimeMappings[g.timeline];if(w&&g.dateTimeObject){var k=g.dateTimeObject.getTime()/1e3+w;if(g.parts&&"number"==typeof m.partIndex)for(var I=0;I<m.partIndex;I++)k+=g.parts[I].duration;if(w=Math.abs(n-k),null!==s&&(0===w||s<w))break;s=w,r={time:k,segmentIndex:m.segmentIndex,partIndex:m.partIndex}}}return r}},{name:"Segment",run:function(t,a,i,e,n){var r=null,s=null;n=n||0;for(var o=Lu(a),u=0;u<o.length;u++){var m=o[a.endList||0===n?u:o.length-(u+1)],g=m.segment,w=m.part&&m.part.start||g&&g.start;if(g.timeline===e&&typeof w<"u"){if(g=Math.abs(n-w),null!==s&&s<g)break;(!r||null===s||g<=s)&&(s=g,r={time:w,segmentIndex:m.segmentIndex,partIndex:m.partIndex})}}return r}},{name:"Discontinuity",run:function(t,a,i,e,n){var r=null;if(n=n||0,a.discontinuityStarts&&a.discontinuityStarts.length)for(var s=null,o=0;o<a.discontinuityStarts.length;o++){var u=a.discontinuityStarts[o],m=a.discontinuitySequence+o+1,g=t.discontinuities[m];if(g){if(m=Math.abs(n-g.time),null!==s&&s<m)break;(!r||null===s||m<=s)&&(s=m,r={time:g.time,segmentIndex:u,partIndex:null})}}return r}},{name:"Playlist",run:function(t,a,i,e,n){return a.syncInfo?{time:a.syncInfo.time,segmentIndex:a.syncInfo.mediaSequence-a.mediaSequence,partIndex:null}:null}}],L0=function(t){function a(e){var n=t.call(this)||this;return n.timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=zi("SyncController"),n}oe(a,t);var i=a.prototype;return i.getSyncPoint=function(e,n,r,s){return(r=this.runStrategies_(e,n,r,s)).length?this.selectSyncPoint_(r,{key:"time",value:s}):null},i.getExpiredTime=function(e,n){return e&&e.segments&&(n=this.runStrategies_(e,n,e.discontinuitySequence,0)).length?(0<(n=this.selectSyncPoint_(n,{key:"segmentIndex",value:0})).segmentIndex&&(n.time*=-1),Math.abs(n.time+Os({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:n.segmentIndex,endIndex:0}))):null},i.runStrategies_=function(e,n,r,s){for(var o=[],u=0;u<Id.length;u++){var m=Id[u],g=m.run(this,e,n,r,s);g&&(g.strategy=m.name,o.push({strategy:m.name,syncPoint:g}))}return o},i.selectSyncPoint_=function(e,n){for(var r=e[0].syncPoint,s=Math.abs(e[0].syncPoint[n.key]-n.value),o=e[0].strategy,u=1;u<e.length;u++){var m=Math.abs(e[u].syncPoint[n.key]-n.value);m<s&&(s=m,r=e[u].syncPoint,o=e[u].strategy)}return this.logger_("syncPoint for ["+n.key+": "+n.value+"] chosen with strategy ["+o+"]: [time:"+r.time+", segmentIndex:"+r.segmentIndex+("number"==typeof r.partIndex?",partIndex:"+r.partIndex:"")+"]"),r},i.saveExpiredSegmentInfo=function(e,n){var r=n.mediaSequence-e.mediaSequence;if(86400<r)H.log.warn("Not saving expired segment info. Media sequence gap "+r+" is too large.");else for(var s=r-1;0<=s;s--){var o=e.segments[s];if(o&&typeof o.start<"u"){n.syncInfo={mediaSequence:e.mediaSequence+s,time:o.start},this.logger_("playlist refresh sync: [time:"+n.syncInfo.time+", mediaSequence: "+n.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},i.setDateTimeMappingForStart=function(e){var n;this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject&&(e=(n=e.segments[0]).dateTimeObject.getTime()/1e3,this.timelineToDatetimeMappings[n.timeline]=-e)},i.saveSegmentTimingInfo=function(o){var n=o.segmentInfo,r=o.shouldSaveTimelineMapping,s=this.calculateSegmentTimeMapping_(n,n.timingInfo,r);o=n.segment,s&&(this.saveDiscontinuitySyncInfo_(n),n.playlist.syncInfo||(n.playlist.syncInfo={mediaSequence:n.playlist.mediaSequence+n.mediaIndex,time:o.start})),n=o.dateTimeObject,o.discontinuity&&r&&n&&(this.timelineToDatetimeMappings[o.timeline]=-n.getTime()/1e3)},i.timestampOffsetForTimeline=function(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time},i.mappingForTimeline=function(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping},i.calculateSegmentTimeMapping_=function(e,n,r){var s,o,u=e.segment,m=e.part,g=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)g={time:e.startOfSegment,mapping:e.startOfSegment-n.start},r&&(this.timelines[e.timeline]=g,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+g.time+"] [mapping: "+g.mapping+"]")),s=e.startOfSegment,o=n.end+g.mapping;else{if(!g)return!1;s=n.start+g.mapping,o=n.end+g.mapping}return m&&(m.start=s,m.end=o),(!u.start||s<u.start)&&(u.start=s),u.end=o,!0},i.saveDiscontinuitySyncInfo_=function(e){var n=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(var s=0;s<n.discontinuityStarts.length;s++){var o,u=n.discontinuityStarts[s],m=n.discontinuitySequence+s+1,g=u-e.mediaIndex,w=Math.abs(g);(!this.discontinuities[m]||this.discontinuities[m].accuracy>w)&&(o=g<0?r.start-Os({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:u}):r.end+Os({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:u}),this.discontinuities[m]={time:o,accuracy:w})}},i.dispose=function(){this.trigger("dispose"),this.off()},a}(H.EventTarget),D0=function(t){function a(){var e=t.call(this)||this;return e.pendingTimelineChanges_={},e.lastTimelineChanges_={},e}oe(a,t);var i=a.prototype;return i.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(s){var n=s.type,r=s.from;return s=s.to,"number"==typeof r&&"number"==typeof s&&(this.pendingTimelineChanges_[n]={type:n,from:r,to:s},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[n]},i.lastTimelineChange=function(s){var n=s.type,r=s.from;return s=s.to,"number"==typeof r&&"number"==typeof s&&(this.lastTimelineChanges_[n]={type:n,from:r,to:s},delete this.pendingTimelineChanges_[n],this.trigger("timelinechange")),this.lastTimelineChanges_[n]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},a}(H.EventTarget),N0=gr(Ii(an(function(){var g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t(k,I,S){return k(S={path:I,exports:{},require:function(P,U){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},S.exports),S.exports}var a=t(function(k){function I(S,P){for(var U=0;U<P.length;U++){var M=P[U];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}k.exports=function(S,P,U){return P&&I(S.prototype,P),U&&I(S,U),S},k.exports.default=k.exports,k.exports.__esModule=!0}),i=t(function(k){function I(S,P){return k.exports=I=Object.setPrototypeOf||function(U,M){return U.__proto__=M,U},k.exports.default=k.exports,k.exports.__esModule=!0,I(S,P)}k.exports=I,k.exports.default=k.exports,k.exports.__esModule=!0}),e=t(function(k){k.exports=function(I,S){I.prototype=Object.create(S.prototype),I.prototype.constructor=I,i(I,S)},k.exports.default=k.exports,k.exports.__esModule=!0}),n=function(){function k(){this.listeners={}}var I=k.prototype;return I.on=function(S,P){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push(P)},I.off=function(S,P){return!!this.listeners[S]&&(P=this.listeners[S].indexOf(P),this.listeners[S]=this.listeners[S].slice(0),this.listeners[S].splice(P,1),-1<P)},I.trigger=function(S){var P=this.listeners[S];if(P)if(2===arguments.length)for(var U=P.length,M=0;M<U;++M)P[M].call(this,arguments[1]);else for(var q=Array.prototype.slice.call(arguments,1),V=P.length,W=0;W<V;++W)P[W].apply(this,q)},I.dispose=function(){this.listeners={}},I.pipe=function(S){this.on("data",function(P){S.push(P)})},k}(),r=null,s=function(){function k(I){var S,P,U;r=r||function(){for(var ce,Te,ye,Oe,Ee,vt,He,Et=[[[],[],[],[],[]],[[],[],[],[],[]]],bt=Et[0],at=Et[1],ti=bt[4],ve=at[4],pe=[],lt=[],je=0;je<256;je++)lt[(pe[je]=je<<1^283*(je>>7))^je]=je;for(ce=Te=0;!ti[ce];ce^=ye||1,Te=lt[Te]||1)for(He=16843009*pe[Oe=pe[ye=pe[ve[ti[ce]=Ee=(Ee=Te^Te<<1^Te<<2^Te<<3^Te<<4)>>8^255&Ee^99]=ce]]]^65537*Oe^257*ye^16843008*ce,vt=257*pe[Ee]^16843008*Ee,je=0;je<4;je++)bt[je][ce]=vt=vt<<24^vt>>>8,at[je][Ee]=He=He<<24^He>>>8;for(je=0;je<5;je++)bt[je]=bt[je].slice(0),at[je]=at[je].slice(0);return Et}(),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];var M=this._tables[0][4],q=this._tables[1],V=I.length,W=1;if(4!==V&&6!==V&&8!==V)throw new Error("Invalid aes key size");var Y=I.slice(0),se=[];for(this._key=[Y,se],S=V;S<4*V+28;S++)U=Y[S-1],(S%V==0||8===V&&S%V==4)&&(U=M[U>>>24]<<24^M[U>>16&255]<<16^M[U>>8&255]<<8^M[255&U],S%V==0&&(U=U<<8^U>>>24^W<<24,W=W<<1^283*(W>>7))),Y[S]=Y[S-V]^U;for(P=0;S;P++,S--)U=Y[3&P?S:S-4],se[P]=S<=4||P<4?U:q[0][M[U>>>24]]^q[1][M[U>>16&255]]^q[2][M[U>>8&255]]^q[3][M[255&U]]}return k.prototype.decrypt=function(I,S,P,U,M,q){for(var V,W,Y,se=this._key[1],ce=I^se[0],Te=U^se[1],ye=P^se[2],Oe=S^se[3],Ee=se.length/4-2,vt=4,He=(S=this._tables[1])[0],Et=S[1],bt=S[2],at=S[3],ti=S[4],ve=0;ve<Ee;ve++)V=He[ce>>>24]^Et[Te>>16&255]^bt[ye>>8&255]^at[255&Oe]^se[vt],W=He[Te>>>24]^Et[ye>>16&255]^bt[Oe>>8&255]^at[255&ce]^se[vt+1],Y=He[ye>>>24]^Et[Oe>>16&255]^bt[ce>>8&255]^at[255&Te]^se[vt+2],Oe=He[Oe>>>24]^Et[ce>>16&255]^bt[Te>>8&255]^at[255&ye]^se[vt+3],vt+=4,ce=V,Te=W,ye=Y;for(ve=0;ve<4;ve++)M[(3&-ve)+q]=ti[ce>>>24]<<24^ti[Te>>16&255]<<16^ti[ye>>8&255]<<8^ti[255&Oe]^se[vt++],V=ce,ce=Te,Te=ye,ye=Oe,Oe=V},k}(),o=function(k){function I(){var P=k.call(this,n)||this;return P.jobs=[],P.delay=1,P.timeout_=null,P}e(I,k);var S=I.prototype;return S.processJob_=function(){this.jobs.shift()(),this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},S.push=function(P){this.jobs.push(P),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},I}(n),u=function(k){return k<<24|(65280&k)<<8|(16711680&k)>>8|k>>>24},m=function(){function k(I,S,P,U){var M=k.STEP,q=new Int32Array(I.buffer),V=new Uint8Array(I.byteLength),W=0;for(this.asyncStream_=new o,this.asyncStream_.push(this.decryptChunk_(q.subarray(W,W+M),S,P,V)),W=M;W<q.length;W+=M)P=new Uint32Array([u(q[W-4]),u(q[W-3]),u(q[W-2]),u(q[W-1])]),this.asyncStream_.push(this.decryptChunk_(q.subarray(W,W+M),S,P,V));this.asyncStream_.push(function(){var Y;U(null,(Y=V).subarray(0,Y.byteLength-Y[Y.byteLength-1]))})}return k.prototype.decryptChunk_=function(I,S,P,U){return function(){var M=function(q,V,W){for(var Y,se,ce,Te,ye=new Int32Array(q.buffer,q.byteOffset,q.byteLength>>2),Oe=new s(Array.prototype.slice.call(V)),Ee=(q=new Uint8Array(q.byteLength),new Int32Array(q.buffer)),vt=W[0],He=W[1],Et=W[2],bt=W[3],at=0;at<ye.length;at+=4)Y=u(ye[at]),se=u(ye[at+1]),ce=u(ye[at+2]),Te=u(ye[at+3]),Oe.decrypt(Y,se,ce,Te,Ee,at),Ee[at]=u(Ee[at]^vt),Ee[at+1]=u(Ee[at+1]^He),Ee[at+2]=u(Ee[at+2]^Et),Ee[at+3]=u(Ee[at+3]^bt),vt=Y,He=se,Et=ce,bt=Te;return q}(I,S,P);U.set(M,I.byteOffset)}},a(k,null,[{key:"STEP",get:function(){return 32e3}}]),k}();(g=(g=typeof window<"u"?window:typeof g<"u"?g:typeof self<"u"?self:{}).BigInt||Number)("0x1"),g("0x100"),g("0x10000"),g("0x1000000"),g("0x100000000"),g("0x10000000000"),g("0x1000000000000"),g("0x100000000000000"),g("0x10000000000000000"),self.onmessage=function(U){var I=U.data,S=new Uint8Array(I.encrypted.bytes,I.encrypted.byteOffset,I.encrypted.byteLength),P=new Uint32Array(I.key.bytes,I.key.byteOffset,I.key.byteLength/4);U=new Uint32Array(I.iv.bytes,I.iv.byteOffset,I.iv.byteLength/4),new m(S,P,U,function(M,q){self.postMessage(function w(k){var I={};return Object.keys(k).forEach(function(S){var P,U=k[S];P=U,I[S]=("function"===ArrayBuffer.isView?ArrayBuffer.isView(P):P&&P.buffer instanceof ArrayBuffer)?{bytes:U.buffer,byteOffset:U.byteOffset,byteLength:U.byteLength}:U}),I}({source:I.source,decrypted:q}),[q.buffer])})}}))),zo={AUDIO:function(t,a){return function(){var i=a.mediaTypes[t],e=a.blacklistCurrentPlaylist;Fo(r=a.segmentLoaders[t],i);var n=i.activeTrack(),r=((r=i.activeGroup()).filter(function(u){return u.default})[0]||r[0]).id,s=i.tracks[r];if(n!==s){for(var o in H.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[o].enabled=i.tracks[o]===s;i.onTrackChanged()}else e({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,a){return function(){var i=a.segmentLoaders[t],e=a.mediaTypes[t];H.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Fo(i,e),(i=e.activeTrack())&&(i.mode="disabled"),e.onTrackChanged()}}},Md={AUDIO:function(t,a,i){var e,n,r;a&&(e=i.tech,n=i.requestOptions,r=i.segmentLoaders[t],a.on("loadedmetadata",function(){var s=a.media();r.playlist(s,n),(!e.paused()||s.endList&&"none"!==e.preload())&&r.load()}),a.on("loadedplaylist",function(){r.playlist(a.media(),n),e.paused()||r.load()}),a.on("error",zo[t](t,i)))},SUBTITLES:function(t,a,i){var e=i.tech,n=i.requestOptions,r=i.segmentLoaders[t],s=i.mediaTypes[t];a.on("loadedmetadata",function(){var o=a.media();r.playlist(o,n),r.track(s.activeTrack()),(!e.paused()||o.endList&&"none"!==e.preload())&&r.load()}),a.on("loadedplaylist",function(){r.playlist(a.media(),n),e.paused()||r.load()}),a.on("error",zo[t](t,i))}},R0={AUDIO:function(t,a){var i,e,n=a.vhs,r=a.sourceType,s=a.segmentLoaders[t],o=a.requestOptions,u=a.master.mediaGroups,m=a.mediaTypes[t],g=m.groups,w=m.tracks,k=m.logger_,I=a.masterPlaylistLoader,S=Ls(I.master);for(i in u[t]&&0!==Object.keys(u[t]).length||(u[t]={main:{default:{default:!0}}},S&&(u[t].main.default.playlists=I.master.playlists)),u[t])for(var P in g[i]||(g[i]=[]),u[t][i]){var M=u[t][i][P],U=void 0;U=S?(k("AUDIO group '"+i+"' label '"+P+"' is a master playlist"),M.isMasterPlaylist=!0,null):"vhs-json"===r&&M.playlists?new qa(M.playlists[0],n,o):M.resolvedUri?new qa(M.resolvedUri,n,o):M.playlists&&"dash"===r?new Wu(M.playlists[0],n,o,I):null,M=H.mergeOptions({id:P,playlistLoader:U},M),Md[t](t,M.playlistLoader,a),g[i].push(M),typeof w[P]>"u"&&(M=new H.AudioTrack({id:P,kind:(e=void 0,e=(U=M).default?"main":"alternative",e=U.characteristics&&0<=U.characteristics.indexOf("public.accessibility.describes-video")?"main-desc":e),enabled:!1,language:M.language,default:M.default,label:P}),w[P]=M)}s.on("error",zo[t](t,a))},SUBTITLES:function(t,a){var i,e=a.tech,n=a.vhs,r=a.sourceType,s=a.segmentLoaders[t],o=a.requestOptions,u=a.master.mediaGroups,m=a.mediaTypes[t],g=m.groups,w=m.tracks,k=a.masterPlaylistLoader;for(i in u[t])for(var I in g[i]||(g[i]=[]),u[t][i])if(!u[t][i][I].forced){var S=u[t][i][I],P=void 0;if("hls"===r)P=new qa(S.resolvedUri,n,o);else if("dash"===r){if(!S.playlists.filter(function(U){return U.excludeUntil!==1/0}).length)return;P=new Wu(S.playlists[0],n,o,k)}else"vhs-json"===r&&(P=new qa(S.playlists?S.playlists[0]:S.resolvedUri,n,o));S=H.mergeOptions({id:I,playlistLoader:P},S),Md[t](t,S.playlistLoader,a),g[i].push(S),typeof w[I]>"u"&&(S=e.addRemoteTextTrack({id:I,kind:"subtitles",default:S.default&&S.autoselect,language:S.language,label:I},!1).track,w[I]=S)}s.on("error",zo[t](t,a))},"CLOSED-CAPTIONS":function(t,r){var i,e=r.tech,n=r.master.mediaGroups,s=(r=r.mediaTypes[t]).groups,o=r.tracks;for(i in n[t])for(var u in s[i]||(s[i]=[]),n[t][i]){var m,g,w=n[t][i][u];/^(?:CC|SERVICE)/.test(w.instreamId)&&(void 0===(g=(m=e.options_.vhs&&e.options_.vhs.captionServices||{})[(g={label:u,language:w.language,instreamId:w.instreamId,default:w.default&&w.autoselect}).instreamId]?H.mergeOptions(g,m[g.instreamId]):g).default&&delete g.default,s[i].push(H.mergeOptions({id:u},w)),typeof o[u]>"u"&&(g=e.addRemoteTextTrack({id:g.instreamId,kind:"captions",default:g.default,language:g.language,label:g.label},!1).track,o[u]=g))}}},B0={AUDIO:function(t,a){return function(){var i,e=a.mediaTypes[t].tracks;for(i in e)if(e[i].enabled)return e[i];return null}},SUBTITLES:function(t,a){return function(){var i,e=a.mediaTypes[t].tracks;for(i in e)if("showing"===e[i].mode||"hidden"===e[i].mode)return e[i];return null}}},U0=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],F0=function(t){function a(e){var n=t.call(this)||this,r=e.src,s=e.handleManifestRedirects,o=e.withCredentials,u=e.tech,m=e.bandwidth,g=e.externVhs,w=e.useCueTags,k=e.blacklistDuration,I=e.enableLowInitialPlaylist,S=e.sourceType,P=e.cacheEncryptionKeys,U=e.experimentalBufferBasedABR,M=e.experimentalLeastPixelDiffSelector,q=e.captionServices;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");var V,W=e.maxPlaylistRetries;return null!==W&&typeof W<"u"||(W=1/0),vr=g,n.experimentalBufferBasedABR=Boolean(U),n.experimentalLeastPixelDiffSelector=Boolean(M),n.withCredentials=o,n.tech_=u,n.vhs_=u.vhs,n.sourceType_=S,n.useCueTags_=w,n.blacklistDuration=k,n.maxPlaylistRetries=W,n.enableLowInitialPlaylist=I,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:o,handleManifestRedirects:s,maxPlaylistRetries:W,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=(V={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(Y){V[Y]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:yr,activeTrack:yr,getActiveGroup:yr,onGroupChanged:yr,onTrackChanged:yr,lastTrack_:null,logger_:zi("MediaGroups["+Y+"]")}}),V),n.mediaSource=new window.MediaSource,n.handleDurationChange_=n.handleDurationChange_.bind(De(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(De(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(De(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=H.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new L0(e),n.segmentMetadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new N0,n.sourceUpdater_=new Cd(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new D0,P={vhs:n.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:q,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:m,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:P,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:e.experimentalExactManifestTimings},n.masterPlaylistLoader_=new("dash"===n.sourceType_?Wu:qa)(r,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Ku(H.mergeOptions(P,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),e),n.audioSegmentLoader_=new Ku(H.mergeOptions(P,{loaderType:"audio"}),e),n.subtitleSegmentLoader_=new O0(H.mergeOptions(P,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise(function(Y,se){function ce(){u.off("vttjserror",Te),Y()}function Te(){u.off("vttjsloaded",ce),se()}u.one("vttjsloaded",ce),u.one("vttjserror",Te),u.addWebVttScript_()})}}),e),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",function(){return n.startABRTimer_()}),n.tech_.on("pause",function(){return n.stopABRTimer_()}),n.tech_.on("play",function(){return n.startABRTimer_()})),U0.forEach(function(Y){n[Y+"_"]=function(se){return this.audioSegmentLoader_[se]+this.mainSegmentLoader_[se]}.bind(De(n),Y)}),n.logger_=zi("MPC"),n.triggeredFmp4Usage=!1,"none"===n.tech_.preload()?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1,e="none"===n.tech_.preload()?"play":"loadstart",n.tech_.one(e,function(){var Y=Date.now();n.tech_.one("loadeddata",function(){n.timeToLoadedData__=Date.now()-Y,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends})}),n}oe(a,t);var i=a.prototype;return i.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},i.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},i.appendsToLoadedData_=function(){var e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return-1===e||-1===n?-1:e+n},i.timeToLoadedData_=function(){return this.timeToLoadedData__},i.checkABR_=function(e){void 0===e&&(e="abr");var n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,e)},i.switchMedia_=function(e,n,r){var s=(o=this.media())&&(o.id||o.uri),o=e.id||e.uri;s&&s!==o&&(this.logger_("switch media "+s+" -> "+o+" from "+n),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+n})),this.masterPlaylistLoader_.media(e,r)},i.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=window.setInterval(function(){return e.checkABR_()},250)},i.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(window.clearInterval(this.abrTimer_),this.abrTimer_=null)},i.getAudioTrackPlaylists_=function(){var e=this.master(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;var r,s=e.mediaGroups.AUDIO,o=Object.keys(s);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)r=this.mediaTypes_.AUDIO.activeTrack();else{var u,m=s.main||o.length&&s[o[0]];for(u in m)if(m[u].default){r={label:u};break}}if(!r)return n;var g,w=[];for(g in s)if(s[g][r.label]){var k=s[g][r.label];if(k.playlists&&k.playlists.length)w.push.apply(w,k.playlists);else if(k.uri)w.push(k);else if(e.playlists.length)for(var I=0;I<e.playlists.length;I++){var S=e.playlists[I];S.attributes&&S.attributes.AUDIO&&S.attributes.AUDIO===g&&w.push(S)}}return w.length?w:n},i.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var n=e.masterPlaylistLoader_.media(),r=1.5*n.targetDuration*1e3;e.requestOptions_.timeout=Nu(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?0:r,n.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(n,e.requestOptions_),e.mainSegmentLoader_.load()),function T0(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(g){R0[g](g,t)});var a,i=t.mediaTypes,e=t.masterPlaylistLoader,n=t.tech,r=t.vhs,s=t.segmentLoaders,o=s.AUDIO,u=s.main;function m(){i.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"}),n.trigger({type:"usage",name:"hls-audio-change"})}for(a in["AUDIO","SUBTITLES"].forEach(function(g){var w,k,I,S,P,U,M,q,V,W;i[g].activeGroup=(w=g,k=t,function(Y){var ce=k.mediaTypes[w].groups,Te=k.masterPlaylistLoader.media();if(!Te)return null;var ye=null;Te.attributes[w]&&(ye=ce[Te.attributes[w]]);var Oe=Object.keys(ce);if(!ye)if("AUDIO"===w&&1<Oe.length&&Ls(k.master))for(var Ee=0;Ee<Oe.length;Ee++){var vt=ce[Oe[Ee]];if(wd(vt,Te)){ye=vt;break}}else ce.main?ye=ce.main:1===Oe.length&&(ye=ce[Oe[0]]);return typeof Y>"u"?ye:null!==Y&&ye&&ye.filter(function(He){return He.id===Y.id})[0]||null}),i[g].activeTrack=B0[g](g,t),i[g].onGroupChanged=(I=g,S=t,function(){var Y=(Ee=S.segmentLoaders)[I],se=Ee.main,ce=S.mediaTypes[I],Te=ce.activeTrack(),ye=ce.getActiveGroup(),Oe=ce.activePlaylistLoader,Ee=ce.lastGroup_;ye&&Ee&&ye.id===Ee.id||(ce.lastGroup_=ye,ce.lastTrack_=Te,Fo(Y,ce),ye&&!ye.isMasterPlaylist&&(ye.playlistLoader?(Y.resyncLoader(),Td(ye.playlistLoader,ce)):Oe&&se.resetEverything()))}),i[g].onGroupChanging=(P=g,U=t,function(){var Y=U.segmentLoaders[P];U.mediaTypes[P].lastGroup_=null,Y.abort(),Y.pause()}),i[g].onTrackChanged=(M=g,q=t,function(){var Y=q.masterPlaylistLoader,ce=(se=q.segmentLoaders)[M],Te=se.main,ye=q.mediaTypes[M],Oe=ye.activeTrack(),Ee=ye.getActiveGroup(),vt=ye.activePlaylistLoader,He=ye.lastTrack_;if((!He||!Oe||He.id!==Oe.id)&&(ye.lastGroup_=Ee,ye.lastTrack_=Oe,Fo(ce,ye),Ee)){if(Ee.isMasterPlaylist){if(!Oe||!He||Oe.id===He.id)return;var Et=q.vhs.masterPlaylistController_,se=Et.selectPlaylist();return Et.media()===se?void 0:(ye.logger_("track change. Switching master audio from "+He.id+" to "+Oe.id),Y.pause(),Te.resetEverything(),void Et.fastQualityChange_(se))}if("AUDIO"===M){if(!Ee.playlistLoader)return Te.setAudio(!0),void Te.resetEverything();ce.setAudio(!0),Te.setAudio(!1)}vt!==Ee.playlistLoader&&(ce.track&&ce.track(Oe),ce.resetEverything()),Td(Ee.playlistLoader,ye)}}),i[g].getActiveGroup=(V=g,W=t.mediaTypes,function(){var Y=W[V].activeTrack();return Y?W[V].activeGroup(Y):null})}),(s=i.AUDIO.activeGroup())&&(s=(s.filter(function(g){return g.default})[0]||s[0]).id,i.AUDIO.tracks[s].enabled=!0,i.AUDIO.onGroupChanged(),i.AUDIO.onTrackChanged(),i.AUDIO.getActiveGroup().playlistLoader?(u.setAudio(!1),o.setAudio(!0)):u.setAudio(!0)),e.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(g){return i[g].onGroupChanged()})}),e.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(g){return i[g].onGroupChanging()})}),n.audioTracks().addEventListener("change",m),n.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),r.on("dispose",function(){n.audioTracks().removeEventListener("change",m),n.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),n.clearTracks("audio"),i.AUDIO.tracks)n.audioTracks().addTrack(i.AUDIO.tracks[a])}({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),n),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){e.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){e.loadOnPlay_&&e.tech_.off("play",e.loadOnPlay_);var n,r=e.masterPlaylistLoader_.media();if(!r){if(e.excludeUnsupportedVariants_(),!(n=(n=e.enableLowInitialPlaylist?e.selectInitialPlaylist():n)||e.selectPlaylist())||!e.shouldSwitchToMedia_(n)||(e.initialMedia_=n,e.switchMedia_(e.initialMedia_,"initial"),"vhs-json"!==e.sourceType_||!e.initialMedia_.segments))return;r=e.initialMedia_}e.handleUpdatedMediaPlaylist(r)}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var n=e.masterPlaylistLoader_.media(),r=1.5*n.targetDuration*1e3;e.requestOptions_.timeout=Nu(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?0:r,e.masterPlaylistLoader_.load(),e.mainSegmentLoader_.playlist(n,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var n=e.masterPlaylistLoader_.media();"playlist-unchanged"!==n.lastExcludeReason_&&e.stuckAtPlaylistEnd_(n)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},i.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(u,n){var r,s=u.mediaGroups||{},o=!0;for(r in u=Object.keys(s.AUDIO),s.AUDIO)for(var m in s.AUDIO[r])s.AUDIO[r][m].uri||(o=!1);o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),vr.Playlist.isAes(n)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),u.length&&1<Object.keys(s.AUDIO[u[0]]).length&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.shouldSwitchToMedia_=function(e){var n=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,r=this.tech_.currentTime(),s=this.bufferLowWaterLine(),o=this.bufferHighWaterLine();return function(u){var m=u.currentPlaylist,g=u.buffered,w=u.currentTime,k=u.nextPlaylist,I=u.bufferLowWaterLine,S=u.bufferHighWaterLine,P=u.duration,U=u.experimentalBufferBasedABR,M=u.log;if(!k)return H.log.warn("We received no playlist to switch to. Please check your stream."),!1;var q="allowing switch "+(m&&m.id||"null")+" -> "+k.id;return m?!(k.id===m.id||(u=Boolean(Ba(g,w).length),m.endList?(g=Pu(g,w),P<(w=U?Nn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Nn.MAX_BUFFER_LOW_WATER_LINE)?(M(q+" as duration < max low water line ("+P+" < "+w+")"),0):(w=k.attributes.BANDWIDTH)<(k=m.attributes.BANDWIDTH)&&(!U||g<S)?(m=q+" as next bandwidth < current bandwidth ("+w+" < "+k+")",U&&(m+=" and forwardBuffer < bufferHighWaterLine ("+g+" < "+S+")"),M(m),0):(!U||k<w)&&I<=g?(I=q+" as forwardBuffer >= bufferLowWaterLine ("+g+" >= "+I+")",U&&(I+=" and next bandwidth > current bandwidth ("+w+" > "+k+")"),M(I),0):(M("not "+q+" as no switching criteria met"),1)):u||"number"!=typeof m.partTargetDuration?(M(q+" as current playlist is live"),0):(M("not "+q+" as current playlist is live llhls, but currentTime isn't in buffered."),1))):(M(q+" as current playlist is not set"),!0)}({buffered:this.tech_.buffered(),currentTime:r,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:s,bufferHighWaterLine:o,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},i.setupSegmentLoaderListeners_=function(){var e=this;function n(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var r=e.getCodecsOrExclude_();r&&e.sourceUpdater_.addOrChangeSourceBuffers(r)}this.mainSegmentLoader_.on("bandwidthupdate",function(){e.checkABR_("bandwidthupdate"),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){e.experimentalBufferBasedABR&&e.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){e.logger_("main segment loader ended"),e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(r){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}),this.mainSegmentLoader_.on("trackinfo",n),this.audioSegmentLoader_.on("trackinfo",n),this.mainSegmentLoader_.on("fmp4",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()})},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},i.fastQualityChange_=function(e){var n=this;(e=void 0===e?this.selectPlaylist():e)!==this.masterPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){n.tech_.setCurrentTime(H.browser.IE_VERSION||H.browser.IS_EDGE?n.tech_.currentTime()+.04:n.tech_.currentTime())})):this.logger_("skipping fastQualityChange because new media is same as old")},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},i.setupFirstPlay=function(){var e=this,n=this.masterPlaylistLoader_.media();if(!n||this.tech_.paused()||this.hasPlayed_)return!1;if(!n.endList){var r=this.seekable();if(!r.length)return!1;if(H.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.tech_.setCurrentTime(r.end(0)),e.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(r.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){var e;this.tryToCreateSourceBuffers_(),!this.tech_.autoplay()||typeof(e=this.tech_.play())<"u"&&"function"==typeof e.then&&e.then(null,function(n){}),this.trigger("sourceopen")},i.handleSourceEnded_=function(){var e,n;!this.inbandTextTracks_.metadataTrack_||(e=this.inbandTextTracks_.metadataTrack_.cues)&&e.length&&(n=this.duration(),e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n)},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var e,n=this.mainSegmentLoader_.ended_;(n=this.mediaTypes_.AUDIO.activePlaylistLoader?((e=this.mainSegmentLoader_.getCurrentMediaInfo_())&&!e.hasVideo||n)&&this.audioSegmentLoader_.ended_:n)&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},i.stuckAtPlaylistEnd_=function(r){if(!this.seekable().length)return!1;if(null===(s=this.syncController_.getExpiredTime(r,this.duration())))return!1;var s,n=vr.Playlist.playlistEnd(r,s);return r=this.tech_.currentTime(),(s=this.tech_.buffered()).length?(s=s.end(s.length-1))-r<=.1&&n-s<=.1:n-r<=.1},i.blacklistCurrentPlaylist=function(e,n){var r=(e=void 0===e?{}:e).playlist||this.masterPlaylistLoader_.media();if(n=n||e.blacklistDuration||this.blacklistDuration,!r)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));r.playlistErrors_++;var s,o=this.masterPlaylistLoader_.master.playlists,u=o.filter(Po),m=1===u.length&&u[0]===r;return 1===o.length&&n!==1/0?(H.log.warn("Problem encountered with playlist "+r.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(m)):(m&&(s=!1,o.forEach(function(g){var w;g===r||typeof(w=g.excludeUntil)<"u"&&w!==1/0&&(s=!0,delete g.excludeUntil)}),s&&(H.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))),u=r.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*n,r.excludeUntil=u,e.reason&&(r.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),(o=this.selectPlaylist())?((n=e.internal?this.logger_:H.log.warn)((e.internal?"Internal problem":"Problem")+" encountered with playlist "+r.id+"."+(u=e.message?" "+e.message:"")+" Switching to playlist "+o.id+"."),o.attributes.AUDIO!==r.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),o.attributes.SUBTITLES!==r.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]),u=o.targetDuration/2*1e3||5e3,u="number"==typeof o.lastRequest&&Date.now()-o.lastRequest<=u,this.switchMedia_(o,"exclude",m||u)):(this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error")))},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},i.delegateLoaders_=function(e,n){var r=this,s=[],o="all"===e;!o&&"main"!==e||s.push(this.masterPlaylistLoader_);var u=[];!o&&"audio"!==e||u.push("AUDIO"),!o&&"subtitle"!==e||(u.push("CLOSED-CAPTIONS"),u.push("SUBTITLES")),u.forEach(function(m){(m=r.mediaTypes_[m]&&r.mediaTypes_[m].activePlaylistLoader)&&s.push(m)}),["main","audio","subtitle"].forEach(function(m){var g=r[m+"SegmentLoader_"];!g||e!==m&&"all"!==e||s.push(g)}),s.forEach(function(m){return n.forEach(function(g){"function"==typeof m[g]&&m[g]()})})},i.setCurrentTime=function(e){var n=Ba(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?n&&n.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:vr.Playlist.duration(e):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var r=this.syncController_.getExpiredTime(n,this.duration());if(null!==r){var s,o,u=this.masterPlaylistLoader_.master,m=vr.Playlist.seekable(n,r,vr.Playlist.liveEdgeDelay(u,n));if(0!==m.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(r=this.syncController_.getExpiredTime(n,this.duration()))||0===(e=vr.Playlist.seekable(n,r,vr.Playlist.liveEdgeDelay(u,n))).length))return;this.seekable_&&this.seekable_.length&&(s=this.seekable_.end(0),o=this.seekable_.start(0)),this.seekable_=!e||e.start(0)>m.end(0)||m.start(0)>e.end(0)?m:H.createTimeRanges([[(e.start(0)>m.start(0)?e:m).start(0),(e.end(0)<m.end(0)?e:m).end(0)]]),this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===s&&this.seekable_.start(0)===o||(this.logger_("seekable updated ["+Cc(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var n=this.seekable();return n.length?void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<n.end(n.length-1))&&this.sourceUpdater_.setDuration(n.end(n.length-1))):void 0}e=this.tech_.buffered(),n=vr.Playlist.duration(this.masterPlaylistLoader_.media()),0<e.length&&(n=Math.max(n,e.end(e.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)},i.dispose=function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(n){var r,s=e.mediaTypes_[n].groups;for(r in s)s[r].forEach(function(o){o.playlistLoader&&o.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var n=!!this.mediaTypes_.AUDIO.activePlaylistLoader,e=!!this.mainSegmentLoader_.getCurrentMediaInfo_();return n=!n||!!this.audioSegmentLoader_.getCurrentMediaInfo_(),e&&n},i.getCodecsOrExclude_=function(){var e=this,n={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},r=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();n.video=n.main;var s=Ds(this.master(),r),o={},u=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(n.main.hasVideo&&(o.video=s.video||n.main.videoCodec||"avc1.4d400d"),n.main.isMuxed&&(o.video+=","+(s.audio||n.main.audioCodec||xl)),(n.main.hasAudio&&!n.main.isMuxed||n.audio.hasAudio||u)&&(o.audio=s.audio||n.main.audioCodec||n.audio.audioCodec||xl,n.audio.isFmp4=(n.main.hasAudio&&!n.main.isMuxed?n.main:n.audio).isFmp4),o.audio||o.video){var m,g,w={};if(["video","audio"].forEach(function(I){var P;o.hasOwnProperty(I)&&!(n[I].isFmp4?Rr:ka)(P=o[I])&&(w[P=n[I].isFmp4?"browser":"muxer"]=w[P]||[],w[P].push(o[I]),"audio"===I&&(m=P))}),u&&m&&r.attributes.AUDIO&&(g=r.attributes.AUDIO,this.master().playlists.forEach(function(I){(I.attributes&&I.attributes.AUDIO)===g&&I!==r&&(I.excludeUntil=1/0)}),this.logger_("excluding audio group "+g+" as "+m+' does not support codec(s): "'+o.audio+'"')),!Object.keys(w).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var k=[];if(["video","audio"].forEach(function(I){var S=(Wn(e.sourceUpdater_.codecs[I]||"")[0]||{}).type,P=(Wn(o[I]||"")[0]||{}).type;S&&P&&S.toLowerCase()!==P.toLowerCase()&&k.push('"'+e.sourceUpdater_.codecs[I]+'" -> "'+o[I]+'"')}),k.length)return void this.blacklistCurrentPlaylist({playlist:r,message:"Codec switching not supported: "+k.join(", ")+".",blacklistDuration:1/0,internal:!0})}return o}u=Object.keys(w).reduce(function(I,S){return I&&(I+=", "),I+(S+' does not support codec(s): "')+w[S].join(",")+'"'},"")+".",this.blacklistCurrentPlaylist({playlist:r,internal:!0,message:u,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:r,message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},i.tryToCreateSourceBuffers_=function(){var e;"open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_()||(e=this.getCodecsOrExclude_())&&(this.sourceUpdater_.createSourceBuffers(e),e=[e.video,e.audio].filter(Boolean).join(","),this.excludeIncompatibleVariants_(e))},i.excludeUnsupportedVariants_=function(){var e=this,n=this.master().playlists,r=[];Object.keys(n).forEach(function(s){var o,u=n[s];-1===r.indexOf(u.id)&&(r.push(u.id),o=[],!(s=Ds(e.master,u)).audio||ka(s.audio)||Rr(s.audio)||o.push("audio codec "+s.audio),!s.video||ka(s.video)||Rr(s.video)||o.push("video codec "+s.video),s.text&&"stpp.ttml.im1t"===s.text&&o.push("text codec "+s.text),o.length&&(u.excludeUntil=1/0,e.logger_("excluding "+u.id+" for unsupported: "+o.join(", "))))})},i.excludeIncompatibleVariants_=function(o){var n=this,r=[],s=this.master().playlists,u=ad(o=Do(Wn(o))),m=o.video&&Wn(o.video)[0]||null,g=o.audio&&Wn(o.audio)[0]||null;Object.keys(s).forEach(function(w){var k,I,S=s[w];-1===r.indexOf(S.id)&&S.excludeUntil!==1/0&&(r.push(S.id),k=[],w=ad(I=Ds(n.masterPlaylistLoader_.master,S)),(I.audio||I.video)&&(w!==u&&k.push('codec count "'+w+'" !== "'+u+'"'),n.sourceUpdater_.canChangeType()||(w=I.video&&Wn(I.video)[0]||null,I=I.audio&&Wn(I.audio)[0]||null,w&&m&&w.type.toLowerCase()!==m.type.toLowerCase()&&k.push('video codec "'+w.type+'" !== "'+m.type+'"'),I&&g&&I.type.toLowerCase()!==g.type.toLowerCase()&&k.push('audio codec "'+I.type+'" !== "'+g.type+'"')),k.length&&(S.excludeUntil=1/0,n.logger_("blacklisting "+S.id+": "+k.join(" && ")))))})},i.updateAdCues_=function(e){var n=0,r=this.seekable();r.length&&(n=r.start(0)),function(s,o,u){if(void 0===u&&(u=0),s.segments)for(var m=u,g=0;g<s.segments.length;g++){var w,k,I,S=s.segments[g];if(I=I||function(P,U){for(var M=P.cues,q=0;q<M.length;q++){var V=M[q];if(U>=V.adStartTime&&U<=V.adEndTime)return V}return null}(o,m+S.duration/2)){if("cueIn"in S){I.endTime=m,I.adEndTime=m,m+=S.duration,I=null;continue}if(m<I.endTime){m+=S.duration;continue}I.endTime+=S.duration}else"cueOut"in S&&((I=new window.VTTCue(m,m+S.duration,S.cueOut)).adStartTime=m,I.adEndTime=m+parseFloat(S.cueOut),o.addCue(I)),"cueOutCont"in S&&(w=(k=S.cueOutCont.split("/").map(parseFloat))[0],k=k[1],(I=new window.VTTCue(m,m+S.duration,"")).adStartTime=m-w,I.adEndTime=I.adStartTime+k,o.addCue(I));m+=S.duration}}(e,this.cueTagsTrack_,n)},i.goalBufferLength=function(){var e=this.tech_.currentTime(),n=Nn.GOAL_BUFFER_LENGTH,r=Nn.GOAL_BUFFER_LENGTH_RATE,s=Math.max(n,Nn.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*r,s)},i.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),n=Nn.BUFFER_LOW_WATER_LINE,r=Nn.BUFFER_LOW_WATER_LINE_RATE,s=Math.max(n,Nn.MAX_BUFFER_LOW_WATER_LINE),o=Math.max(n,Nn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*r,this.experimentalBufferBasedABR?o:s)},i.bufferHighWaterLine=function(){return Nn.BUFFER_HIGH_WATER_LINE},a}(H.EventTarget),Pd=["seeking","seeked","pause","playing","error"],z0=function(){function t(i){var e=this;function n(){return e.monitorCurrentTime_()}function r(){return e.monitorCurrentTime_()}function s(){return e.techWaiting_()}function o(){return e.cancelTimer_()}this.masterPlaylistController_=i.masterPlaylistController,this.tech_=i.tech,this.seekable=i.seekable,this.allowSeeksWithinUnsafeLiveWindow=i.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=i.liveRangeSafeTimeDelta,this.media=i.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=zi("PlaybackWatcher"),this.logger_("initialize");var u=this.masterPlaylistController_,m=["main","subtitle","audio"],g={};function w(k){["main","audio"].forEach(function(I){u[I+"SegmentLoader_"][k]("appended",e.seekingAppendCheck_)})}m.forEach(function(k){g[k]={reset:function(){return e.resetSegmentDownloads_(k)},updateend:function(){return e.checkSegmentDownloads_(k)}},u[k+"SegmentLoader_"].on("appendsdone",g[k].updateend),u[k+"SegmentLoader_"].on("playlistupdate",g[k].reset),e.tech_.on(["seeked","seeking"],g[k].reset)}),this.seekingAppendCheck_=function(){e.fixesBadSeeks_()&&(e.consecutiveUpdates=0,e.lastRecordedTime=e.tech_.currentTime(),w("off"))},this.clearSeekingAppendCheck_=function(){return w("off")},this.watchForBadSeeking_=function(){e.clearSeekingAppendCheck_(),w("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(Pd,o),this.tech_.on("canplay",r),this.tech_.one("play",n),this.dispose=function(){e.clearSeekingAppendCheck_(),e.logger_("dispose"),e.tech_.off("waiting",s),e.tech_.off(Pd,o),e.tech_.off("canplay",r),e.tech_.off("play",n),e.tech_.off("seeking",e.watchForBadSeeking_),e.tech_.off("seeked",e.clearSeekingAppendCheck_),m.forEach(function(k){u[k+"SegmentLoader_"].off("appendsdone",g[k].updateend),u[k+"SegmentLoader_"].off("playlistupdate",g[k].reset),e.tech_.off(["seeked","seeking"],g[k].reset)}),e.checkCurrentTimeTimeout_&&window.clearTimeout(e.checkCurrentTimeTimeout_),e.cancelTimer_()}}var a=t.prototype;return a.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&window.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=window.setTimeout(this.monitorCurrentTime_.bind(this),250)},a.resetSegmentDownloads_=function(i){var e=this.masterPlaylistController_[i+"SegmentLoader_"];0<this[i+"StalledDownloads_"]&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=e.buffered_()},a.checkSegmentDownloads_=function(i){var e=this.masterPlaylistController_,n=e[i+"SegmentLoader_"],r=n.buffered_(),s=function(o,u){if(o===u)return!1;if(!o&&u||!u&&o||o.length!==u.length)return!0;for(var m=0;m<o.length;m++)if(o.start(m)!==u.start(m)||o.end(m)!==u.end(m))return!0;return!1}(this[i+"Buffered_"],r);this[i+"Buffered_"]=r,s?this.resetSegmentDownloads_(i):(this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:ea(r)}),this[i+"StalledDownloads_"]<10||(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),"subtitle"!==i&&e.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0)))},a.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var i=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===i&&(!e.length||i+.1>=e.end(e.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},a.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},a.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var i,e=this.seekable(),n=this.tech_.currentTime();if(this.afterSeekableWindow_(e,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(i=e.end(e.length-1)),typeof(i=this.beforeSeekableWindow_(e,n)?(s=e.start(0))+(s===e.end(0)?0:.1):i)<"u")return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Cc(e)+". Seeking to "+i+"."),this.tech_.setCurrentTime(i),!0;for(var o=this.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered(),s=o.audioBuffer?o.audioBuffered():null,u=(e=o.videoBuffer?o.videoBuffered():null,(o=this.media()).partTargetDuration||2*(o.targetDuration-ta)),m=[s,e],g=0;g<m.length;g++)if(m[g]&&Pu(m[g],n)<u)return!1;return 0!==(r=Mo(r,n)).length&&(i=r.start(0)+.1,this.logger_("Buffered region starts ("+r.start(0)+")  just beyond seek point ("+n+"). Seeking to "+i+"."),this.tech_.setCurrentTime(i),!0)},a.waiting_=function(){var i,e;this.techWaiting_()||(i=this.tech_.currentTime(),(e=Ba(e=this.tech_.buffered(),i)).length&&i+3<=e.end(0)&&(this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region ["+e.start(0)+" -> "+e.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})))},a.techWaiting_=function(){var i=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(i,e)){var n=i.end(i.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}return i=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,n=this.tech_.buffered(),this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:e})?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0):0<(i=Mo(n,e)).length&&(n=i.start(0)-e,this.logger_("Stopped at "+e+", setting timer for "+n+", seeking to "+i.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*n,e),!0)},a.afterSeekableWindow_=function(i,e,n,r){if(void 0===r&&(r=!1),!i.length)return!1;var s=i.end(i.length-1)+.1;return(s=!n.endList&&r?i.end(i.length-1)+3*n.targetDuration:s)<e},a.beforeSeekableWindow_=function(i,e){return!!(i.length&&0<i.start(0)&&e<i.start(0)-this.liveRangeSafeTimeDelta)},a.videoUnderflow_=function(i){var e,n,r=i.videoBuffered,s=i.audioBuffered,o=i.currentTime;if(r)return r.length&&s.length?(n=Ba(r,o-3),i=Ba(r,o),(s=Ba(s,o)).length&&!i.length&&n.length&&(e={start:n.end(0),end:s.end(0)})):Mo(r,o).length||(e=this.gapFromVideoUnderflow_(r,o)),!!e&&(this.logger_("Encountered a gap in video from "+e.start+" to "+e.end+". Seeking to current time "+o),!0)},a.skipTheGap_=function(i){var n=this.tech_.buffered(),e=this.tech_.currentTime();n=Mo(n,e),this.cancelTimer_(),0!==n.length&&e===i&&(this.logger_("skipTheGap_:","currentTime:",e,"scheduled currentTime:",i,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+ta),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},a.gapFromVideoUnderflow_=function(i,e){for(var n=function(u){if(u.length<2)return H.createTimeRanges();for(var m=[],g=1;g<u.length;g++){var w=u.end(g-1),k=u.start(g);m.push([w,k])}return H.createTimeRanges(m)}(i),r=0;r<n.length;r++){var s=n.start(r),o=n.end(r);if(e-s<4&&2<e-s)return{start:s,end:o}}return null},t}(),q0={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},qn={PlaylistLoader:qa,Playlist:hi,utils:Ai,STANDARD_PLAYLIST_SELECTOR:Mi,INITIAL_PLAYLIST_SELECTOR:function(){var t=this,a=this.playlists.master.playlists.filter(hi.isEnabled);return Fa(a,Vu),a.filter(function(i){return!!Ds(t.playlists.master,i).video})[0]||null},lastBandwidthSelector:Mi,movingAverageBandwidthSelector:function(t){var a=-1,i=-1;if(t<0||1<t)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var e=this.useDevicePixelRatio&&window.devicePixelRatio||1;return a<0&&(a=this.systemBandwidth,i=this.systemBandwidth),0<this.systemBandwidth&&this.systemBandwidth!==i&&(a=t*this.systemBandwidth+(1-t)*a,i=this.systemBandwidth),od(this.playlists.master,a,parseInt(No(this.tech_.el(),"width"),10)*e,parseInt(No(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:Vu,comparePlaylistResolution:function(t,a){var i,e;return(i=(i=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width?t.attributes.RESOLUTION.width:i)||window.Number.MAX_VALUE)===(e=(e=a.attributes.RESOLUTION&&a.attributes.RESOLUTION.width?a.attributes.RESOLUTION.width:e)||window.Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&a.attributes.BANDWIDTH?t.attributes.BANDWIDTH-a.attributes.BANDWIDTH:i-e},xhr:jc()};function Od(t,a){for(var i=a.media(),e=-1,n=0;n<t.length;n++)if(t[n].id===i.id){e=n;break}t.selectedIndex_=e,t.trigger({selectedIndex:e,type:"change"})}Object.keys(Nn).forEach(function(t){Object.defineProperty(qn,t,{get:function(){return H.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),Nn[t]},set:function(a){H.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof a||a<0?H.log.warn("value of Vhs."+t+" must be greater than or equal to 0"):Nn[t]=a}})});var Ld="videojs-vhs";function Dd(){if(!window.localStorage)return null;var t=window.localStorage.getItem(Ld);if(!t)return null;try{return JSON.parse(t)}catch{return null}}qn.canPlaySource=function(){return H.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},qn.supportsNativeHls=function(){if(!document||!document.createElement)return!1;var t=document.createElement("video");return!!H.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(a){return/maybe|probably/i.test(t.canPlayType(a))})}(),qn.supportsNativeDash=!!(document&&document.createElement&&H.getTech("Html5").isSupported())&&/maybe|probably/i.test(document.createElement("video").canPlayType("application/dash+xml")),qn.supportsTypeNatively=function(t){return"hls"===t?qn.supportsNativeHls:"dash"===t&&qn.supportsNativeDash},qn.isSupported=function(){return H.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Qu=function(t){function a(e,n,r){var s=t.call(this,n,H.mergeOptions(r.hls,r.vhs))||this;if(r.hls&&Object.keys(r.hls).length&&H.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),"number"==typeof r.initialBandwidth&&(s.options_.bandwidth=r.initialBandwidth),s.logger_=zi("VhsHandler"),n.options_&&n.options_.playerId&&((r=H(n.options_.playerId)).hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return H.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),De(s)},configurable:!0}),r.hasOwnProperty("vhs")||Object.defineProperty(r,"vhs",{get:function(){return H.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),De(s)},configurable:!0}),r.hasOwnProperty("dash")||Object.defineProperty(r,"dash",{get:function(){return H.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),De(s)},configurable:!0}),s.player_=r),s.tech_=n,s.source_=e,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(document,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(o){var u=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;u&&u.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}oe(a,t);var i=a.prototype;return i.setOptions_=function(){var e,n=this;this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage&&((e=Dd())&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Nn.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Nn.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(r){typeof n.source_[r]<"u"&&(n.options_[r]=n.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},i.src=function(e,n){var r=this;e&&(this.setOptions_(),this.options_.src=0===(e=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(e.substring(e.indexOf(",")+1)):e,this.options_.tech=this.tech_,this.options_.externVhs=qn,this.options_.sourceType=gs(n),this.options_.seekTo=function(s){r.tech_.setCurrentTime(s)},this.options_.smoothQualityChange&&H.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new F0(this.options_),n=H.mergeOptions({liveRangeSafeTimeDelta:.1},this.options_,{seekable:function(){return r.seekable()},media:function(){return r.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_}),this.playbackWatcher_=new z0(n),this.masterPlaylistController_.on("error",function(){var s=H.players[r.tech_.options_.playerId],o=r.masterPlaylistController_.error;"object"!=typeof o||o.code?"string"==typeof o&&(o={message:o,code:3}):o.code=3,s.error(o)}),n=this.options_.experimentalBufferBasedABR?qn.movingAverageBandwidthSelector(.55):qn.STANDARD_PLAYLIST_SELECTOR,this.masterPlaylistController_.selectPlaylist=(this.selectPlaylist||n).bind(this),this.masterPlaylistController_.selectInitialPlaylist=qn.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(s){this.masterPlaylistController_.selectPlaylist=s.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(s){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=s,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var s=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,o=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;return this.options_.useNetworkInformationApi&&o?1e7<=(o=1e3*o.downlink*1e3)&&1e7<=s?Math.max(s,o):o:s},set:function(s){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=s,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){return Math.floor(1/(1/(this.bandwidth||1)+(0<this.throughput?1/this.throughput:0)))},set:function(){H.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return r.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return r.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return r.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return r.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return r.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return ea(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return ea(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){r.options_.useBandwidthFromLocalStorage&&function(s){if(window.localStorage){var o=(o=Dd())?H.mergeOptions(o,s):s;try{window.localStorage.setItem(Ld,JSON.stringify(o))}catch{return}}}({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){var s;(s=r).representations=function(){var o;return(o=Ls(o=s.masterPlaylistController_.master())?s.masterPlaylistController_.getAudioTrackPlaylists_():o.playlists)?o.filter(function(u){return!Du(u)}).map(function(u,m){return new w0(s,u,u.id)}):[]}}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){r.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=window.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_)))},i.createKeySessions_=function(){var e=this,n=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),function H0(r){var a=r.player,i=r.sourceKeySystems,e=r.audioMedia;if(r=r.mainPlaylists,!a.eme.initializeMediaKeys)return Promise.resolve();r=r=e?r.concat([e]):r,n=Object.keys(i),r=r.reduce(function(u,m){if(!m.contentProtection)return u;var g=n.reduce(function(w,k){var I=m.contentProtection[k];return I&&I.pssh&&(w[k]={pssh:I.pssh}),w},{});return Object.keys(g).length&&u.push(g),u},[]);var n,s=[],o=[];return r.forEach(function(u){o.push(new Promise(function(m,g){a.tech_.one("keysessioncreated",m)})),s.push(new Promise(function(m,g){a.eme.initializeMediaKeys({keySystems:u},function(w){w?g(w):m()})}))}),Promise.race([Promise.all(s),Promise.race(o)])}({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:n&&n.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){e.logger_("created EME key session"),e.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(r){e.logger_("error while creating EME key session",r),e.player_.error({message:"Failed to initialize media keys for EME",code:3})})},i.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},i.setupEme_=function(){var e=this,n=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;n=function j0(t){var a=t.player;return!(!(t=function(i,e,n){if(!i)return i;var r={};e&&e.attributes&&e.attributes.CODECS&&(r=Do(Wn(e.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);var s,o=Jr(r.video),u=Jr(r.audio),m={};for(s in i)m[s]={},u&&(m[s].audioContentType=u),o&&(m[s].videoContentType=o),e.contentProtection&&e.contentProtection[s]&&e.contentProtection[s].pssh&&(m[s].pssh=e.contentProtection[s].pssh),"string"==typeof i[s]&&(m[s].url=i[s]);return H.mergeOptions(i,m)}(t.sourceKeySystems,t.media,t.audioMedia))||(a.currentSource().keySystems=t)&&!a.eme&&(H.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1))}({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:n&&n.media()}),this.player_.tech_.on("keystatuschange",function(r){var s;"output-restricted"!==r.status||(r=e.masterPlaylistController_.master())&&r.playlists&&(s=[],r.playlists.forEach(function(o){o&&o.attributes&&o.attributes.RESOLUTION&&720<=o.attributes.RESOLUTION.height&&(!o.excludeUntil||o.excludeUntil<1/0)&&(o.excludeUntil=1/0,s.push(o))}),s.length&&((r=H.log).warn.apply(r,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(s)),e.masterPlaylistController_.fastQualityChange_()))}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==H.browser.IE_VERSION&&n?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},i.setupQualityLevels_=function(){var e=this,n=H.players[this.tech_.options_.playerId];n&&n.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=n.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var r,s;r=e.qualityLevels_,(s=e).representations().forEach(function(o){r.addQualityLevel(o)}),Od(r,s.playlists)}),this.playlists.on("mediachange",function(){Od(e.qualityLevels_,e.playlists)}))},a.version=function(){return{"@videojs/http-streaming":"2.16.3","mux.js":"6.0.1","mpd-parser":"0.22.1","m3u8-parser":"4.8.0","aes-decrypter":"3.1.3"}},i.version=function(){return this.constructor.version()},i.canChangeType=function(){return Cd.canChangeType()},i.play=function(){this.masterPlaylistController_.play()},i.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},i.duration=function(){return this.masterPlaylistController_.duration()},i.seekable=function(){return this.masterPlaylistController_.seekable()},i.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&window.URL.revokeObjectURL&&(window.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),t.prototype.dispose.call(this)},i.convertToProgramTime=function(e,n){return function n0(t){var a=t.playlist,i=t.time,e=void 0===i?void 0:i;if(!(i=t.callback))throw new Error("getProgramTime: callback must be provided");return a&&void 0!==e?(t=function(n,r){if(!r||!r.segments||0===r.segments.length)return null;for(var s,o=0,u=0;u<r.segments.length&&!(n<=(o=(s=r.segments[u]).videoTimingInfo?s.videoTimingInfo.transmuxedPresentationEnd:o+s.duration));u++);var m=r.segments[r.segments.length-1];if(m.videoTimingInfo&&m.videoTimingInfo.transmuxedPresentationEnd<n)return null;if(o<n){if(n>o+.25*m.duration)return null;s=m}return{segment:s,estimatedStart:s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationStart:o-s.duration,type:s.videoTimingInfo?"accurate":"estimate"}}(e,a))?"estimate"===t.type?i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:t.estimatedStart}):(a={mediaSeconds:e},(t=function(n,r){if(!r.dateTimeObject)return null;var s=n-(r.videoTimingInfo.transmuxedPresentationStart+(s=r.videoTimingInfo.transmuxerPrependedSeconds));return new Date(r.dateTimeObject.getTime()+1e3*s)}(e,t.segment))&&(a.programDateTime=t.toISOString()),i(null,a)):i({message:"valid programTime was not found"}):i({message:"getProgramTime: playlist and time must be provided"})}({playlist:this.masterPlaylistController_.media(),time:e,callback:n})},i.seekToProgramTime=function(e,n,r,s){return void 0===r&&(r=!0),void 0===s&&(s=2),Xc({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:s,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})},a}(H.getComponent("Component")),Rs={name:"videojs-http-streaming",VERSION:"2.16.3",canHandleSource:function(t,a){return a=H.mergeOptions(H.options,a=void 0===a?{}:a),Rs.canPlayType(t.type,a)},handleSource:function(t,a,i){return i=H.mergeOptions(H.options,i=void 0===i?{}:i),a.vhs=new Qu(t,a,i),H.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return H.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),a.vhs},configurable:!0}),a.vhs.xhr=jc(),a.vhs.src(t.src,t.type),a.vhs},canPlayType:function(t,a){return(t=gs(t))?(a=Rs.getOverrideNative(a),!qn.supportsTypeNatively(t)||a?"maybe":""):""},getOverrideNative:function(a){var i=(a=void 0===a?{}:a).vhs,e=a.hls;return a=!(H.browser.IS_ANY_SAFARI||H.browser.IS_IOS),i=(void 0===i?{}:i).overrideNative,void 0!==(e=(void 0===e?{}:e).overrideNative)&&e||(void 0===i?a:i)}};return Rr("avc1.4d400d,mp4a.40.2")&&H.getTech("Html5").registerSourceHandler(Rs,0),H.VhsHandler=Qu,Object.defineProperty(H,"HlsHandler",{get:function(){return H.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Qu},configurable:!0}),H.VhsSourceHandler=Rs,Object.defineProperty(H,"HlsSourceHandler",{get:function(){return H.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Rs},configurable:!0}),H.Vhs=qn,Object.defineProperty(H,"Hls",{get:function(){return H.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),qn},configurable:!0}),H.use||(H.registerComponent("Hls",qn),H.registerComponent("Vhs",qn)),H.options.vhs=H.options.vhs||{},H.options.hls=H.options.hls||{},H.getPlugin&&H.getPlugin("reloadSourceOnError")||(H.registerPlugin||H.plugin)("reloadSourceOnError",function(t){xd(this,t)}),H}),function(){"use strict";var ae;ae=typeof window.videojs>"u"&&"function"==typeof require?require("video.js"):window.videojs,function(At,ze){var Se,$e={ui:!0},$t=ze.getComponent("MenuItem"),le=ze.extend($t,{constructor:function(Jt,Qe){Qe.selectable=!0,$t.call(this,Jt,Qe),this.src=Qe.src,Jt.on("resolutionchange",ze.bind(this,this.update))}});le.prototype.handleClick=function(Jt){$t.prototype.handleClick.call(this,Jt),this.player_.currentResolution(this.options_.label)},le.prototype.update=function(){var Jt=this.player_.currentResolution();this.selected(this.options_.label===Jt.label)},$t.registerComponent("ResolutionMenuItem",le);var ni=ze.getComponent("MenuButton"),ii=ze.extend(ni,{constructor:function(Jt,Qe){if(this.label=document.createElement("span"),Qe.label="Quality",ni.call(this,Jt,Qe),this.el().setAttribute("aria-label","Quality"),this.controlText("Quality"),Qe.dynamicLabel)ze.dom.addClass(this.label,"vjs-resolution-button-label"),this.el().appendChild(this.label);else{var re=document.createElement("span");ze.dom.addClass(re,"vjs-menu-icon"),this.el().appendChild(re)}Jt.on("updateSources",ze.bind(this,this.update))}});ii.prototype.createItems=function(){var Jt=[],Qe=this.sources&&this.sources.label||{};for(var re in Qe)Qe.hasOwnProperty(re)&&Jt.push(new le(this.player_,{label:re,src:Qe[re],selected:re===(!!this.currentSelection&&this.currentSelection.label)}));return Jt},ii.prototype.update=function(){return this.sources=this.player_.getGroupedSrc(),this.currentSelection=this.player_.currentResolution(),this.label.innerHTML=this.currentSelection?this.currentSelection.label:"",ni.prototype.update.call(this)},ii.prototype.buildCSSClass=function(){return ni.prototype.buildCSSClass.call(this)+" vjs-resolution-button"},ni.registerComponent("ResolutionMenuButton",ii),Se=function(Jt){var Qe=ze.mergeOptions($e,Jt),re=this;function Dt(ie,Ie){return ie.res&&Ie.res?+Ie.res-+ie.res:0}function Hi(ie){var Ie={label:{},res:{},type:{}};return ie.map(function(we){ji(Ie,"label",we),ji(Ie,"res",we),ji(Ie,"type",we),Yn(Ie,"label",we),Yn(Ie,"res",we),Yn(Ie,"type",we)}),Ie}function ji(ie,Ie,we){null==ie[Ie][we[Ie]]&&(ie[Ie][we[Ie]]=[])}function Yn(ie,Ie,we){ie[Ie][we[Ie]].push(we)}re.updateSrc=function(ie){if(!ie)return re.src();ie=ie.filter(function(we){try{return""!==re.canPlayType(we.type)}catch{return!0}}),this.currentSources=ie.sort(Dt),this.groupedSrc=Hi(this.currentSources);var Ie=function Nt(ie,Ie){var we=Qe.default,mt="";return"high"===we?(we=Ie[0].res,mt=Ie[0].label):"low"!==we&&null!=we&&ie.res[we]?ie.res[we]&&(mt=ie.res[we][0].label):(we=Ie[Ie.length-1].res,mt=Ie[Ie.length-1].label),{res:we,label:mt,sources:ie.res[we]}}(this.groupedSrc,this.currentSources);return this.currentResolutionState={label:Ie.label,sources:Ie.sources},re.trigger("updateSources"),re.setSourcesSanitized(Ie.sources,Ie.label),re.trigger("resolutionchange"),re},re.currentResolution=function(ie,Ie){if(null==ie)return this.currentResolutionState;if(this.groupedSrc&&this.groupedSrc.label&&this.groupedSrc.label[ie]){var we=this.groupedSrc.label[ie],mt=re.currentTime();!re.paused()&&this.player_.options_.bigPlayButton&&this.player_.bigPlayButton.hide();var kn="loadeddata";return"Youtube"!==this.player_.techName_&&"none"===this.player_.preload()&&"Flash"!==this.player_.techName_&&(kn="timeupdate"),re.setSourcesSanitized(we,ie,Ie||Qe.customSourcePicker).one(kn,function(){re.currentTime(mt),re.trigger("resolutionchange")}),re}},re.getGroupedSrc=function(){return this.groupedSrc},re.setSourcesSanitized=function(ie,Ie,we){return this.currentResolutionState={label:Ie,sources:ie},"function"==typeof we?we(re,ie,Ie):(re.src(ie.map(function(mt){return{src:mt.src,type:mt.type,res:mt.res}})),re)},re.ready(function(){if(Qe.ui){var ie=new ii(re,Qe);re.controlBar.resolutionSwitcher=re.controlBar.el_.insertBefore(ie.el_,re.controlBar.getChild("fullscreenToggle").el_),re.controlBar.resolutionSwitcher.dispose=function(){this.parentNode.removeChild(this)}}re.options_.sources.length>1&&re.updateSrc(re.options_.sources),"Youtube"===re.techName_&&function vn(ie){var Ie={highres:{res:1080,label:"1080",yt:"highres"},hd1080:{res:1080,label:"1080",yt:"hd1080"},hd720:{res:720,label:"720",yt:"hd720"},large:{res:480,label:"480",yt:"large"},medium:{res:360,label:"360",yt:"medium"},small:{res:240,label:"240",yt:"small"},tiny:{res:144,label:"144",yt:"tiny"},auto:{res:0,label:"auto",yt:"auto"}},we=function(mt,Sn,kn){return ie.tech_.ytPlayer.setPlaybackQuality(Sn[0]._yt),ie.trigger("updateSources"),ie};Qe.customSourcePicker=we,ie.tech_.ytPlayer.setPlaybackQuality("auto"),ie.tech_.ytPlayer.addEventListener("onPlaybackQualityChange",function(mt){for(var Sn in Ie)if(Sn.yt===mt.data)return void ie.currentResolution(Sn.label,we)}),ie.one("play",function(){var mt=ie.tech_.ytPlayer.getAvailableQualityLevels(),Sn=[];mt.map(function(Qn){Sn.push({src:ie.src().src,type:ie.src().type,label:Ie[Qn].label,res:Ie[Qn].res,_yt:Ie[Qn].yt})}),ie.groupedSrc=Hi(Sn);var kn={label:"auto",res:0,sources:ie.groupedSrc.label.auto};this.currentResolutionState={label:kn.label,sources:kn.sources},ie.trigger("updateSources"),ie.setSourcesSanitized(kn.sources,kn.label,we)})}(re)})},ze.registerPlugin("videoJsResolutionSwitcher",Se)}(window,ae)}(),function(ae){var At="object"==typeof window&&window||"object"==typeof self&&self;typeof exports<"u"&&!exports.nodeType?ae(exports):At&&(At.hljs=ae({}),"function"==typeof define&&define.amd&&define([],function(){return At.hljs}))}(function(ae){var At=!1,ze=[],Se=Object.keys,$e=Object.create(null),$t=Object.create(null),le=!0,ni=/^(no-?highlight|plain|text)$/i,ii=/\blang(?:uage)?-([\w-]+)\b/i,Jt=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,re="</span>",Re="Could not find the language '{}', did you forget to load/include a language module?",Kt={hideUpgradeWarningAcceptNoSupportOrSecurityUpdates:!1,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},Zt="of and for in not or if then".split(" ");function Dt(f){return f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Hi(f){return f.nodeName.toLowerCase()}function Yn(f){return ni.test(f)}function vn(f){var x,O={},J=Array.prototype.slice.call(arguments,1);for(x in f)O[x]=f[x];return J.forEach(function(te){for(x in te)O[x]=te[x]}),O}function ie(f){var x=[];return function O(J,te){for(var _e=J.firstChild;_e;_e=_e.nextSibling)3===_e.nodeType?te+=_e.nodeValue.length:1===_e.nodeType&&(x.push({event:"start",offset:te,node:_e}),te=O(_e,te),Hi(_e).match(/br|hr|img|input/)||x.push({event:"stop",offset:te,node:_e}));return te}(f,0),x}function we(f){return!!f&&(f.endsWithParent||we(f.starts))}function mt(f){return f.variants&&!f.cached_variants&&(f.cached_variants=f.variants.map(function(x){return vn(f,{variants:null},x)})),f.cached_variants?f.cached_variants:we(f)?[vn(f,{starts:f.starts?vn(f.starts):null})]:Object.isFrozen(f)?[vn(f)]:[f]}function Qn(f,x){return x?Number(x):function Vi(f){return-1!=Zt.indexOf(f.toLowerCase())}(f)?0:1}function ri(f){function x(de){return de&&de.source||de}function O(de,Rt){return new RegExp(x(de),"m"+(f.case_insensitive?"i":"")+(Rt?"g":""))}if(f.contains&&-1!=f.contains.indexOf("self")){if(!le)throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");f.contains=f.contains.filter(function(de){return"self"!=de})}!function R(de,Rt){de.compiled||(de.compiled=!0,de.keywords=de.keywords||de.beginKeywords,de.keywords&&(de.keywords=function kn(f,x){var O={};return"string"==typeof f?J("keyword",f):Se(f).forEach(function(te){J(te,f[te])}),O;function J(te,_e){x&&(_e=_e.toLowerCase()),_e.split(" ").forEach(function(R){var de=R.split("|");O[de[0]]=[te,Qn(de[0],de[1])]})}}(de.keywords,f.case_insensitive)),de.lexemesRe=O(de.lexemes||/\w+/,!0),Rt&&(de.beginKeywords&&(de.begin="\\b("+de.beginKeywords.split(" ").join("|")+")\\b"),de.begin||(de.begin=/\B|\b/),de.beginRe=O(de.begin),de.endSameAsBegin&&(de.end=de.begin),!de.end&&!de.endsWithParent&&(de.end=/\B|\b/),de.end&&(de.endRe=O(de.end)),de.terminator_end=x(de.end)||"",de.endsWithParent&&Rt.terminator_end&&(de.terminator_end+=(de.end?"|":"")+Rt.terminator_end)),de.illegal&&(de.illegalRe=O(de.illegal)),null==de.relevance&&(de.relevance=1),de.contains||(de.contains=[]),de.contains=Array.prototype.concat.apply([],de.contains.map(function(pn){return mt("self"===pn?de:pn)})),de.contains.forEach(function(pn){R(pn,de)}),de.starts&&R(de.starts,Rt),de.terminators=function _e(de){var pn,Rt={},dt=[],ot={},on=1;function Rn(Ce,tn){Rt[on]=Ce,dt.push([Ce,tn]),on+=function J(de){return new RegExp(de.toString()+"|").exec("").length-1}(tn)+1}for(var en,Me=0;Me<de.contains.length;Me++)Rn(en=de.contains[Me],en.beginKeywords?"\\.?(?:"+en.begin+")\\.?":en.begin);de.terminator_end&&Rn("end",de.terminator_end),de.illegal&&Rn("illegal",de.illegal);var gt=dt.map(function(Ce){return Ce[1]});return pn=O(function te(de,Rt){for(var pn=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,dt=0,ot="",on=0;on<de.length;on++){var Rn=dt+=1,en=x(de[on]);for(on>0&&(ot+=Rt),ot+="(";en.length>0;){var Me=pn.exec(en);if(null==Me){ot+=en;break}ot+=en.substring(0,Me.index),en=en.substring(Me.index+Me[0].length),"\\"==Me[0][0]&&Me[1]?ot+="\\"+String(Number(Me[1])+Rn):(ot+=Me[0],"("==Me[0]&&dt++)}ot+=")"}return ot}(gt,"|"),!0),ot.lastIndex=0,ot.exec=function(Ce){var tn;if(0===dt.length)return null;pn.lastIndex=ot.lastIndex;var xt=pn.exec(Ce);if(!xt)return null;for(var Wt=0;Wt<xt.length;Wt++)if(null!=xt[Wt]&&null!=Rt[""+Wt]){tn=Rt[""+Wt];break}return"string"==typeof tn?(xt.type=tn,xt.extra=[de.illegal,de.terminator_end]):(xt.type="begin",xt.rule=tn),xt},ot}(de))}(f)}function $n(f,x,O,J){(function qr(){if(Kt.hideUpgradeWarningAcceptNoSupportOrSecurityUpdates||"object"==typeof process&&"object"==typeof process.env&&process.env.HLJS_HIDE_UPGRADE_WARNING)return!0})()||At||(At=!0,console.log("Version 9 of Highlight.js has reached EOL and is no longer supported.\nPlease upgrade or ask whatever dependency you are using to upgrade.\nhttps://github.com/highlightjs/highlight.js/issues/2877"));var te=x;function R(Be,Le){if(function ji(f,x){var O=f&&f.exec(x);return O&&0===O.index}(Be.endRe,Le)){for(;Be.endsParent&&Be.parent;)Be=Be.parent;return Be}if(Be.endsWithParent)return R(Be.parent,Le)}function de(Be,Le){var Ue=gt.case_insensitive?Le[0].toLowerCase():Le[0];return Be.keywords.hasOwnProperty(Ue)&&Be.keywords[Ue]}function Rt(Be,Le,Ue,Gt){if(!Ue&&""===Le)return"";if(!Be)return Le;var ir='<span class="'+(Gt?"":Kt.classPrefix);return(ir+=Be+'">')+Le+(Ue?"":re)}function ot(){xt+=null!=Ce.subLanguage?function dt(){var Be="string"==typeof Ce.subLanguage;if(Be&&!$e[Ce.subLanguage])return Dt(Bt);var Le=Be?$n(Ce.subLanguage,Bt,!0,tn[Ce.subLanguage]):Wi(Bt,Ce.subLanguage.length?Ce.subLanguage:void 0);return Ce.relevance>0&&(Xi+=Le.relevance),Be&&(tn[Ce.subLanguage]=Le.top),Rt(Le.language,Le.value,!1,!0)}():function pn(){var Be,Le,Ue,Gt;if(!Ce.keywords)return Dt(Bt);for(Gt="",Le=0,Ce.lexemesRe.lastIndex=0,Ue=Ce.lexemesRe.exec(Bt);Ue;)Gt+=Dt(Bt.substring(Le,Ue.index)),(Be=de(Ce,Ue))?(Xi+=Be[1],Gt+=Rt(Be[0],Dt(Ue[0]))):Gt+=Dt(Ue[0]),Le=Ce.lexemesRe.lastIndex,Ue=Ce.lexemesRe.exec(Bt);return Gt+Dt(Bt.substr(Le))}(),Bt=""}function on(Be){xt+=Be.className?Rt(Be.className,"",!0):"",Ce=Object.create(Be,{parent:{value:Ce}})}function en(Be){var Le=Be[0],Ue=te.substr(Be.index),Gt=R(Ce,Ue);if(Gt){var Je=Ce;Je.skip?Bt+=Le:(Je.returnEnd||Je.excludeEnd||(Bt+=Le),ot(),Je.excludeEnd&&(Bt=Le));do{Ce.className&&(xt+=re),!Ce.skip&&!Ce.subLanguage&&(Xi+=Ce.relevance),Ce=Ce.parent}while(Ce!==Gt.parent);return Gt.starts&&(Gt.endSameAsBegin&&(Gt.starts.endRe=Gt.endRe),on(Gt.starts)),Je.returnEnd?0:Le.length}}var Me={};function Vt(Be,Le){var Ue=Le&&Le[0];if(Bt+=Be,null==Ue)return ot(),0;if("begin"==Me.type&&"end"==Le.type&&Me.index==Le.index&&""===Ue||"illegal"===Me.type&&""===Ue)return Bt+=te.slice(Le.index,Le.index+1),1;if(Me=Le,"begin"===Le.type)return function Rn(Be){var Le=Be[0],Ue=Be.rule;return Ue&&Ue.endSameAsBegin&&(Ue.endRe=function _e(Be){return new RegExp(Be.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}(Le)),Ue.skip?Bt+=Le:(Ue.excludeBegin&&(Bt+=Le),ot(),!Ue.returnBegin&&!Ue.excludeBegin&&(Bt=Le)),on(Ue),Ue.returnBegin?0:Le.length}(Le);if("illegal"===Le.type&&!O)throw new Error('Illegal lexeme "'+Ue+'" for mode "'+(Ce.className||"<unnamed>")+'"');if("end"===Le.type){var Gt=en(Le);if(null!=Gt)return Gt}return Bt+=Ue,Ue.length}var gt=qe(f);if(!gt)throw console.error(Re.replace("{}",f)),new Error('Unknown language: "'+f+'"');ri(gt);var Wt,Ce=J||gt,tn={},xt="";for(Wt=Ce;Wt!==gt;Wt=Wt.parent)Wt.className&&(xt=Rt(Wt.className,"",!0)+xt);var Bt="",Xi=0;try{for(var tr,nr,Li=0;Ce.terminators.lastIndex=Li,tr=Ce.terminators.exec(te);)nr=Vt(te.substring(Li,tr.index),tr),Li=tr.index+nr;for(Vt(te.substr(Li)),Wt=Ce;Wt.parent;Wt=Wt.parent)Wt.className&&(xt+=re);return{relevance:Xi,value:xt,illegal:!1,language:f,top:Ce}}catch(Be){if(Be.message&&-1!==Be.message.indexOf("Illegal"))return{illegal:!0,relevance:0,value:Dt(te)};if(le)return{relevance:0,value:Dt(te),language:f,top:Ce,errorRaised:Be};throw Be}}function Wi(f,x){x=x||Kt.languages||Se($e);var O={relevance:0,value:Dt(f)},J=O;return x.filter(qe).filter(wi).forEach(function(te){var _e=$n(te,f,!1);_e.language=te,_e.relevance>J.relevance&&(J=_e),_e.relevance>O.relevance&&(J=O,O=_e)}),J.language&&(O.second_best=J),O}function Pi(f){return Kt.tabReplace||Kt.useBR?f.replace(Jt,function(x,O){return Kt.useBR&&"\n"===x?"<br>":Kt.tabReplace?O.replace(/\t/g,Kt.tabReplace):""}):f}function jt(f){var x,O,J,te,_e,R=function Nt(f){var x,O,J,te,_e=f.className+" ";if(O=ii.exec(_e+=f.parentNode?f.parentNode.className:"")){var R=qe(O[1]);return R||(console.warn(Re.replace("{}",O[1])),console.warn("Falling back to no-highlight mode for this block.",f)),R?O[1]:"no-highlight"}for(x=0,J=(_e=_e.split(/\s+/)).length;x<J;x++)if(Yn(te=_e[x])||qe(te))return te}(f);Yn(R)||(Kt.useBR?(x=document.createElement("div")).innerHTML=f.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):x=f,_e=x.textContent,J=R?$n(R,_e,!0):Wi(_e),(O=ie(x)).length&&((te=document.createElement("div")).innerHTML=J.value,J.value=function Ie(f,x,O){var J=0,te="",_e=[];function R(){return f.length&&x.length?f[0].offset!==x[0].offset?f[0].offset<x[0].offset?f:x:"start"===x[0].event?f:x:f.length?f:x}function de(ot){te+="<"+Hi(ot)+ze.map.call(ot.attributes,function on(Rn){return" "+Rn.nodeName+'="'+Dt(Rn.value).replace(/"/g,"&quot;")+'"'}).join("")+">"}function Rt(ot){te+="</"+Hi(ot)+">"}function pn(ot){("start"===ot.event?de:Rt)(ot.node)}for(;f.length||x.length;){var dt=R();if(te+=Dt(O.substring(J,dt[0].offset)),J=dt[0].offset,dt===f){_e.reverse().forEach(Rt);do{pn(dt.splice(0,1)[0]),dt=R()}while(dt===f&&dt.length&&dt[0].offset===J);_e.reverse().forEach(de)}else"start"===dt[0].event?_e.push(dt[0].node):_e.pop(),pn(dt.splice(0,1)[0])}return te+Dt(O.substr(J))}(O,ie(te),_e)),J.value=Pi(J.value),f.innerHTML=J.value,f.className=function In(f,x,O){var J=x?$t[x]:O,te=[f.trim()];return f.match(/\bhljs\b/)||te.push("hljs"),-1===f.indexOf(J)&&te.push(J),te.join(" ").trim()}(f.className,R,J.language),f.result={language:J.language,re:J.relevance},J.second_best&&(f.second_best={language:J.second_best.language,re:J.second_best.relevance}))}function _i(){if(!_i.called){_i.called=!0;var f=document.querySelectorAll("pre code");ze.forEach.call(f,jt)}}var fi={disableAutodetect:!0};function qe(f){return f=(f||"").toLowerCase(),$e[f]||$e[$t[f]]}function wi(f){var x=qe(f);return x&&!x.disableAutodetect}function ct(f){Object.freeze(f);var x="function"==typeof f;return Object.getOwnPropertyNames(f).forEach(function(O){f.hasOwnProperty(O)&&null!==f[O]&&("object"==typeof f[O]||"function"==typeof f[O])&&(!x||"caller"!==O&&"callee"!==O&&"arguments"!==O)&&!Object.isFrozen(f[O])&&ct(f[O])}),f}return ae.highlight=$n,ae.highlightAuto=Wi,ae.fixMarkup=Pi,ae.highlightBlock=jt,ae.configure=function bi(f){Kt=vn(Kt,f)},ae.initHighlighting=_i,ae.initHighlightingOnLoad=function Ti(){window.addEventListener("DOMContentLoaded",_i,!1),window.addEventListener("load",_i,!1)},ae.registerLanguage=function Oi(f,x){var O;try{O=x(ae)}catch(J){if(console.error("Language definition for '{}' could not be registered.".replace("{}",f)),!le)throw J;console.error(J),O=fi}$e[f]=O,O.rawDefinition=x.bind(null,ae),O.aliases&&O.aliases.forEach(function(J){$t[J]=f})},ae.listLanguages=function xr(){return Se($e)},ae.getLanguage=qe,ae.requireLanguage=function Sr(f){var x=qe(f);if(x)return x;throw new Error("The '{}' language is required, but not loaded.".replace("{}",f))},ae.autoDetection=wi,ae.inherit=vn,ae.debugMode=function(){le=!1},ae.IDENT_RE="[a-zA-Z]\\w*",ae.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",ae.NUMBER_RE="\\b\\d+(\\.\\d+)?",ae.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",ae.BINARY_NUMBER_RE="\\b(0b[01]+)",ae.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",ae.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},ae.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[ae.BACKSLASH_ESCAPE]},ae.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[ae.BACKSLASH_ESCAPE]},ae.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},ae.COMMENT=function(f,x,O){var J=ae.inherit({className:"comment",begin:f,end:x,contains:[]},O||{});return J.contains.push(ae.PHRASAL_WORDS_MODE),J.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),J},ae.C_LINE_COMMENT_MODE=ae.COMMENT("//","$"),ae.C_BLOCK_COMMENT_MODE=ae.COMMENT("/\\*","\\*/"),ae.HASH_COMMENT_MODE=ae.COMMENT("#","$"),ae.NUMBER_MODE={className:"number",begin:ae.NUMBER_RE,relevance:0},ae.C_NUMBER_MODE={className:"number",begin:ae.C_NUMBER_RE,relevance:0},ae.BINARY_NUMBER_MODE={className:"number",begin:ae.BINARY_NUMBER_RE,relevance:0},ae.CSS_NUMBER_MODE={className:"number",begin:ae.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},ae.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[ae.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[ae.BACKSLASH_ESCAPE]}]},ae.TITLE_MODE={className:"title",begin:ae.IDENT_RE,relevance:0},ae.UNDERSCORE_TITLE_MODE={className:"title",begin:ae.UNDERSCORE_IDENT_RE,relevance:0},ae.METHOD_GUARD={begin:"\\.\\s*"+ae.UNDERSCORE_IDENT_RE,relevance:0},[ae.BACKSLASH_ESCAPE,ae.APOS_STRING_MODE,ae.QUOTE_STRING_MODE,ae.PHRASAL_WORDS_MODE,ae.COMMENT,ae.C_LINE_COMMENT_MODE,ae.C_BLOCK_COMMENT_MODE,ae.HASH_COMMENT_MODE,ae.NUMBER_MODE,ae.C_NUMBER_MODE,ae.BINARY_NUMBER_MODE,ae.CSS_NUMBER_MODE,ae.REGEXP_MODE,ae.TITLE_MODE,ae.UNDERSCORE_TITLE_MODE,ae.METHOD_GUARD].forEach(function(f){ct(f)}),ae});